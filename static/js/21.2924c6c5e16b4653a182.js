(window.webpackJsonp=window.webpackJsonp||[]).push([[21,65,84,85],{CGF6:function(e,t,a){},DFeN:function(e,t,a){"use strict";a("CGF6")},LUaO:function(e,t,a){"use strict";a.r(t);var i={name:"Detail",components:{Upload:a("UtOM").default},props:{justLook:{type:Boolean,default:!1},doStatus:{type:Boolean,default:!1},changeStatus:{type:Boolean,default:!1},areaSelected:{type:Object,default:function(){}},options:{type:Array,default:function(){return[]}},dialogVisible:{type:Boolean,default:!1},isNewAdd:{type:Boolean,default:!0},selectedData:{type:Object,default:function(){}}},data:function(){return{enable:[{label:"启用",value:"Y"},{label:"不启用",value:"N"}],ruleForm2:this.selectedData,noshowArae:!0,topId:"",pID:this.parentId,visible:this.dialogVisible,rules:{upFile:this.$rules.validate("请上传核酸报告")}}},mounted:function(){},methods:{changeSite:function(){var e=this;setTimeout((function(){e.$refs.cascaderHandle.dropDownVisible=!1}))},changeTree:function(e){var t=this,a=[];!function e(i){return i.forEach((function(i,l){i.label=i.portName,i.value=i.guid,i.level-0==2&&(i.disabled=!0),t.ruleForm2.guid&&t.ruleForm2.guid===i.guid&&(i.disabled=!0),!1===i.isChange&&(i.disabled=!0),i.children&&i.children.length&&e(i.children),a.push(i)})),a}(e)},closeCallback:function(){this.$emit("editCallback")},submitForm:function(e){var t=this;this.$refs.ruleForm.validate((function(e){e&&t.$request.uploadReportImage({upFile:t.$refs.file.file}).then((function(e){t.$message({type:"success",message:"添加成功！"}),t.closeCallback(),t.$emit("getTableData")}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},l=(a("kLrm"),a("KHd+")),o=Object(l.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"close-on-click-modal":!e.ruleForm2.guid,visible:e.visible,width:"800px","destroy-on-close":""},on:{"update:visible":function(t){e.visible=t},close:e.closeCallback}},[a("el-form",{ref:"ruleForm",staticClass:"addArea",attrs:{model:e.ruleForm2,rules:e.rules,disabled:e.doStatus||e.justLook,"status-icon":"","label-width":"140px"}},[a("el-form-item",{attrs:{label:"核酸结果照片",prop:"upFile"}},[a("Upload",{ref:"file",model:{value:e.ruleForm2.upFile,callback:function(t){e.$set(e.ruleForm2,"upFile",t)},expression:"ruleForm2.upFile"}})],1)],1),e._v(" "),a("div",{staticClass:"btns",staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.closeCallback}},[e._v("取消")])],1)],1)}),[],!1,null,"719756a0",null);t.default=o.exports},Mmru:function(e,t,a){"use strict";a("doK8")},OOD5:function(e,t,a){"use strict";a.r(t);var i=a("WeG5"),l=a("LUaO"),o=a("Qyje"),s=a.n(o),n={name:"NucleinPage",components:{Search:i.default,Detail:l.default},data:function(){return{selectedData:{},dialogVisible:!1,options:[{value:"I",label:"园区运营企业"},{value:"O",label:"货代公司"},{value:"P",label:"仓储企业"}],input1:"",imgUrlVisible:!1,searchUser:"",selectList:"",dialogPassVisible:!1,tableData:[],totalNum:0,pageSize:localStorage.getItem("pageSize")-0||10,pageNow:1,searchUserOptions:[{label:"在线",text:"在线",value:"Online"},{label:"离线",text:"离线",value:"Offline"},{label:"锁定",text:"锁定",value:"Locked"}],doStatus:!1,areaTree:[],addDisabled:!1,addUserProp:{},addProp:{},isNewAdd:!0,justLook:!1,outTypes:[],imgUrl:""}},created:function(){var e=this;setTimeout((function(){e.tableData=[{guid:"612836F1EABA8471E08F34FC",licensePlate:"YUN-4352",outcomeResultTime:1644920823e3,productName:"盛世",receiptTime:1644920826e3,reportImagePath:"RDpcZGF0YVx3ZWJcdXBsb2FkXHVwbG9hZE51Y2xlaWNJbWFnZVwyMDIyLTAyLTE1XDIwMjIwMjE1MTgyNTE1NTIxLnBuZw==",reportNo:"5464565875764546",samplingOperator:"张三",samplingTime:1644920828e3},{guid:"612836F1EABA8471E08F34FC",licensePlate:"YUN-4352",outcomeResultTime:1644920823e3,productName:"冰墩墩",receiptTime:1644920826e3,reportImagePath:"RDpcZGF0YVx3ZWJcdXBsb2FkXHVwbG9hZE51Y2xlaWNJbWFnZVwyMDIyLTAyLTE1XDIwMjIwMjE1MTgyNTE1NTIxLnBuZw==",reportNo:"5464565875764546",samplingOperator:"雪融融",samplingTime:1644920828e3}]}))},methods:{editAction:function(e){var t=this;this.tableData.forEach((function(a,i){a.guid===e.guid&&t.$set(t.tableData,i,e)}))},editCallback:function(){this.dialogVisible=!1},handleClickShenhe:function(e){this.selectedData=this.copySimple(e),this.dialogVisible=!0,this.doStatus=!0},handleClickShow2:function(e){console.log(this.$getImgUrl("/epc/nucleic/getReportImage?"+s.a.stringify({guid:e.guid}))),this.imgUrl=this.$getImgUrl("/epc/nucleic/getReportImage?"+s.a.stringify({guid:e.guid})),this.imgUrlVisible=!0},arrayBufferToBase64:function(e){for(var t="",a=new Uint8Array(e),i=a.byteLength,l=0;l<i;l++)t+=String.fromCharCode(a[l]);return window.btoa(t)},handleEdit:function(e){this.selectedData=this.copySimple(e),this.dialogVisible=!0},addNewRoom:function(){this.selectedData={},this.dialogVisible=!0},changeMenu:function(e,t,a){},filterType:function(e,t){return t.userState===e},handleCurrentChange:function(e){this.pageNow=e,this.getTableData()},getTableData:function(){var e=this;this.$request.getEpcNucleicAcidListByPage({data:{data:this.input1},size:this.pageSize,current:this.pageNow}).then((function(t){e.tableData=t.data.data,e.totalNum=t.data.total}))},filterTag:function(e,t){return t.inOutType===e},handleClickShow:function(e){this.justLook=!0,this.addProp=e,this.dialogPassVisible=!0},handleClickEdit:function(e){this.justLook=!1,this.addProp=e,this.dialogPassVisible=!0},handleClickDelete:function(e){var t=this;this.$confirm("确定删除？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){var a=[];a.push(e.guid),t.$request.deleteUser(a).then((function(a){t.$message({message:"删除成功!",type:"success"});var i=[];t.tableData.forEach((function(t,a){t!==e&&i.push(t)})),t.tableData=i}))})).catch((function(e){}))},searchAction:function(e){this.input1=e,console.log(e,1111),this.pageNow=1,this.getTableData()},clearUp:function(){this.input1="",this.searchUser="",this.pageNow=1,this.getTableData()}}},r=(a("qTuZ"),a("KHd+")),c=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Search",{attrs:{options:e.options},on:{searchAction:e.searchAction,clearUp:e.clearUp,addNewRoom:e.addNewRoom}}),e._v(" "),a("div",{},[a("div",{staticClass:"dataTable"},[a("el-table",{ref:"tableAutoMaxHeight",attrs:{"max-height":e.tableMaxHeight,data:e.tableData,size:"small"}},[a("el-table-column",{attrs:{prop:"reportNo",label:"报告编号","show-overflow-tooltip":"",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"samplingOperator",label:"取样人","show-overflow-tooltip":"",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"licensePlate",label:"车牌号","show-overflow-tooltip":"",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"productName","show-overflow-tooltip":"",label:"产品名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"receiptTime",label:"接收时间","show-overflow-tooltip":"",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.$getLocalTime(t.row.receiptTime))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"samplingTime",label:"取样时间",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.$getLocalTime(t.row.samplingTime))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"outcomeResultTime",label:"出结果时间","show-overflow-tooltip":"",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.$getLocalTime(t.row.outcomeResultTime))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nucleicResult","show-overflow-tooltip":"",label:"核酸结果",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("Icon",{directives:[{name:"stat",rawName:"v-stat",value:"look",expression:"'look'"}],attrs:{icon:"icon-chakan1",tip:"查看"},nativeOn:{click:function(a){return e.handleClickShow2(t.row)}}})]}}])})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.imgUrlVisible,title:"提示",center:"",width:"65%"},on:{"update:visible":function(t){e.imgUrlVisible=t}}},[a("img",{attrs:{src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fci.xiaohongshu.com%2Ffd305114-129f-0cec-d66c-2db117aebee2%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&refer=http%3A%2F%2Fci.xiaohongshu.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1648027478&t=49475030c48979d50fabbc737f44e56c"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.imgUrlVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.imgUrlVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),e.dialogVisible?a("Detail",{attrs:{options:e.options,"dialog-visible":e.dialogVisible,"selected-data":e.selectedData,"do-status":e.doStatus,"just-look":e.justLook},on:{getTableData:e.getTableData,editAction:e.editAction,editCallback:e.editCallback}}):e._e(),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pageNow,"page-size":e.pageSize,total:e.totalNum,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.pageNow=t},"update:current-page":function(t){e.pageNow=t},"size-change":e.$handleSizeChange,"current-change":e.handleCurrentChange}})],1)}),[],!1,null,"751492f9",null);t.default=c.exports},UtOM:function(e,t,a){"use strict";a.r(t);var i={props:{disabledUpload:{type:Boolean,default:!1},value:{type:String,default:""}},data:function(){return{fileNow:this.value,dialogImageUrl:"",dialogVisible:!1,disabled:!1,file:null}},methods:{changeFile:function(e,t){var a=e.target.files[0];a&&(this.file=a,this.fileNow=URL.createObjectURL(a),this.$emit("input",URL.createObjectURL(a)))},handleRemove:function(e){console.log(e)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){console.log(e)}}},l=(a("Mmru"),a("KHd+")),o=Object(l.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"uploadWrapComponey"},[this.fileNow?t("el-image",{staticClass:"imgView",attrs:{src:this.fileNow}}):t("div",{staticClass:"plusWrap"},[t("i",{staticClass:"el-icon-plus plus"})]),this._v(" "),this.disabledUpload?this._e():t("input",{ref:"files",staticClass:"uploadInput",attrs:{type:"file",accept:"image/*"},on:{change:this.changeFile}})],1)}),[],!1,null,"0f095466",null);t.default=o.exports},WeG5:function(e,t,a){"use strict";a.r(t);var i={name:"Search",props:{options:{type:Array,default:[]}},data:function(){var e=this;return{areaLevel:[{value:"1",label:"1级"},{value:"2",label:"2级"}],pickerOptionsStart:{disabledDate:function(t){var a=e.searchPoint.samplingTimeEnd;if(a)return t.getTime()>new Date(a).getTime()}},pickerOptionsEnd:{disabledDate:function(t){var a=e.searchPoint.samplingTimeStart;if(a)return t.getTime()<new Date(a).getTime()||t.getTime()>Date.now()-864e5}},searchPoint:{samplingOperator:"",productName:"",licensePlate:"",reportNo:"",samplingTimeStart:new Date((new Date).getTime()-6048e5),samplingTimeEnd:new Date}}},methods:{clearUp:function(){console.log("clearUp"),this.searchPoint={samplingOperator:"",productName:"",licensePlate:"",reportNo:"",samplingTimeStart:"",samplingTimeEnd:""},this.$emit("clearUp")},searchAction:function(){this.$emit("searchAction",this.searchPoint)},addNewRole:function(){this.$emit("addNewRoom")}}},l=(a("DFeN"),a("KHd+")),o=Object(l.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"searchBox2 searchBox"},[a("el-form",{attrs:{model:e.searchPoint,inline:"","label-width":"80px"}},[a("el-form-item",{attrs:{label:"取样人:"}},[a("el-input",{attrs:{placeholder:"请输入取样人"},model:{value:e.searchPoint.samplingOperator,callback:function(t){e.$set(e.searchPoint,"samplingOperator",t)},expression:"searchPoint.samplingOperator"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品名称:"}},[a("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.searchPoint.productName,callback:function(t){e.$set(e.searchPoint,"productName",t)},expression:"searchPoint.productName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车牌号:"}},[a("el-input",{attrs:{placeholder:"请输入车牌号"},model:{value:e.searchPoint.licensePlate,callback:function(t){e.$set(e.searchPoint,"licensePlate",t)},expression:"searchPoint.licensePlate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"报告编号:"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.searchPoint.reportNo,callback:function(t){e.$set(e.searchPoint,"reportNo",t)},expression:"searchPoint.reportNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"查询时间:"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["12:00:00"]},model:{value:e.searchPoint.value1,callback:function(t){e.$set(e.searchPoint,"value1",t)},expression:"searchPoint.value1"}})],1),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.searchAction}},[e._v("搜索")]),e._v(" "),a("FormButton",{attrs:{type:"clear"},on:{click:e.clearUp}},[e._v("清空")]),e._v(" "),a("FormButton",{attrs:{type:"add"},on:{click:e.addNewRole}},[e._v("添加")])],1)],1)],1)])}),[],!1,null,"b98a1110",null);t.default=o.exports},Yzl8:function(e,t,a){},Zr3x:function(e,t,a){},doK8:function(e,t,a){},kLrm:function(e,t,a){"use strict";a("Yzl8")},qTuZ:function(e,t,a){"use strict";a("Zr3x")}}]);