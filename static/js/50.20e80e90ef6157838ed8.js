(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{HiiQ:function(t,e,a){"use strict";a.r(e);var i=a("iGeD"),n=a("zh8K"),o=a("i3r1"),s=a("uf7H"),r={name:"entryExit",mixins:[s.b,s.e,s.g],data:function(){return{typeNow:1,showName:"table",inputObj:{},tableData:[],tableDataList:[],tableTitles:[]}},mounted:function(){this.getData()},methods:{changeShowName:function(){},getData:function(){var t=this;if(!this.inputObj.startTime||!this.inputObj.endTime){var e=this.$getTimestam("666");this.inputObj.startTime=e[0],this.inputObj.endTime=e[1]}this.inputObj.statisticType||(this.inputObj.statisticType="4"),this.$request.getEntryExit(this.inputObj).then((function(e){t.tableData=e.data,t.delTableData(t.copySimple(e.data))}))},changeShowType:function(t){this.typeNow!=t&&(this.typeNow=t,this.delTableData(this.tableData))},delTableData:function(t){var e=this,a=[],i=[""];t.forEach((function(t,n){var o={};if(o.titleName=t.titleName,t.statisticsList&&t.statisticsList.length){var s=1;t.statisticsList.forEach((function(t,a){0===n&&i.push(t.timeSlot),1===e.typeNow?o["count"+s]=t.totalAmount:o["count"+s]=t.avgTime,s=s-0+1})),a.push(o)}})),this.tableTitles=i,this.tableDataList=a,console.log(i),console.log(a)},clearUp:function(){this.inputObj={},this.getData()},searchAction:function(t){this.inputObj=t,t.portOneId&&(t.portOneId.length||delete t.portOneId),t.portTwoId&&(t.portTwoId.length||delete t.portTwoId),this.inputObj.startTime=t.pickTime[0],this.inputObj.endTime=t.pickTime[1],this.getData()},downloadAction:function(t){this.inputObj=t,this.inputObj.startTime=t.pickTime[0],this.inputObj.endTime=t.pickTime[1],this.inputObj.portOneId&&"[object Array]"===Object.prototype.toString.call(this.inputObj.portOneId)&&this.inputObj.portOneId.length&&(this.inputObj.portOneId=this.inputObj.portOneId[0]),this.inputObj.portTwoId&&"[object Array]"===Object.prototype.toString.call(this.inputObj.portTwoId)&&this.inputObj.portTwoId.length&&(this.inputObj.portTwoId=this.inputObj.portTwoId[0]),this.$request.downloadEntryExit(this.inputObj)}},components:{Search:i.a,entryExitChart:n.a,entryExitBar:o.a}},l=a("KHd+"),p=Object(l.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Search",{attrs:{mixIncarOption2:t.mixIncarOption2,mixinEntryExit:t.mixinEntryExit,areaTree:t.mixinAreaTree,hidedowload:t.$showColumn(["download"])},on:{searchAction:t.searchAction,clearUp:t.clearUp,downloadAction:t.downloadAction,changeShowType:t.changeShowType}}),t._v(" "),a("el-tabs",{staticStyle:{"margin-top":"14px"},attrs:{type:"border-card"},on:{"tab-click":t.changeShowName},model:{value:t.showName,callback:function(e){t.showName=e},expression:"showName"}},[a("el-tab-pane",{attrs:{label:"报表",name:"table"}},["table"===t.showName?a("el-table",{attrs:{size:"small",data:t.tableDataList}},t._l(t.tableTitles,(function(t,e){return a("el-table-column",{key:e,attrs:{fixed:0===e,prop:0===e?"titleName":"count"+e,label:t,sortable:e>0,width:"150"}})})),1):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"折线图",name:"chart"}},["chart"===t.showName?a("entryExitChart",{attrs:{tableData:t.tableData,typeNow:t.typeNow}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"柱状图",name:"bar"}},["bar"===t.showName?a("entryExitBar",{attrs:{tableData:t.tableData,typeNow:t.typeNow}}):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=p.exports}}]);