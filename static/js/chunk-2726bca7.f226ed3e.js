(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2726bca7","chunk-4bb1ec35","chunk-736c6396","chunk-2528e9f8","chunk-312bdac0","chunk-2d2105d3","chunk-2d230fe7"],{"06ed":function(e,t,a){"use strict";a("c8b8")},"076e":function(e,t,a){},"0b7e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticStyle:{overflow:"auto"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5,xs:24}},[e.deptOptions.length?a("dept-tree",{attrs:{"dept-list":e.deptOptions},on:{handleDefaultKey:e.handleDefaultKey,handleNodeClick:e.handleDeptNodeClick}}):e._e()],1),a("el-col",{attrs:{span:19,xs:24}},[a("div",{staticClass:"over"},["admin"==e.users?a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{staticStyle:{"margin-bottom":"30px","margin-left":"50px"},attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.handleAdd}},[e._v("生成License ")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch,"show-seacher-btn":!1},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1):e._e(),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{border:"","header-cell-style":{"text-align":"center",color:"black"},"cell-style":{"text-align":"center"},data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"LicenseCode","show-overflow-tooltip":!0,"min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.licenseCode)+" ")]}}])}),a("el-table-column",{attrs:{label:"组织","show-overflow-tooltip":!0,"min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.sysDept.deptName))]}}])}),a("el-table-column",{attrs:{label:"类型","show-overflow-tooltip":!0,"min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.type.msg))]}}])}),a("el-table-column",{attrs:{label:"联系人姓名","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.contactPerson)+" ")]}}])}),a("el-table-column",{attrs:{label:"联系人手机号","min-width":"130","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.phone)+" ")]}}])}),a("el-table-column",{attrs:{label:"联系人邮箱","show-overflow-tooltip":!0,"min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.email)+" ")]}}])}),a("el-table-column",{attrs:{label:"客户端访问数","show-overflow-tooltip":!0,"min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.clientVisits)+" ")]}}])}),a("el-table-column",{attrs:{label:"主机数","show-overflow-tooltip":!0,"min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(1==a.authEnterpriseLicense.protocol?a.authEnterpriseLicense.rdpNumber:a.authEnterpriseLicense.dcvNumber)+" ")]}}])}),a("el-table-column",{attrs:{label:"有效期","show-overflow-tooltip":!0,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.authEnterpriseLicense.startTime)+"-"+e._s(a.authEnterpriseLicense.endTime)+" ")]}}])}),a("el-table-column",{attrs:{label:"状态","show-overflow-tooltip":!0,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.status.msg))]}}])}),a("el-table-column",{attrs:{label:"支持协议","show-overflow-tooltip":!0,"min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authLicenseProtocol.name)+" ")]}}])}),"admin"==e.users?a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"admin"===e.users,expression:"users === 'admin'"}],attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")]),1==t.row.status.code?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleEnable(t.row)}}},[e._v(" 去激活 ")]):e._e(),"admin"==e.users?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleSystemAdd(t.row)}}},[e._v("生成下载文件 ")]):e._e(),"admin"==e.users?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleDownloadSystemLicense(t.row)}}},[e._v("下载 ")]):e._e()]}}],null,!1,1595432504)}):e._e()],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,"append-to-body":"",limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"85px"}},[a("el-form-item",{attrs:{label:"类型","label-width":"120px",rules:[{required:!0,message:"类型不能为空"}]}},[a("el-select",{staticStyle:{width:"100%",height:"20px"},attrs:{clearable:"",placeholder:"请选择类型",autocomplete:"off"},on:{change:function(t){return e.handleChangeType(e.typeValue)}},model:{value:e.typeValue,callback:function(t){e.typeValue=t},expression:"typeValue"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"联系人姓名",prop:"contactPerson","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入联系人姓名"},model:{value:e.form.contactPerson,callback:function(t){e.$set(e.form,"contactPerson",t)},expression:"form.contactPerson"}})],1),a("el-form-item",{attrs:{label:"联系人手机号",prop:"phone","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入联系人手机号"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"联系人邮箱地址",prop:"email","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入联系人邮箱地址"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{label:"客户端访问数",prop:"clientVisits","label-width":"120px"}},[a("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入客户端访问数"},model:{value:e.form.clientVisits,callback:function(t){e.$set(e.form,"clientVisits",t)},expression:"form.clientVisits"}})],1),a("el-form-item",{attrs:{label:"主机数",prop:"rdpNumber","label-width":"120px",rules:[{required:!0,trigger:"blur"}]}},[a("el-input",{attrs:{min:"1",oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入主机数"},model:{value:e.form.rdpNumber,callback:function(t){e.$set(e.form,"rdpNumber",e._n(t))},expression:"form.rdpNumber"}})],1),a("el-form-item",{attrs:{label:"License有效期",prop:"valuedate","label-width":"120px"}},[a("el-date-picker",{staticClass:"el-input_inner",attrs:{width:"100%","value-format":"yyyy-MM-dd",size:"large",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{blur:e.handBlur},model:{value:e.form.valuedate,callback:function(t){e.$set(e.form,"valuedate",t)},expression:"form.valuedate"}})],1),a("el-form-item",{attrs:{label:"支持协议","label-width":"120px",rules:[{required:!0,trigger:"blur"}]}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择协议",autocomplete:"off"},on:{change:function(t){return e.handleChange(e.deviceSNMP)}},model:{value:e.deviceSNMP,callback:function(t){e.deviceSNMP=t},expression:"deviceSNMP"}},e._l(e.deviceSNMPList,(function(e){return a("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})})),1)],1),a("el-form-item",{attrs:{label:"是否激活","label-width":"120px",rules:[{required:!0,trigger:"blur"}]}},[a("el-select",{staticStyle:{width:"100%",height:"20px"},attrs:{clearable:"",placeholder:"请选择协议",autocomplete:"off"},on:{change:function(t){return e.handleChangeActive(e.activeValue)}},model:{value:e.activeValue,callback:function(t){e.activeValue=t},expression:"activeValue"}},e._l(e.isshowActive,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"生成下载文件",visible:e.openSystem,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.openSystem=t}}},[a("el-form",{ref:"formSystem",attrs:{model:e.formSystem}},[a("el-radio",{attrs:{label:"2"},model:{value:e.formSystem.radio,callback:function(t){e.$set(e.formSystem,"radio",t)},expression:"formSystem.radio"}},[e._v("非中心")]),a("el-radio",{attrs:{label:"1"},model:{value:e.formSystem.radio,callback:function(t){e.$set(e.formSystem,"radio",t)},expression:"formSystem.radio"}},[e._v("中心")])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormData}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],r=(a("d81d"),a("d3b7"),a("159b"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("b0c0"),a("a1d3")),s=a("ca17"),o=a.n(s),l=(a("542c"),a("5ecb")),c=a("2e9f"),d=a("fcb7"),u={components:{Treeselect:o.a,DeptTree:r["default"]},data:function(){return{formSystem:{radio:"2"},versionCloud:[],Organization:"云端正式版",licensecode:"HHJK-HHDD-JYIU-1JU8S",tableList:[],dialogVisible:!1,listLoading:!1,tableData:[],argument:[],activesoption:[],queryParams:{page:1,pageCount:10,sort:"",orderByColumn:"status",name:"",deptId:""},showSearch:!0,users:"",ids:[],total:0,title:"",open:!1,openSystem:!1,deptOptions:[],nals:1,form:{sysDeptId:null,equipmentId:"",contactPerson:"",clientVisits:0,dcvNumber:0,email:"",startTime:"",endTime:"",enterpriseId:1,licenseType:0,phone:"",protocol:"",rdpNumber:0,id:void 0,status:1,coludVer:null,valuedate:"",selectValues:null,activesValues:null,type:"enterprise "},deviceSNMP:1,deviceSNMPList:[],typeList:[],typeValue:1,isshowActive:[],activeValue:2,flagLicenseId:"",rules:{contactPerson:[{required:!0,message:"联系人姓名不能为空",trigger:"blur"}],phone:[{required:!0,message:"联系人手机号不能为空",trigger:"blur"}],email:[{required:!0,message:"联系人邮箱不能为空",trigger:"blur"},{required:!0,type:"email",message:"联系人邮箱格式不正确",trigger:"blur"}],clientVisits:[{required:!0,message:"客户端访问数不能为空",trigger:"blur"}],dcvNumber:[{required:!0,message:"请输入主机数",trigger:"blur"}],selectValues:[{required:!0,message:"请输入协议",trigger:"blur"}],activesValues:[{required:!0,message:"请选择是否激活",trigger:"blur"}],valuedate:[{required:!0,trigger:"blur"}],coludVer:[{required:!0,message:"请选择类型",trigger:"blur"}]},systemLicense:"",rolen:""}},created:function(){this.getDeptList();var e=localStorage.getItem("user");this.users=e,this.getProtocol(),this.getLicenseType(),this.getLicenseActive(),this.form.protocol=this.deviceSNMP,this.getTok()},methods:{getTok:function(){var e=this,t=JSON.parse(localStorage.getItem("tok"));console.log(t,"tok"),1===t.length?t.map((function(t){return e.rolen=t.roleName,!1})):t.map((function(t){e.rolen=t.roleName}))},handleDefaultKey:function(e){this.queryParams.deptId=e,this.getList()},sortAddTime:function(e,t){return e-t},getList:function(){var e=this;Object(d["u"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleDeptNodeClick:function(e){var t=e.id;this.nals=t,this.queryParams.deptId=t,this.getList()},getDeptList:function(){var e=this;Object(d["w"])().then((function(t){e.deptOptions=t.data}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.deptName,children:e.children}},handleAdd:function(){console.log(this.form,"this--from"),this.form.valuedate="",this.form.coludVer=null,this.form.selectValues=null,this.form.activesValues=null,this.reset(),this.form.enterpriseId=this.nals,this.getProtocol(),this.getLicenseType(),this.getLicenseActive(),this.form.deptId=this.queryParams.deptId,this.open=!0,this.title="生成License",this.form.id=void 0},handleQuery:function(){this.queryParams.page=1},handleEnable:function(e){Object(d["c"])(e.authEnterpriseLicense.id),this.getList()},handleDelete:function(e){var t=this,a=e.authEnterpriseLicense.id;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(d["e"])(a)})).then((function(e){t.$message({type:"success",message:e.msg}),t.getList()}))},handBlur:function(){var e=this.form.valuedate;this.form.startTime=e[0],this.form.endTime=e[1]},handleSelect:function(e){this.form.licenseType=e.id},handleActives:function(e){this.form.status=e.id},submitForm:function(){var e=this;1==this.form.protocol||1==this.deviceSNMP?this.form.rdpNumber=this.form.rdpNumber:2==this.form.protocol?(this.form.dcvNumber=this.form.rdpNumber,this.form.rdpNumber=0):(this.form.rdpNumber=this.form.rdpNumber,this.form.dcvNumber=this.form.rdpNumber),this.form.protocol=this.deviceSNMP,this.form.licenseType=this.typeValue,this.form.status=this.activeValue,this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(c["f"])(e.form).then((function(t){e.$message({message:"修改成功",type:"success"}),e.open=!1,e.getList(),e.reset()})):(Object(d["j"])(e.form).then((function(t){200!==t.code?e.$message({message:"res.msg",type:"warning"}):(e.$message({message:"添加成功",type:"success"}),e.open=!1,e.reset(),e.getList())})),e.getList()))}))},submitFormData:function(){var e=this;this.$refs["formSystem"].validate((function(t){t&&(Object(l["j"])({enterpriseLicenseId:e.flagLicenseId,token:e.formSystem.radio}).then((function(t){e.formSystem.radio="2",e.getList()})),e.openSystem=!1,e.reset(),e.getList())}))},cancel:function(){this.form.selectValues=null,this.form.activesValues=null,this.form.coludVer=null,this.open=!1,this.openSystem=!1,this.formSystem.radio="2",this.reset()},reset:function(){this.form={contactPerson:"",clientVisits:0,dcvNumber:0,email:"",startTime:"",endTime:"",enterpriseId:1,licenseType:1,phone:"",protocol:0,rdpNumber:0,status:1,deptId:"",coludVer:null,valuedate:"",selectValues:null,activesValues:null},this.resetForm("form")},handleSystemAdd:function(e){var t=this;console.log(e,"row"),this.flagLicenseId=e.authEnterpriseLicense.id,this.openSystem=!0,Object(l["c"])({deptId:this.nals}).then((function(e){e.data.forEach((function(e){t.systemLicense=e.authEnterpriseLicense.id}))}))},handleDownloadSystemLicense:function(e){var t="";Object(l["h"])({licenseId:e.authEnterpriseLicense.id,type:"enterprise"}).then((function(e){t=e.data.token,Object(l["f"])(t).then((function(e){var t=document.createElement("a"),a=new Blob([e],{type:"application/octet-stream"}),n=URL.createObjectURL(a);t.href=n,t.download="License文件",t.click(),URL.revokeObjectURL(n)}))}))},handleChange:function(e){this.form.protocol=e},handleChangeType:function(e){this.form.licenseType=e},handleChangeActive:function(e){this.form.status=e},getProtocol:function(){var e=this;Object(d["t"])().then((function(t){e.deviceSNMPList=t.data.map((function(e){return{key:e.id,label:e.name}}))}))},getLicenseType:function(){var e=this;Object(d["x"])().then((function(t){e.typeList=t.data.map((function(e){return{id:e.code,label:e.msg}}))}))},getLicenseActive:function(){var e=this;Object(d["v"])().then((function(t){e.isshowActive=t.data.map((function(e){return{id:e.code,label:e.msg}}))}))}}},p=u,m=(a("8c91"),a("2877")),h=Object(m["a"])(p,n,i,!1,null,"7bb80978",null);t["default"]=h.exports},"0e2b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{on:{click:e.upload}},[e._v("上传")]),a("global-uploader")],1)},i=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"uploadFile-panel",attrs:{id:"global-uploader"}},[a("uploader",{ref:"uploader",staticClass:"uploader-app",attrs:{options:e.options,"auto-start":!1,"file-status-text":e.fileStatusText},on:{"files-added":e.onFilesAdd,"file-success":e.onFileSuccess,"file-progress":e.onFileProgress,"file-error":e.onFileError}},[a("uploader-unsupport"),a("uploader-btn",{ref:"uploadBtn",attrs:{id:"global-uploader-btn",attrs:e.attrs}},[a("i",{staticClass:"el-icon-plus fileAddIcon"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.isdisable,expression:"isdisable"}],staticClass:"global-uploader-disable"},[a("span",[a("i",{staticClass:"el-icon-plus"})])]),a("uploader-list",{directives:[{name:"show",rawName:"v-show",value:e.panelShow,expression:"panelShow"}],scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{staticClass:"file-panel",class:{collapse:e.collapse}},[a("div",{staticClass:"file-title"},[a("h2",{staticStyle:{color:"#606266","font-weight":"400"}},[e._v("文件列表")]),a("div",{staticClass:"operate"},[a("el-button",{staticClass:"mr8",attrs:{type:"text",title:e.collapse?"展开":"折叠"},on:{click:e.fileListShow}},[a("i",{class:e.collapse?"el-icon-full-screen":"el-icon-minus",staticStyle:{"font-weight":"700","font-size":"16px"}})]),a("el-button",{attrs:{type:"text",title:"关闭"},on:{click:e.close}},[a("i",{staticClass:"el-icon-close",staticStyle:{"font-weight":"700","font-size":"16px"}})])],1)]),a("ul",{class:["file-list","file-lists_"+e.fileCompentId]},[e._l(t.fileList,(function(e){return a("li",{key:e.id},[a("uploader-file",{ref:"files",refInFor:!0,class:"file_"+e.id,attrs:{file:e,list:!0}})],1)})),t.fileList.length?e._e():a("div",{staticClass:"no-file"},[a("i",{staticClass:"iconfont icon-empty-file"}),e._v(" 暂无待上传文件 ")])],2)])}}])})],1)],1)},s=[],o=a("5530"),l=(a("a9e3"),a("4de4"),a("d3b7"),a("159b"),a("b0c0"),a("99af"),a("b680"),a("1157")),c=a.n(l),d=a("69a0"),u=a.n(d),p=a("f766"),m=a("5f87");a("ac1f"),a("1276"),a("498a");function h(e){var t=e.lastIndexOf("."),a=e.length,n=e.substring(t+1,a),i=e.substring(0,t).trim();return i+"."+n.toLowerCase()}function f(){var e=[".png",".jpg",".jpeg",".gif",".bmp"],t=[".mp4",".rmvb",".mkv",".wmv",".flv"],a=[".doc",".docx",".xls",".xlsx",".ppt",".pptx",".pdf",".txt",".tif",".tiff"];return[].concat(e,t,a)}var g={props:{fileListArr:{type:Array,default:function(){return[]}},fileType:{type:Array,default:function(){return f()}},isdisable:{type:Boolean},fileCompentId:{type:Number,default:1}},data:function(){return{options:{target:p["a"],chunkSize:1048576,fileParameterName:"file",simultaneousUploads:3,maxChunkRetries:1,testChunks:!0,checkChunkUploadedByResponse:function(e,t){var a=JSON.parse(t);return!!a.data.skipUpload||(a.data.uploaded||[]).indexOf(e.offset+1)>=0},headers:{Authorization:Object(m["a"])()}},fileStatusText:{success:"上传成功",error:"上传失败",uploading:"上传中...",paused:"暂停",waiting:"排队中..."},attrs:{accept:f()},panelShow:!1,collapse:!1,errorList:[]}},computed:{uploader:function(){return this.$refs.uploader.uploader}},mounted:function(){var e=this;this.$bus.$on("openUploader",(function(t){e.params=t||{},e.$refs.uploadBtn&&c()("#global-uploader-btn").click()}))},destroyed:function(){this.$bus.$off("openUploader")},methods:{onFilesAdd:function(e){var t=this,a=!0;if(e&&e.length>0)for(var n=e.length>0?e:this.$refs.uploader.uploader.fileList.filter((function(e){return!e.completed})),i=0;i<n.length;i++){var r=n[i];if(a=this.beforeUpload(r,n),!a)break}else a=!1;a||(this.errorList=[],e.ignored=!0),this.panelShow=!0,e.forEach((function(e){t.computeMD5(e),t.$bus.$emit("fileAdded")}))},beforeUpload:function(e,t){var a=!1,n=!1;if(this.$refs.uploader.uploader.fileList.length>1)for(var i=this.$refs.uploader.uploader.fileList,r=0,s=0;s<i.length;s++){var o=i[s];if(o.completed||o.name!==e.name||r++,r>1&&(a=!0,-1===this.errorList.indexOf(1)&&(this.$message({type:"warning",message:"当前文件已在上传任务中",duration:1500}),this.errorList.push(1))),a)break}if(this.fileListArr.length>0){for(var l=0;l<this.fileListArr.length;l++){var c=this.fileListArr[l];if(h(c.filename)===h(e.name)&&(n=!0),n)break}if(n)return-1===this.errorList.indexOf(1)&&(this.$message({type:"warning",message:"文件名称不能重复",duration:1500}),this.errorList.push(1)),!1}return!a&&!n},onFileProgress:function(e,t,a){console.log("上传中 ".concat(t.name,"，chunk：").concat(a.startByte/1024/1024," ~ ").concat(a.endByte/1024/1024))},onFileSuccess:function(e,t,a,n){var i=null;if("string"===typeof a&&(i=JSON.parse(a)),i.data&&0===i.data)return this.$message({message:i.msg,type:"error"}),void this.statusSet(t.id,"failed");this.$bus.$emit("fileSuccess",{result:i,file:t})},onFileError:function(e,t,a,n){this.$message({message:a,type:"error"})},computeMD5:function(e){var t=this,a=new FileReader,n=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,i=0,r=1024e4,s=Math.ceil(e.size/r),o=new u.a.ArrayBuffer;function l(){var t=i*r,s=t+r>=e.size?e.size:t+r;a.readAsArrayBuffer(n.call(e.file,t,s))}this.statusSet(e.id,"md5"),e.pause(),l(),a.onload=function(a){if(o.append(a.target.result),i<s)i++,l(),t.$nextTick((function(){c()(".myStatus_".concat(e.id)).text("校验MD5 "+(i/s*100).toFixed(0)+"%")}));else{var n=o.end();t.computeMD5Success(n,e),t.$nextTick((function(){c()(".file_".concat(e.id," .uploader-file-resume")).removeAttr("style","")}))}},a.onerror=function(){this.error("文件".concat(e.name,"读取出错，请检查该文件")),e.cancel()}},computeMD5Success:function(e,t){var a={fileMd5:e,name:t.name,query:Object(o["a"])({},this.params)};Object.assign(this.uploader.opts,a),t.uniqueIdentifier=e,t.resume(),this.statusRemove(t.id)},fileListShow:function(){var e=c()(".file-lists_".concat(this.fileCompentId));e.is(":visible")?(e.slideUp(),this.collapse=!0):(e.slideDown(),this.collapse=!1)},close:function(){var e=this;this.$confirm("是否确定关闭窗口，关闭此窗口，未上传的文件将停止上传?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.uploader.cancel(),e.panelShow=!1})).catch((function(){}))},statusSet:function(e,t){var a={md5:{text:"校验MD5",bgc:"#fff"},merging:{text:"合并中",bgc:"#e2eeff"},transcoding:{text:"转码中",bgc:"#e2eeff"},failed:{text:"上传失败",bgc:"#ffe0e0"},success:{text:"上传成功",bgc:"#fff"},uploading:{text:"上传中...",bgc:"#fff"},paused:{text:"暂停",bgc:"#fff"},waiting:{text:"排队中...",bgc:"#fff"}};this.$nextTick((function(){c()('<p class="myStatus_'.concat(e,'"></p>')).appendTo(".file_".concat(e," .uploader-file-status")).css({position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"1",lineHeight:"14px",backgroundColor:a[t].bgc}).text(a[t].text),c()(".file_".concat(e," .uploader-file-resume")).css("display","none")}))},statusRemove:function(e){this.$nextTick((function(){c()(".myStatus_".concat(e)).remove()}))},error:function(e){this.$notify({title:"错误",message:e,type:"error",duration:2e3})}}},b=g,v=(a("b356"),a("2877")),y=Object(v["a"])(b,r,s,!1,null,"2c1ccd55",null),w=y.exports,k={components:{globalUploader:w},data:function(){return{}},computed:{},mounted:function(){this.$bus.$on("fileAdded",(function(){console.log("文件已选择")})),this.$bus.$on("fileSuccess",(function(e){console.log("文件上传成功",e)}))},destroyed:function(){this.$bus.$off("fileAdded"),this.$bus.$off("fileSuccess")},methods:{upload:function(){this.$bus.$emit("openUploader",{customParams:"自定义参数"})}}},x=k,_=Object(v["a"])(x,n,i,!1,null,"1b6f65ab",null);t["default"]=_.exports},"0ee3":function(e,t,a){},"0fa0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-container"},[a("div",{staticClass:"top-bg-wrap"})])}],r={name:"Dashboard",data:function(){return{currentRole:"adminDashboard"}},created:function(){}},s=r,o=(a("3e25"),a("2877")),l=Object(o["a"])(s,n,i,!1,null,"0632277b",null);t["default"]=l.exports},"105d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icons-container"},[e._m(0),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Icons"}},[a("div",{staticClass:"grid"},e._l(e.elementIcons,(function(t){return a("div",{key:t,on:{click:function(a){e.handleClipboard(e.generateElementIconCode(t),a)}}},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.generateElementIconCode(t))+" ")]),a("div",{staticClass:"icon-item"},[a("i",{class:"el-icon-"+t}),a("span",[e._v(e._s(t))])])])],1)})),0)])],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",[a("a",{attrs:{href:"https://panjiachen.github.io/vue-element-admin-site/guide/advanced/icon.html",target:"_blank"}},[e._v("Add and use ")])])}],r=a("2b0e"),s=a("b311"),o=a.n(s);function l(){r["default"].prototype.$message({message:"Copy successfully",type:"success",duration:1500})}function c(){r["default"].prototype.$message({message:"Copy failed",type:"error"})}function d(e,t){var a=new o.a(t.target,{text:function(){return e}});a.on("success",(function(){l(),a.destroy()})),a.on("error",(function(){c(),a.destroy()})),a.onClick(t)}a("d3b7"),a("ddb0"),a("d81d"),a("ac1f"),a("466d");var u=a("51ff"),p=function(e){return e.keys()},m=/\.\/(.*)\.svg/,h=p(u).map((function(e){return e.match(m)[1]})),f=h,g=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"],b=g,v={name:"Icons",data:function(){return{svgIcons:f,elementIcons:b}},methods:{generateIconCode:function(e){return'<svg-icon icon-class="'.concat(e,'" />')},generateElementIconCode:function(e){return"el-icon-".concat(e)},handleClipboard:function(e,t){d(e,t)}}},y=v,w=(a("8f49"),a("2877")),k=Object(w["a"])(y,n,i,!1,null,"1f3ccf89",null);t["default"]=k.exports},"11e6":function(e,t,a){"use strict";a("da14")},"133c":function(e,t,a){"use strict";a("7c25")},1401:function(e,t,a){},"14af":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{"min-height":"400px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[e._v(" "+e._s(e.title)+" "),a("right-toolbar",{attrs:{"show-seacher-btn":!1},on:{queryTable:e.getList}})],1),0==e.total?a("div",{staticClass:"el-dialog__title",staticStyle:{"text-align":"center","line-height":"300px"}},[e._v(" 暂无被分享的DCV主机 ")]):[a("el-row",{attrs:{gutter:10}},e._l(e.tableList,(function(t,n){return a("el-col",{key:n,attrs:{xs:24,sm:12,md:12,lg:8,xl:6}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px",border:"0px"},attrs:{shadow:"hover","body-style":{padding:"0px 20px",textAlign:"right"}}},[a("div",{staticClass:"clearfix",staticStyle:{position:"relative"},attrs:{slot:"header"},slot:"header"},[a("el-row",[a("el-col",{attrs:{xs:12,sm:10,md:8,lg:8,xl:8}},[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.url,fit:"fill"}}),a("div"),a("el-image",{staticStyle:{width:"66%",height:"90%",margin:"-50px 0px -30px 8px"},attrs:{src:e.statusUrl,fit:"scale-down"}})],1),a("el-col",{attrs:{xs:12,sm:14,md:16,lg:16,xl:16}},[t.equipment?a("p",{staticClass:"el-dialog__title",staticStyle:{margin:"0px"}},[e._v(" "+e._s(t.equipment.name)+" "),a("span",{staticClass:"online-user-tips"},[e._v(" ("+e._s(t.equipment.onlineUser)+"人在线) ")]),2==t.equipment.useStatus?a("span",{staticClass:"disabled-tips"},[e._v(" -- 已禁用 ")]):e._e()]):e._e(),a("p",{staticClass:"el-dialog__title",staticStyle:{"font-size":"15px"}},[e._v("来自："+e._s(t.sharer.username))]),a("p",{staticClass:"el-dialog__title",staticStyle:{"font-size":"15px"}},[e._v("有效期："+e._s(e.parseTimeStr(t.shareTime)))]),a("p",{staticClass:"el-dialog__title",staticStyle:{"font-size":"15px"}},[e._v(e._s(t.equipment.remark))])])],1)],1),2!=t.equipment.useStatus?a("div",{staticClass:"btn"},[1==t.status?a("el-button",{attrs:{type:"text",icon:"el-icon-link",loading:e.remoteLoading},nativeOn:{click:function(a){return a.preventDefault(),e.remoteHandle(t)}}},[e._v("开始连接")]):e._e(),2==t.status?a("el-button",{attrs:{disabled:"",type:"text",icon:"el-icon-link"}},[e._v("暂停使用")]):e._e()],1):e._e()])],1)})),1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,"append-to-body":"",limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})]],2)],1)},i=[],r=a("7eb6"),s={components:{},props:{title:{type:String,default:""}},data:function(){return{loading:!1,tableList:[],listLoading:!1,queryParams:{page:1,pageCount:10},remoteLoading:!1,total:0,url:a("7408"),statusUrl:a("2ab5")}},computed:{},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(r["d"])(this.queryParams).then((function(t){e.listLoading=!1,e.tableList=t.data.records,e.total=t.data.total}))},remoteHandle:function(e){var t=this;this.remoteLoading=!0,Object(r["e"])(e.id).then((function(e){t.remoteLoading=!1,window.open(e.data),console.log("open",e.data)})).catch((function(e){console.log(e),t.remoteLoading=!1}))},parseTimeStr:function(e){var t=JSON.parse(e);return t.beginTime+"-"+t.endTime}}},o=s,l=(a("3b1e"),a("2877")),c=Object(l["a"])(o,n,i,!1,null,"f344d49e",null);t["default"]=c.exports},1618:function(e,t,a){},"1a2b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名",clearable:"",size:"small"},on:{clear:e.handleQuery},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{prop:"nickName",label:"昵称"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),a("el-table-column",{attrs:{prop:"sysDept.deptName",label:"组织"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[-1!==e.checkedIds.indexOf(n.id)?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.dellocateHandle(n)}}},[e._v("解除分配")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)},i=[],r=a("1da1"),s=(a("96cf"),a("a9e3"),a("d81d"),a("d3b7"),a("159b"),a("7db0"),a("c0c7")),o=a("3bb8"),l={props:{deptId:{type:Number,default:0},equipmentId:{type:Number,default:void 0}},data:function(){return{title:"",open:!1,listLoading:!1,total:0,showSearch:!0,queryParams:{page:1,pageCount:10,username:"",deptId:this.deptId},queryRoleParams:{page:1,pageCount:10,name:""},tableData:[],distributeList:[],checkedIds:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(s["f"])(this.queryParams).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableData=a.data.records,e.total=a.data.total,e.listLoading=!1,t.next=5,Object(o["e"])(e.equipmentId);case 5:n=t.sent,i=n.data,e.distributeList=i,e.checkedIds=i.map((function(e){return null===e||void 0===e?void 0:e.user.id})),e.setTableChecked();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleSelectionChange:function(e){console.log(e);var t=[];e.forEach((function(e){e&&t.push(e.id)})),console.log(t),this.$emit("handleSelectionChange",t)},setTableChecked:function(){var e=this;this.$nextTick((function(){e.$refs.multipleTable.clearSelection(),e.distributeList.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(e.tableData.find((function(e){return e.id===(null===t||void 0===t?void 0:t.user.id)&&(e.distribute=t.distribute,!0)})),!0)}))}))},dellocateHandle:function(e){var t=this,a=e.distribute;this.$confirm("确认操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["a"])(a.id).then((function(e){t.$message({type:"success",message:e.msg}),t.dialogUserFormVisible=!1,t.checkedIds=[],t.getList()}))})).catch((function(){}))},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}},c=l,d=a("2877"),u=Object(d["a"])(c,n,i,!1,null,null,null);t["default"]=u.exports},"1c54":function(e,t,a){"use strict";a("30b3")},"1d25":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{"min-height":"400px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[e._v(" "+e._s(e.title)+" "),a("right-toolbar",{attrs:{"show-seacher-btn":!1},on:{queryTable:e.getList}})],1),0==e.total?a("div",{staticClass:"el-dialog__title",staticStyle:{"text-align":"center","line-height":"300px"}},[e._v(" 暂无分配DCV设备 ")]):[a("el-row",{attrs:{gutter:10}},e._l(e.tableList,(function(t,n){return a("el-col",{key:n,attrs:{xs:24,sm:12,md:12,lg:8,xl:6}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px",border:"0px"},attrs:{shadow:"hover","body-style":{padding:"0px 20px",textAlign:"right"}}},[a("div",{staticClass:"clearfix",staticStyle:{position:"relative"},attrs:{slot:"header"},slot:"header"},[a("el-row",[a("el-col",{attrs:{xs:12,sm:10,md:8,lg:8,xl:8}},[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.url,fit:"fill"}}),a("div"),a("el-image",{staticStyle:{width:"66%",height:"90%",margin:"-50px 0px -30px 8px"},attrs:{src:e.statusUrl,fit:"scale-down"}})],1),a("el-col",{attrs:{xs:12,sm:14,md:16,lg:16,xl:16}},[t.equipment?a("p",{staticClass:"el-dialog__title",staticStyle:{margin:"0px"}},[e._v(" "+e._s(t.equipment.name)+" "),a("span",{staticClass:"online-user-tips"},[e._v(" ("+e._s(t.equipment.onlineUser)+"人在线) ")]),2==t.equipment.useStatus?a("span",{staticClass:"disabled-tips"},[e._v(" -- 已禁用 ")]):e._e()]):e._e(),a("p",{staticClass:"el-dialog__title",staticStyle:{"margin-top":"7px","font-size":"15px"}},[e._v(e._s(t.equipment.remark))])])],1)],1),2!=t.equipment.useStatus?a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"text",icon:"el-icon-link",loading:e.remoteLoading},nativeOn:{click:function(a){return a.preventDefault(),e.remoteHandle(t)}}},[e._v("开始连接")]),a("el-button",{attrs:{type:"text",icon:"el-icon-share"},on:{click:function(a){return e.shareHandle(t)}}},[e._v("分享")]),a("el-button",{attrs:{type:"text",icon:"el-icon-view"},on:{click:function(a){return e.showShareDrawerHandle(t)}}},[e._v("查看分享")])],1):e._e()])],1)})),1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,"append-to-body":"",limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})]],2),e.dcvHostShareDialogVisible?a("dcv-host-share-dialog",{ref:"dcvHostShareDialog"}):e._e(),e.dcvHostShareDrawerVisible?a("dcv-share-drawer",{ref:"dcvHostShareDrawer"}):e._e()],1)},i=[],r=a("5530"),s=a("3bb8"),o=a("45f0"),l=a("1fbf"),c={components:{DcvHostShareDialog:o["default"],DcvShareDrawer:l["default"]},props:{title:{type:String,default:""}},data:function(){return{loading:!1,tableList:[],listLoading:!1,remoteLoading:!1,queryParams:{page:1,pageCount:10},total:0,url:a("7408"),statusUrl:a("2ab5"),dcvHostShareDialogVisible:!1,dcvHostShareDrawerVisible:!1}},computed:{},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(s["c"])(this.queryParams).then((function(t){e.listLoading=!1,e.tableList=t.data.records,e.total=t.data.total}))},shareHandle:function(e){var t=this;this.dcvHostShareDialogVisible=!0,this.$nextTick((function(){var a=Object(r["a"])({},e);delete a.id,t.$refs.dcvHostShareDialog.init(a)}))},showShareDrawerHandle:function(e){var t=this;this.dcvHostShareDrawerVisible=!0,this.$nextTick((function(){var a=Object(r["a"])({},e);console.log(a),t.$refs.dcvHostShareDrawer.init(a)}))},remoteHandle:function(e){var t=this;this.remoteLoading=!0,Object(s["d"])(e.id).then((function(e){t.remoteLoading=!1,window.open(e.data),console.log("open",e.data)})).catch((function(e){console.log(e),t.remoteLoading=!1}))}}},d=c,u=(a("338a"),a("2877")),p=Object(u["a"])(d,n,i,!1,null,"c0ec9066",null);t["default"]=p.exports},"1d28":function(e,t,a){},"1db4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("哎呀，页面找不到啦!")]),a("div",{staticClass:"bullshit__info"},[e._v("请检查您输入的地址是否正确，或点击下面的按钮返回。")]),a("a",{staticClass:"bullshit__return-home",on:{click:e.toHome}},[e._v("返回")])])])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pic-404"},[n("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),n("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),n("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),n("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}],r={name:"Page404",methods:{toHome:function(){this.$router.go(-1)}}},s=r,o=(a("fc76"),a("2877")),l=Object(o["a"])(s,n,i,!1,null,"0e9b9ec3",null);t["default"]=l.exports},"1f34":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5,xs:24}},[a("div",{staticClass:"userThree"},[e.deptOptions.length?a("dept-tree",{attrs:{"dept-list":e.deptOptions},on:{handleDefaultKey:e.handleDefaultKey,handleNodeClick:e.handleDeptNodeClick}}):e._e()],1)]),a("el-col",{attrs:{span:19,xs:24}},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名",clearable:"",size:"small"},on:{clear:e.handleQuery},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("treeselect",{staticStyle:{width:"120px"},attrs:{multiple:!1,searchable:"",clearable:!1,options:e.statusdata,placeholder:"请选择"},on:{select:e.handleOptions},model:{value:e.datastatus,callback:function(t){e.datastatus=t},expression:"datastatus"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v(" 修改 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("注销 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.handleDown}},[e._v("模板下载")])],1),a("el-col",{attrs:{span:1.5}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"#","file-list":e.fileList,"auto-upload":!0,"show-file-list":!1,"http-request":e.handImport,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{slot:"trigger",size:"mini",type:"primary",plain:""},slot:"trigger"},[e._v("批量导入")])],1)],1),a("right-toolbar",{attrs:{"show-search":e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{prop:"nickName",label:"姓名"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),a("el-table-column",{attrs:{prop:"sysDept",label:"角色","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return e._l(n.sysRoles,(function(t){return a("span",{key:t.id},[e._v(e._s(t.roleName+" "))])}))}}])}),a("el-table-column",{attrs:{prop:"sysDept.deptName",label:"组织","show-overflow-tooltip":!0,"min-width":"50"}}),a("el-table-column",{attrs:{label:"状态","show-overflow-tooltip":!0,"min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(0==a.del?"正常":"已注销"))]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.row.del,expression:"scope.row.del==0"}],attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("注销 ")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleResetPwd(t.row)}}},[e._v("重置")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDistrRole(t.row)}}},[e._v("分配角色")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleAllotUserDept(t.row)}}},[e._v("分配组织")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},["修改用户"==e.title?a("el-form-item",{attrs:{label:"用户编号"}},[a("el-input",{attrs:{disabled:"修改用户"===e.title,placeholder:"用户编号"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{disabled:"修改用户"===e.title,placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),a("el-col",{attrs:{span:12}},["修改用户"!=e.title?a("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户姓名"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"分配角色",visible:e.dialogRoleFormVisible},on:{"update:visible":function(t){e.dialogRoleFormVisible=t}}},[a("el-form",{attrs:{model:e.formRole}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.formRole.roleIds,callback:function(t){e.$set(e.formRole,"roleIds",t)},expression:"formRole.roleIds"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogRoleFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.distrRoleSubmit}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"分配组织",visible:e.dialogDeptFormVisible,"before-close":e.handleDialogClose},on:{"update:visible":function(t){e.dialogDeptFormVisible=t}}},[a("el-form",{attrs:{model:e.formDept}},[a("el-form-item",{attrs:{label:"组织信息",prop:"deptId"}},[a("treeselect",{attrs:{"show-count":!0,options:e.deptOptions,normalizer:e.normalizer,placeholder:"请选择组织"},model:{value:e.formDept.deptId,callback:function(t){e.$set(e.formDept,"deptId",t)},expression:"formDept.deptId"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogDeptFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.allotDeptSubmit}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"批量导入确认",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("div",{staticClass:"left_right_title"},[a("p",[e._v("请再次确认导入数据是否正确，如无问题，请点击确定。")]),a("p",[a("span",{staticStyle:{color:"red"}},[e._v("当前有问题数据"+e._s(e.errCount)+"行")]),e._v("请修改，具体可 "),a("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:e.download_Logs}},[e._v("查看问题日志")]),e._v("。 ")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,border:"","header-cell-style":{"text-align":"center",color:"black"},"cell-style":e.cellStyle}},[a("el-table-column",{attrs:{property:"number",label:"序号",width:"100"}}),a("el-table-column",{attrs:{property:"userName",label:"*用户名(建议全字母)",width:"100","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{property:"nickName",label:"*昵称",width:"100","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{property:"password",label:"*用户密码(最小6位)",width:"100","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{property:"authority",label:"*权限角色(企业管理员填1/普通员工填2)",width:"150"}}),a("el-table-column",{attrs:{property:"phone",label:"手机号",width:"100"}}),a("el-table-column",{attrs:{property:"email",label:"邮箱",width:"100"}}),a("el-table-column",{attrs:{property:"hostName",label:"主机名称",width:"100"}}),a("el-table-column",{attrs:{property:"deviceName",label:"设备名称",width:"100"}}),a("el-table-column",{attrs:{property:"hostVersionName",label:"主机版本",width:"100"}}),a("el-table-column",{attrs:{property:"intranetAddress",label:"内网地址",width:"100"}}),a("el-table-column",{attrs:{property:"publicAddress",label:"公网地址",width:"100"}}),a("el-table-column",{attrs:{property:"mac",label:"主机Mac地址",width:"100"}}),a("el-table-column",{attrs:{property:"systemDetail",label:"系统详情",width:"100"}}),a("el-table-column",{attrs:{property:"hostDetail",label:"主机详情",width:"100"}}),a("el-table-column",{attrs:{property:"accountName",label:"账号名",width:"100"}}),a("el-table-column",{attrs:{property:"accountPassword",label:"账号密码",width:"100"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.totals>0,expression:"totals > 0"}],attrs:{total:e.totals,page:e.queryParamsp.page,limit:e.queryParamsp.pageCount},on:{"update:page":function(t){return e.$set(e.queryParamsp,"page",t)},"update:limit":function(t){return e.$set(e.queryParamsp,"pageCount",t)},pagination:e.paginati}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("关 闭")])],1)],1)],1)},i=[],r=a("1da1"),s=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("caad"),a("2532"),a("d81d"),a("ca17")),o=a.n(s),l=(a("542c"),a("c0c7")),c=a("3528"),d=a("fcb7"),u=a("a1d3"),p={name:"User",components:{Treeselect:o.a,DeptTree:u["default"]},data:function(){return{fileList:[],title:"",datastatus:null,open:!1,formRole:{id:"",roleIds:[]},formDept:{deptId:null,userId:""},deptOptions:[],statusdata:[{id:"0",label:"正常"},{id:"1",label:"已注销"},{id:"",label:"全部"}],dialogRoleFormVisible:!1,dialogDeptFormVisible:!1,rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],nickName:[{required:!0,message:"用户姓名不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!1,message:"手机号码不能为空",trigger:"blur"}]},form:{id:"",username:"",password:"",nickName:"",status:0,phone:"",email:"",deptId:""},roleOptions:[],listLoading:!1,total:0,showSearch:!0,dialogTableVisible:!1,queryParams:{page:1,pageCount:10,username:"",deptId:"",del:""},queryParamsp:{page:1,pageCount:10,username:"",deptId:""},queryRoleParams:{page:1,pageCount:10,name:""},statusOptions:[{value:0,lable:"正常"},{value:1,lable:"停用"}],ids:[],single:!0,multiple:!0,tableData:[],currentPage:1,pagesize:10,totals:0,userList:[],errCount:"",logName:""}},created:function(){this.getRoleList(),this.getDeptList()},methods:{handleOptions:function(e){this.queryParams.page=1,this.queryParams.del=e.id,this.getList()},handleDown:function(){Object(d["p"])().then((function(e){var t=document.createElement("a"),a=new Blob([e],{type:"application/vnd.ms-excel"}),n=URL.createObjectURL(a);t.href=n,t.download="用户批量导入模板.xlsx",t.click(),URL.revokeObjectURL(n)})).catch((function(e){console.log(e,"失败的回调")}))},download_Logs:function(){var e=this.logName;Object(d["h"])({logname:e}).then((function(e){var t=document.createElement("a"),a=new Blob([e],{type:"application/octet-stream"}),n=URL.createObjectURL(a);t.href=n,t.download="用户批量导入日志.txt",t.click(),URL.revokeObjectURL(n)}))},cellStyle:function(e){var t=e.row,a=e.column;return t.errTitle.includes(a.property)?"border:1px solid red;text-align:center":"color:black;text-align:center"},beforeUpload:function(e){},handImport:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.queryParams.deptId,i=new FormData,i.append("file",e.file),i.append("deptId",n),a.next=6,Object(d["q"])(i);case 6:r=a.sent,console.log(r,"result"),2e4===r.code?(t.loading=!0,Object(d["b"])({page:1,pageCount:10}).then((function(e){t.logName=e.data.logName,t.errCount=e.data.errCount,t.userList=e.data.records,t.totals=e.data.total,t.dialogTableVisible=!0,t.loading=!1})).catch((function(e){console.log(e)}))):200===r.code?(t.$message({type:"success",message:r.msg}),t.getList()):t.$message({type:"error",message:r.msg});case 9:case"end":return a.stop()}}),a)})))()},handleDefaultKey:function(e){this.queryParams.deptId=e,this.getList()},paginati:function(){var e=this;Object(d["b"])(this.queryParamsp).then((function(t){e.userList=t.data.records}))},getList:function(){var e=this;this.listLoading=!0,Object(l["f"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},getRoleList:function(){var e=this;Object(c["e"])().then((function(t){e.roleOptions=t.data}))},getDeptList:function(){var e=this;Object(d["o"])().then((function(t){e.deptOptions=t.data}))},handleDeptNodeClick:function(e){var t=e.id;this.queryParams.deptId=t,this.getList()},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.deptName,children:e.children}},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.form.deptId=this.queryParams.deptId,this.open=!0,this.title="添加用户"},handleUpdate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.reset(),n=e.id||t.ids,a.next=4,Object(l["e"])(n);case 4:i=a.sent,t.form={id:i.data.id,username:i.data.username,password:i.data.password,nickName:i.data.nickName,status:i.data.status,phone:i.data.phone,email:i.data.email},console.log(i,"res-修改"),t.open=!0,t.title="修改用户";case 9:case"end":return a.stop()}}),a)})))()},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm("是否确认注销选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return a instanceof Array?Object(l["c"])(a):Object(l["c"])([a])})).then((function(e){t.$message({type:"success",message:e.msg}),t.getList()}))},handleExport:function(){},handleResetPwd:function(e){var t=this;this.$confirm("确认重置密码?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["g"])(e.id).then((function(e){t.$message({type:"success",message:"重置成功!"})}))})).catch((function(){}))},handleDistrRole:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["e"])(e.id);case 2:n=a.sent,n.data.sysRoles&&n.data.sysRoles.length>0&&(console.log(n.data.sysRoles),t.formRole.roleIds=n.data.sysRoles.map((function(e){return e.id}))),t.formRole.id=e.id,t.dialogRoleFormVisible=!0;case 6:case"end":return a.stop()}}),a)})))()},handleAllotUserDept:function(e){this.formDept.userId=e.id,this.formDept.deptId=e.sysDept.id,this.dialogDeptFormVisible=!0},handleQuery:function(){this.queryParams.page=1,this.queryParams.del="",this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.datastatus=null,this.handleQuery()},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t)if("修改用户"==e.title){if(!e.form.id)return;Object(l["h"])(e.form).then((function(t){200==t.code?(e.$message({message:t.msg,type:"success"}),e.open=!1,e.getList()):(e.$message({message:t.msg,type:"error"}),e.open=!1,e.getList())}))}else delete e.form.id,Object(l["a"])(e.form).then((function(t){200==t.code?(e.$message({message:t.msg,type:"success"}),e.open=!1,e.getList()):(e.$message({message:t.msg,type:"error"}),e.open=!1,e.getList())}))}))},distrRoleSubmit:function(){var e=this;Object(l["d"])(this.formRole.id,this.formRole.roleIds).then((function(t){e.$message({message:t.msg,type:"success"}),e.formRole={id:"",roleIds:[]},e.dialogRoleFormVisible=!1})),this.getList()},allotDeptSubmit:function(){var e=this;Object(l["b"])(this.formDept).then((function(t){e.$message({message:t.msg,type:"success"}),e.dialogDeptFormVisible=!1,e.getList()}))},cancel:function(){this.open=!1,this.reset()},handleDialogClose:function(e){e(),this.formDept={deptId:null,userId:""}},reset:function(){this.form={id:"",username:"",password:"",nickName:"",status:0,phone:"",email:"",deptId:""},this.resetForm("form")},handleSizeChange:function(e){console.log(e,"size"),this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},m=p,h=(a("7f03"),a("dab2"),a("2877")),f=Object(h["a"])(m,n,i,!1,null,"7558f4c0",null);t["default"]=f.exports},"1fbf":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-drawer",{attrs:{title:"分享记录 - "+e.dcvEquipmentName,size:"50%",visible:e.drawer,"with-header":!0,"append-to-body":!0,"custom-class":"share-drawer","before-close":e.handleClose},on:{"update:visible":function(t){e.drawer=t}}},[a("div",{staticClass:"content"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",attrs:{border:!1,data:e.tableData,"element-loading-text":"加载中...",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"shareAuthority",label:"权限","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.formatShareAuth(a.shareAuthority))+" ")]}}])}),a("el-table-column",{attrs:{prop:"username",label:"接收用户"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.shareBy.username)+" ")]}}])}),a("el-table-column",{attrs:{prop:"shareTime",label:"开始时间","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(JSON.parse(a.shareTime).beginTime)+" ")]}}])}),a("el-table-column",{attrs:{prop:"shareTime",label:"终止时间","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(JSON.parse(a.shareTime).endTime)+" ")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"可用状态"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[1==n.status?a("el-tag",{attrs:{type:"success"}},[e._v("正常")]):e._e(),2==n.status?a("el-tag",{attrs:{type:"danger"}},[e._v("禁用")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handleUpdate(n)}}},[e._v("修改分享")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handleDelete(n)}}},[e._v("取消分享")])]}}])})],1)],1)]),e.dcvHostShareDialogVisible?a("dcv-host-share-dialog",{ref:"dcvHostShareDialog",on:{refreshDataList:e.getList}}):e._e()],1)},i=[],r=a("5530"),s=(a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("b0c0"),a("ac1f"),a("1276"),a("159b"),a("a15b"),a("7eb6")),o=a("c0c7"),l=a("45f0"),c={components:{DcvHostShareDialog:l["default"]},data:function(){return{drawer:!1,listLoading:!1,tableData:[],dcvEquipmentId:void 0,dcvEquipmentName:void 0,shareAuth:{},dcvHostShareDialogVisible:!1,userMap:new Map}},created:function(){this.getShareAuth()},methods:{init:function(e){this.dcvEquipmentId=e.dcvEquipmentId,this.dcvEquipmentName=e.equipment.name,this.drawer=!0,this.getList()},getList:function(){var e=this;this.listLoading=!0,Object(s["c"])(this.dcvEquipmentId).then((function(t){e.tableData=t.data,e.listLoading=!1}))},handleClose:function(e){e(),this.tableData=[]},getShareAuth:function(){var e=this;Object(s["b"])().then((function(t){e.shareAuth=t.data}))},formatShareAuth:function(e){var t=this,a=e.split(" "),n=[];return a.forEach((function(e){var a=t.shareAuth[e];a&&n.push(a)})),n.join(", ")},getUsernameById:function(e,t){var a=this,n=this.userMap.get(e);n?this.tableData[t].username=n.username:Object(o["e"])(e).then((function(n){a.tableData[t].username=n.data.username,a.userMap.set(e,n.data)}))},handleUpdate:function(e){var t=this;this.dcvHostShareDialogVisible=!0,this.$nextTick((function(){var a=Object(r["a"])({},e);t.$refs.dcvHostShareDialog.init(a)}))},handleDelete:function(e){var t=this,a=e.id;this.$confirm("是否确认取消分享?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["f"])({shareId:a})})).then((function(e){t.$message({type:"success",message:e.msg}),t.getList()}))}}},d=c,u=(a("d3fa"),a("2877")),p=Object(u["a"])(d,n,i,!1,null,"bf7f8952",null);t["default"]=p.exports},2017:function(e,t,a){"use strict";a("cafe")},2044:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},i=[],r=a("313e"),s=a.n(r),o=a("a7dc");a("817d");var l={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=s.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=l,d=a("2877"),u=Object(d["a"])(c,n,i,!1,null,null,null);t["default"]=u.exports},2104:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.node.visible,expression:"node.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":t.expanded,"is-current":t.node.isCurrent,"is-hidden":!t.node.visible,"is-focusable":!t.node.disabled,"is-checked":!t.node.disabled&&t.node.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.draggable},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)},contextmenu:function(t){return e.handleContextMenu(t)},dragstart:function(e){return e.stopPropagation(),t.handleDragStart(e)},dragover:function(e){return e.stopPropagation(),t.handleDragOver(e)},dragend:function(e){return e.stopPropagation(),t.handleDragEnd(e)},drop:function(e){return e.stopPropagation(),t.handleDrop(e)}}},[n("div",{staticClass:"el-tree-node__content",style:{"padding-left":(t.node.level-1)*t.tree.indent+"px"}},[n("span",{class:[{"is-leaf":t.node.isLeaf,expanded:!t.node.isLeaf&&t.expanded},"el-tree-node__expand-icon",t.tree.iconClass?t.tree.iconClass:"el-icon-caret-right"],on:{click:function(e){return e.stopPropagation(),t.handleExpandIconClick(e)}}}),t.showCheckbox&&t.node.data.showCheckBox?n("el-checkbox",{attrs:{indeterminate:t.node.indeterminate,disabled:!!t.node.disabled},on:{change:t.handleCheckChange},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:t.node.checked,callback:function(e){t.$set(t.node,"checked",e)},expression:"node.checked"}}):t._e(),t.node.loading?n("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):t._e(),n("node-content",{attrs:{node:t.node}})],1),n("el-collapse-transition",[!t.renderAfterExpand||t.childNodeRendered?n("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"el-tree-node__children",attrs:{role:"group","aria-expanded":t.expanded}},t._l(t.node.childNodes,(function(e){return n("el-tree-node",{key:t.getNodeKey(e),attrs:{"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:e},on:{"node-expand":t.handleChildNodeExpand}})})),1):t._e()])],1)},i=[],r=a("f308"),s=a("9c1a"),o=a("f6f4"),l=a("e6f7"),c={name:"ElTreeNode",componentName:"ElTreeNode",components:{ElCollapseTransition:r["a"],ElCheckbox:s["a"],NodeContent:{props:{node:{required:!0}},render:function(e){var t=this.$parent,a=t.tree,n=this.node,i=n.data,r=n.store;return t.renderContent?t.renderContent.call(t._renderProxy,e,{_self:a.$vnode.context,node:n,data:i,store:r}):a.$scopedSlots.default?a.$scopedSlots.default({node:n,data:i}):e("span",{class:"el-tree-node__label"},[n.label])}}},mixins:[o["a"]],props:{node:{default:function(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function(e){this.handleSelectChange(this.node.checked,e)},"node.checked":function(e){this.handleSelectChange(e,this.node.indeterminate)},"node.expanded":function(e){var t=this;this.$nextTick((function(){return t.expanded=e})),e&&(this.childNodeRendered=!0)}},created:function(){var e=this,t=this.$parent;t.isTree?this.tree=t:this.tree=t.tree;var a=this.tree;a||console.warn("Can not find node's tree.");var n=a.props||{},i=n["children"]||"children";this.$watch("node.data.".concat(i),(function(){e.node.updateChildren()})),this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",(function(t){e.node!==t&&e.node.collapse()}))},methods:{getNodeKey:function(e){return Object(l["c"])(this.tree.nodeKey,e.data)},handleSelectChange:function(e,t){this.oldChecked!==e&&this.oldIndeterminate!==t&&this.tree.$emit("check-change",this.node.data,e,t),this.oldChecked=e,this.indeterminate=t},handleClick:function(){var e=this.tree.store;e.setCurrentNode(this.node),this.tree.$emit("current-change",e.currentNode?e.currentNode.data:null,e.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!this.node.disabled&&this.handleCheckChange(null,{target:{checked:!this.node.checked}}),this.tree.$emit("node-click",this.node.data,this.node,this)},handleContextMenu:function(e){this.tree._events["node-contextmenu"]&&this.tree._events["node-contextmenu"].length>0&&(e.stopPropagation(),e.preventDefault()),this.tree.$emit("node-contextmenu",e,this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleCheckChange:function(e,t){var a=this;this.node.setChecked(t.target.checked,!this.tree.checkStrictly),this.$nextTick((function(){var e=a.tree.store;a.tree.$emit("check",a.node.data,{checkedNodes:e.getCheckedNodes(),checkedKeys:e.getCheckedKeys(),halfCheckedNodes:e.getHalfCheckedNodes(),halfCheckedKeys:e.getHalfCheckedKeys()})}))},handleChildNodeExpand:function(e,t,a){this.broadcast("ElTreeNode","tree-node-expand",t),this.tree.$emit("node-expand",e,t,a)},handleDragStart:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",e,this)},handleDragOver:function(e){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",e,this),e.preventDefault())},handleDrop:function(e){e.preventDefault()},handleDragEnd:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",e,this)}}},d=c,u=a("2877"),p=Object(u["a"])(d,n,i,!1,null,null,null);t["default"]=p.exports},2395:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空记录")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch,"show-seacher-btn":!1},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"username",label:"连接用户"}}),a("el-table-column",{attrs:{prop:"dcvEquipmentName",label:"DCV设备主机名"}}),a("el-table-column",{attrs:{prop:"userType",label:"用户类型"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[1==n.userType?a("el-tag",{attrs:{type:"info"}},[e._v("拥有者")]):e._e(),2==n.userType?a("el-tag",{attrs:{type:"info"}},[e._v("分享者")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"connectTime",label:"连接时间"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-link",{attrs:{type:"danger",underline:!1,size:"mini"},on:{click:function(t){return e.handleDelete(n)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1)},i=[],r=a("333d"),s=a("b775");function o(e){return Object(s["a"])({url:"/dcv/record/page",method:"get",params:e})}function l(){return Object(s["a"])({url:"/dcv/record/clean",method:"delete"})}function c(e){return Object(s["a"])({url:"/dcv/record/".concat(e),method:"delete"})}var d={components:{Pagination:r["a"]},data:function(){return{listLoading:!1,total:0,queryParams:{page:1,pageCount:10},tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,o(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleClean:function(){var e=this;this.$confirm("是否确认清空记录?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l()})).then((function(t){e.$message({type:"success",message:t.msg}),e.getList()}))},handleDelete:function(e){var t=this,a=e.id;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(a)})).then((function(e){t.$message({type:"success",message:e.msg}),t.getList()}))}}},u=d,p=a("2877"),m=Object(p["a"])(u,n,i,!1,null,null,null);t["default"]=m.exports},2423:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return o}));var n=a("b775");function i(e){return Object(n["a"])({url:"/vue-element-admin/article/list",method:"get",params:e})}function r(e){return Object(n["a"])({url:"/vue-element-admin/article/pv",method:"get",params:{pv:e}})}function s(e){return Object(n["a"])({url:"/vue-element-admin/article/create",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/vue-element-admin/article/update",method:"post",data:e})}},"24e2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v(" 返回 ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v(" oops! ")]),a("h2",[e._v("你没有权限去该页面")]),a("h6",[e._v("如有不满请联系你领导")]),a("ul",{staticClass:"list-unstyled"},[a("li",[e._v("或者你可以去:")]),a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/"}},[e._v(" 回首页 ")])],1),a("li",{staticClass:"link-type"},[a("a",{attrs:{href:"https://www.taobao.com/"}},[e._v("随便看看")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.dialogVisible=!0}}},[e._v("点我看图")])])])]),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"随便看"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticClass:"pan-img",attrs:{src:e.ewizardClap}})])],1)},i=[],r=a("cc6c"),s=a.n(r),o={name:"Page401",data:function(){return{errGif:s.a+"?"+ +new Date,ewizardClap:"https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646",dialogVisible:!1}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)}}},l=o,c=(a("b61b"),a("2877")),d=Object(c["a"])(l,n,i,!1,null,"99fd3ec2",null);t["default"]=d.exports},2544:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"todoapp"},[a("header",{staticClass:"header"},[a("input",{staticClass:"new-todo",attrs:{autocomplete:"off",placeholder:"Todo List"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTodo(t)}}})]),a("section",{directives:[{name:"show",rawName:"v-show",value:e.todos.length,expression:"todos.length"}],staticClass:"main"},[a("input",{staticClass:"toggle-all",attrs:{id:"toggle-all",type:"checkbox"},domProps:{checked:e.allChecked},on:{change:function(t){return e.toggleAll({done:!e.allChecked})}}}),a("label",{attrs:{for:"toggle-all"}}),a("ul",{staticClass:"todo-list"},e._l(e.filteredTodos,(function(t,n){return a("todo",{key:n,attrs:{todo:t},on:{toggleTodo:e.toggleTodo,editTodo:e.editTodo,deleteTodo:e.deleteTodo}})})),1)]),a("footer",{directives:[{name:"show",rawName:"v-show",value:e.todos.length,expression:"todos.length"}],staticClass:"footer"},[a("span",{staticClass:"todo-count"},[a("strong",[e._v(e._s(e.remaining))]),e._v(" "+e._s(e._f("pluralize")(e.remaining,"item"))+" left ")]),a("ul",{staticClass:"filters"},e._l(e.filters,(function(t,n){return a("li",{key:n},[a("a",{class:{selected:e.visibility===n},on:{click:function(t){t.preventDefault(),e.visibility=n}}},[e._v(e._s(e._f("capitalize")(n)))])])})),0)])])},i=[],r=(a("4de4"),a("d3b7"),a("fb6a"),a("e9c4"),a("498a"),a("a434"),a("159b"),a("ced4")),s="todos",o={all:function(e){return e},active:function(e){return e.filter((function(e){return!e.done}))},completed:function(e){return e.filter((function(e){return e.done}))}},l=[{text:"star this repository",done:!1},{text:"fork this repository",done:!1},{text:"follow author",done:!1},{text:"vue-element-admin",done:!0},{text:"vue",done:!0},{text:"element-ui",done:!0},{text:"axios",done:!0},{text:"webpack",done:!0}],c={components:{Todo:r["default"]},filters:{pluralize:function(e,t){return 1===e?t:t+"s"},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},data:function(){return{visibility:"all",filters:o,todos:l}},computed:{allChecked:function(){return this.todos.every((function(e){return e.done}))},filteredTodos:function(){return o[this.visibility](this.todos)},remaining:function(){return this.todos.filter((function(e){return!e.done})).length}},methods:{setLocalStorage:function(){window.localStorage.setItem(s,JSON.stringify(this.todos))},addTodo:function(e){var t=e.target.value;t.trim()&&(this.todos.push({text:t,done:!1}),this.setLocalStorage()),e.target.value=""},toggleTodo:function(e){e.done=!e.done,this.setLocalStorage()},deleteTodo:function(e){this.todos.splice(this.todos.indexOf(e),1),this.setLocalStorage()},editTodo:function(e){var t=e.todo,a=e.value;t.text=a,this.setLocalStorage()},clearCompleted:function(){this.todos=this.todos.filter((function(e){return!e.done})),this.setLocalStorage()},toggleAll:function(e){var t=this,a=e.done;this.todos.forEach((function(e){e.done=a,t.setLocalStorage()}))}}},d=c,u=(a("76f2"),a("2877")),p=Object(u["a"])(d,n,i,!1,null,null,null);t["default"]=p.exports},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},"28b8":function(e,t,a){},"2a33":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("CPU")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("核心数")])]),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.cpuNum))]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("用户使用率")])]),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.used)+"%")]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("系统使用率")])]),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.sys)+"%")]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("当前空闲率")])]),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.free)+"%")]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("内存")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("JVM")])])])]),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("总内存")])]),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.total)+"G")]):e._e()]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.total)+"M")]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("已用内存")])]),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.used)+"G")]):e._e()]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.used)+"M")]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("剩余内存")])]),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.free)+"G")]):e._e()]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.free)+"M")]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("使用率")])]),a("td",[e.server.mem?a("div",{staticClass:"cell",class:{"text-danger":e.server.mem.usage>80}},[e._v(e._s(e.server.mem.usage)+"%")]):e._e()]),a("td",[e.server.jvm?a("div",{staticClass:"cell",class:{"text-danger":e.server.jvm.usage>80}},[e._v(e._s(e.server.jvm.usage)+"%")]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器信息")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器名称")])]),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerName))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("操作系统")])]),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osName))]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器IP")])]),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerIp))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("系统架构")])]),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osArch))]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Java虚拟机信息")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("Java名称")])]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.name))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("Java版本")])]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.version))]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("启动时间")])]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.startTime))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("运行时长")])]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.runTime))]):e._e()])]),a("tr",[a("td",{attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("安装路径")])]),a("td",{attrs:{colspan:"3"}},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.home))]):e._e()])]),a("tr",[a("td",{attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("项目路径")])]),a("td",{attrs:{colspan:"3"}},[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.userDir))]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("磁盘状态")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符路径")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("文件系统")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符类型")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("总大小")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("可用大小")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用大小")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用百分比")])])])]),e.server.sysFiles?a("tbody",e._l(e.server.sysFiles,(function(t,n){return a("tr",{key:n},[a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.dirName))])]),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.sysTypeName))])]),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.typeName))])]),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.total))])]),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.free))])]),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.used))])]),a("td",[a("div",{staticClass:"cell",class:{"text-danger":t.usage>80}},[e._v(e._s(t.usage)+"%")])])])})),0):e._e()])])])],1)],1)],1)},i=[],r=a("b775");function s(){return Object(r["a"])({url:"/info",method:"get"})}var o={name:"Server",data:function(){return{loading:[],server:[]}},created:function(){this.getList(),this.openLoading()},methods:{getList:function(){var e=this;s().then((function(t){e.server=t.data,e.loading.close()})).catch((function(){e.loading.close()}))},openLoading:function(){this.loading=this.$loading({lock:!0,text:"读取中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}},l=o,c=(a("906a"),a("2877")),d=Object(c["a"])(l,n,i,!1,null,null,null);t["default"]=d.exports},"2ab5":function(e,t,a){e.exports=a.p+"static/img/green-tag.32ac41a2.png"},"2c8c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tree",{ref:"tree",attrs:{"highlight-current":!0,"default-expand-all":!0,"expand-on-click-node":!1,data:e.data,"node-key":"id","empty-text":"暂无数据",props:e.defaultProps},on:{"node-click":e.handleNodeClick}})],1)},i=[],r=a("fcb7"),s={props:{deptList:{type:Array,default:function(){return[]}}},data:function(){return{data:[],defaultProps:{children:"children",label:"dictName"}}},mounted:function(){this.deptList.length?(this.data=this.deptList,this.setCurrentKey()):this.getDept()},methods:{getDept:function(){var e=this;Object(r["o"])().then((function(t){e.data=t.data,e.$nextTick((function(){e.data.length&&e.setCurrentKey()}))}))},setCurrentKey:function(){var e=this;this.$nextTick((function(){var t=e.data[0].id;e.$refs.tree.setCurrentKey(t),e.$emit("handleDefaultKey",t)}))},handleNodeClick:function(e){this.$emit("handleNodeClick",e),console.log(e)}}},o=s,l=a("2877"),c=Object(l["a"])(o,n,i,!1,null,"2bded305",null);t["default"]=c.exports},"2e9f":function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a("b775");function i(e){return Object(n["a"])({url:"/rdm/equipment/page",method:"get",params:e})}function r(e){return Object(n["a"])({url:"/rdm/equipment/".concat(e),method:"get"})}function s(e){return Object(n["a"])({url:"/rdm/equipment/".concat(e.id),method:"put",data:e})}function o(e){return Object(n["a"])({url:"/rdm/equipment/".concat(e),method:"delete"})}function l(e){return Object(n["a"])({url:"/rdm/equipment",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/rdm/dept/equipment",method:"post",data:e})}},"2f3f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%","padding-top":"15px"},attrs:{data:e.list}},[a("el-table-column",{attrs:{label:"Order_No","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("orderNoFilter")(t.row.order_no))+" ")]}}])}),a("el-table-column",{attrs:{label:"Price",width:"195",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" ¥"+e._s(e._f("toThousandFilter")(t.row.price))+" ")]}}])}),a("el-table-column",{attrs:{label:"Status",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:e._f("statusFilter")(n.status)}},[e._v(" "+e._s(n.status)+" ")])]}}])})],1)},i=[],r=(a("fb6a"),a("b775"));function s(e){return Object(r["a"])({url:"/vue-element-admin/transaction/list",method:"get",params:e})}var o={filters:{statusFilter:function(e){var t={success:"success",pending:"danger"};return t[e]},orderNoFilter:function(e){return e.substring(0,30)}},data:function(){return{list:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;s().then((function(t){e.list=t.data.items.slice(0,8)}))}}},l=o,c=a("2877"),d=Object(c["a"])(l,n,i,!1,null,null,null);t["default"]=d.exports},30148:function(e,t,a){},"30b3":function(e,t,a){},3132:function(e,t,a){},3252:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("switch-roles",{on:{change:e.handleRolesChange}})],1)},i=[],r=a("8ee8"),s={name:"PagePermission",components:{SwitchRoles:r["default"]},methods:{handleRolesChange:function(){this.$router.push({path:"/permission/index?"+ +new Date})}}},o=s,l=a("2877"),c=Object(l["a"])(o,n,i,!1,null,null,null);t["default"]=c.exports},"338a":function(e,t,a){"use strict";a("91f7")},3528:function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a("b775");function i(e){return Object(n["a"])({url:"/sys/role/page",method:"get",params:e})}function r(){return Object(n["a"])({url:"/sys/role/list",method:"get"})}function s(e){return Object(n["a"])({url:"/sys/role/".concat(e),method:"get"})}function o(e){return Object(n["a"])({url:"/sys/role",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/sys/role",method:"put",data:e})}function c(e,t){return Object(n["a"])({url:"/sys/role/perm/".concat(e),method:"post",data:t})}function d(e){return Object(n["a"])({url:"/sys/role",method:"delete",data:e})}},"36c5":function(e,t,a){"use strict";a("e738")},"36ef":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},i=[],r=a("313e"),s=a.n(r),o=a("a7dc");a("817d");var l={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=s.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},c=l,d=a("2877"),u=Object(d["a"])(c,n,i,!1,null,null,null);t["default"]=u.exports},"39f4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5,xs:24}},[e.deptOptions.length?a("dept-tree",{attrs:{"dept-list":e.deptOptions},on:{handleDefaultKey:e.handleDefaultKey,handleNodeClick:e.handleDeptNodeClick}}):e._e()],1),a("el-col",{attrs:{span:19,xs:24}},[a("div",{staticClass:"over"},[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{staticStyle:{"margin-bottom":"30px","margin-left":"50px"},attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.handleAdd}},[e._v("生成License ")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch,"show-seacher-btn":!1},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{border:"","header-cell-style":{"text-align":"center",color:"black"},"cell-style":{"text-align":"center"},data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"LicenseCode","show-overflow-tooltip":!0,"min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.licenseCode))]}}])}),a("el-table-column",{attrs:{label:"类型","show-overflow-tooltip":!0,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.type.msg))]}}])}),a("el-table-column",{attrs:{label:"联系人姓名","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.contactPerson))]}}])}),a("el-table-column",{attrs:{label:"联系人手机号","min-width":"130","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.phone))]}}])}),a("el-table-column",{attrs:{label:"联系人邮箱","show-overflow-tooltip":!0,"min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.email))]}}])}),a("el-table-column",{attrs:{label:"客户端访问数","show-overflow-tooltip":!0,"min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.clientVisits))]}}])}),a("el-table-column",{attrs:{label:"主机数","show-overflow-tooltip":!0,"min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.dcvNumber))]}}])}),a("el-table-column",{attrs:{label:"有效期","show-overflow-tooltip":!0,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.authEnterpriseLicense.startTime)+"-"+e._s(a.authEnterpriseLicense.endTime)+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"admin"===e.users,expression:"users==='admin'"}],attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDow(t.row)}}},[e._v("下载 ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"admin"===e.users,expression:"users==='admin'"}],attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,"append-to-body":"",limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"85px"}},[a("el-form-item",{attrs:{label:"选择是否中心",prop:"iscenter","label-width":"130px"}},[a("treeselect",{attrs:{options:e.activesoption,placeholder:"请选择是否中心"},on:{select:e.handleActives},model:{value:e.activesValues,callback:function(t){e.activesValues=t},expression:"activesValues"}})],1),a("el-form-item",{attrs:{label:"选择企业License","label-width":"130px"}},[a("treeselect",{attrs:{options:e.licenseoption,placeholder:"请选择企业License"},on:{select:e.handleActives},model:{value:e.companiesLicense,callback:function(t){e.companiesLicense=t},expression:"companiesLicense"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"购买历史",visible:e.dialogVisible,width:"65%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"buy_navs"},[a("div",{staticClass:"buy_nav"},[a("p",[e._v("组织: "+e._s(e.groupName))])]),a("div",{staticClass:"license_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{sortable:"",data:e.tableList,border:"","header-cell-style":{"text-align":"center",color:"black"},"cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{label:"类型","min-width":"80","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.licenseType))]}}])}),a("el-table-column",{attrs:{label:"联系人姓名","min-width":"60","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.contactPerson))]}}])}),a("el-table-column",{attrs:{label:"联系人电话","min-width":"100","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.phone))]}}])}),a("el-table-column",{attrs:{label:"联系人邮箱","min-width":"100","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.email))]}}])}),a("el-table-column",{attrs:{label:"客户端访问数","min-width":"80","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.clientVisits))]}}])}),a("el-table-column",{attrs:{label:"主机数","min-width":"60","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.dcvNumber))]}}])}),a("el-table-column",{attrs:{sortable:"","sort-method":e.sortAddTime,label:"有效期","min-width":"100","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.authEnterpriseLicense.startTime)+"---"+e._s(a.authEnterpriseLicense.endTime)+" ")]}}])}),a("el-table-column",{attrs:{label:"支持协议","min-width":"50","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.authEnterpriseLicense.protocol))]}}])})],1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("关 闭")])],1)])],1)},i=[],r=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("159b"),a("d81d"),a("a1d3")),s=a("ca17"),o=a.n(s),l=(a("542c"),a("fcb7")),c=a("5ecb"),d={components:{Treeselect:o.a,DeptTree:r["default"]},data:function(){return{status:1,groupName:"",group:"",versionCloud:[],coludVer:null,selectValues:["1"],activesValues:["2"],companiesLicense:null,valuedate:"",licensecode:"HHJK-HHDD-JYIU-1JU8S",tableList:[],dialogVisible:!1,listLoading:!1,tableData:[],argument:[],activesoption:[],licenseoption:[],licenseOptions:[],queryParams:{page:1,pageCount:10,sort:"",orderByColumn:"",name:"",deptId:""},showSearch:!0,users:"",ids:[],total:0,title:"",open:!1,deptOptions:[],list:[],nals:1,rules:{},form:{sysDeptId:null,equipmentId:"",contactPerson:"",clientVisits:0,dcvNumber:0,email:"",startTime:"",endTime:"",createBy:1,licenseType:0,phone:"",protocol:0,rdpNumber:0,id:void 0,status:1}}},created:function(){this.getDeptList();var e=localStorage.getItem("user");this.users=e},methods:{handleDefaultKey:function(e){this.queryParams.deptId=e,this.getList()},sortAddTime:function(e,t){return e-t},getList:function(){var e=this;this.listLoading=!0,Object(c["i"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleDow:function(e){var t="";Object(c["systemsGeneration"])(e.authEnterpriseLicense.id).then((function(e){t=e.data.token,Object(c["f"])(t).then((function(e){var t=document.createElement("a"),a=new Blob([e],{type:"application/octet-stream"}),n=URL.createObjectURL(a);t.href=n,t.download="License文件",t.click(),URL.revokeObjectURL(n)}))}))},handleDeptNodeClick:function(e){var t=e.id;this.nals=t,this.queryParams.deptId=t,this.getList()},getDeptList:function(){var e=this;Object(l["w"])().then((function(t){e.deptOptions=t.data}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.deptName,children:e.children}},handleAdd:function(){this.licenseOptions=[],this.valuedate="",this.coludVer=null,this.selectValues=null,this.activesValues=null,this.companiesLicense=null,this.reset(),this.form.createBy=this.nals,Object(c["e"])(),this.want(),this.form.deptId=this.queryParams.deptId,this.open=!0,this.title="生成系统License",this.form.id=void 0},want:function(){var e=this;Object(c["c"])(this.nals).then((function(t){t.data.forEach((function(t){return e.licenseOptions.push(t.authEnterpriseLicense)})),e.licenseoption=e.licenseOptions.map((function(e){return{id:e.id,label:e.licenseCode}}))})),Object(c["e"])().then((function(t){e.activesoption=t.data.map((function(e){return{id:e.code,label:e.msg}}))}))},handleHistory:function(e){var t=this;Object(l["d"])(this.nals).then((function(e){t.tableList=e.data.history})),this.dialogVisible=!0},handleQuery:function(){this.queryParams.page=1},handleDelete:function(e){var t=this,a=e.authEnterpriseLicense.id;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["g"])(a)})).then((function(e){console.log(e,"res---删除--系统license"),t.$message({type:"success",message:e.msg}),t.getList()}))},handBlur:function(){var e=this.valuedate;this.form.startTime=e[0],this.form.endTime=e[1]},handleSelect:function(e){this.form.licenseType=e.id},handleActives:function(e){this.status=e.id},submitForm:function(){var e=this;console.log(this.companiesLicense," this.companiesLicense "),this.$refs["form"].validate((function(t){t&&(Object(c["j"])({enterpriseLicenseId:e.companiesLicense,token:e.activesValues}).then((function(t){e.getList()})),e.open=!1,e.reset(),e.getList())}))},cancel:function(){this.selectValues=null,this.activesValues=null,this.companiesLicense=null,this.coludVer=null,this.open=!1,this.reset()},reset:function(){this.form={contactPerson:"",clientVisits:0,dcvNumber:0,email:"",startTime:"",endTime:"",createBy:1,licenseType:0,phone:"",protocol:0,rdpNumber:0,status:1,deptId:""},this.resetForm("form")}}},u=d,p=(a("7138"),a("2877")),m=Object(p["a"])(u,n,i,!1,null,"01817976",null);t["default"]=m.exports},"3a70":function(e,t,a){},"3ad6":function(e,t,a){"use strict";a("5b6b")},"3b19":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"dept-tree",attrs:{span:5,xs:24}},[a("dept-tree",{on:{handleDefaultKey:e.handleDefaultKey,handleNodeClick:e.handleDeptNodeClick}})],1),a("el-col",{attrs:{span:19,xs:24}},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{gutter:10}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.total,expression:"total == 0"}],staticClass:"empty"},[e._v("暂无数据")]),e._l(e.cardList,(function(t,n){return a("el-col",{key:n,attrs:{xs:24,sm:12,md:12,lg:12,xl:8}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"clearfix",staticStyle:{position:"relative"},attrs:{slot:"header"},slot:"header"},[a("p",{staticClass:"el-dialog__title",staticStyle:{margin:"0px"}},[e._v(e._s(t.name))]),a("el-button",{staticStyle:{position:"absolute",right:"5px",top:"-10px"},attrs:{type:"text"}},[e._v("数量："+e._s(t.children?t.children.length:0))]),a("div",{staticStyle:{color:"#4B4C4F","font-size":"13px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("p",[a("span",{staticClass:"text-label"},[e._v("内网地址：")]),e._v(" "+e._s(t.localIp)+" ")])]),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("p",[a("span",{staticClass:"text-label"},[e._v("外网地址：")]),e._v(" "+e._s(t.publicIp)+" ")])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("p",[a("span",{staticClass:"text-label"},[e._v("备注：")]),e._v(" "+e._s(t.remark)+" ")])])],1)],1)],1),a("div",[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:function(a){return e.handleAdd(t)}}},[e._v("新增")]),a("div",{staticClass:"el-table",staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:t.children,"element-loading-text":"Loading",fit:"","highlight-current-row":"",height:"200"}},[a("el-table-column",{attrs:{prop:"username",label:"用户名","show-overflow-tooltip":!0,"min-width":"60"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"120","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleUpdate(n.row,t)}}},[e._v("修改")]),a("el-button",{staticStyle:{"margin-left":"0px"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handleDelete(n.row)}}},[e._v("删除")])]}}],null,!0)})],1)],1)],1)])],1)}))],2),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticStyle:{padding:"0px 16px"},attrs:{total:e.total,page:e.queryParams.page,"append-to-body":"",limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"主机名称",prop:"name"}},[a("el-input",{attrs:{disabled:!0,placeholder:"主机名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],r=a("1da1"),s=(a("96cf"),a("b0c0"),a("a1d3")),o=a("b775");function l(e){return Object(o["a"])({url:"/rdm/equipment/user/page",method:"get",params:e})}function c(e){return Object(o["a"])({url:"/rdm/equipment/user/".concat(e),method:"get"})}function d(e,t){return Object(o["a"])({url:"/rdm/equipment/user/".concat(t),method:"put",data:e})}function u(e){return Object(o["a"])({url:"/rdm/equipment/user/".concat(e),method:"delete"})}function p(e,t){return Object(o["a"])({url:"/rdm/equipment/user/".concat(t),method:"post",data:e})}var m={components:{DeptTree:s["default"]},data:function(){return{listLoading:!1,queryParams:{page:1,pageCount:10,name:"",deptId:""},total:0,title:"",open:!1,cardList:[],form:{remark:""},rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},created:function(){},methods:{handleDefaultKey:function(e){this.queryParams.deptId=e,this.getList()},getList:function(){var e=this;this.listLoading=!0,l(this.queryParams).then((function(t){console.log(t),e.cardList=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleDeptNodeClick:function(e){var t=e.id;this.queryParams.deptId=t,this.getList()},handleAdd:function(e){this.reset(),this.open=!0,this.title="添加主机用户",this.form.name=e.name,this.form.equipmentId=e.id},handleUpdate:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.reset(),i=e.id,n.next=4,c(i);case 4:r=n.sent,console.log(r),a.form={id:r.data.id,equipmentId:t.id,name:t.name,username:r.data.username,password:r.data.password,remark:r.data.remark},a.open=!0,a.title="修改主机用户";case 9:case"end":return n.stop()}}),n)})))()},handleDelete:function(e){var t=this,a=e.id;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(e){console.log(e),t.$message({type:"success",message:e.msg}),t.getList()}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0===e.form.id?p(e.form,e.form.equipmentId).then((function(t){e.$message({message:"添加成功",type:"success"}),e.open=!1,e.getList()})):d(e.form,e.form.equipmentId).then((function(t){e.$message({message:"修改成功",type:"success"}),e.open=!1,e.getList()})))}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={},this.resetForm("form")}}},h=m,f=(a("cc07"),a("2877")),g=Object(f["a"])(h,n,i,!1,null,"d9d0f13e",null);t["default"]=g.exports},"3b1e":function(e,t,a){"use strict";a("3a70")},"3bb8":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l}));var n=a("b775");function i(e,t){return Object(n["a"])({url:"/dcv/distribute/distribute/".concat(e),method:"post",data:t})}function r(e){return Object(n["a"])({url:"/dcv/distribute/dellocate/".concat(e),method:"delete"})}function s(e){return Object(n["a"])({url:"/dcv/distribute/equipment/".concat(e),method:"get"})}function o(e){return Object(n["a"])({url:"/dcv/distribute/self/page",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/dcv/distribute/uri/".concat(e),method:"get"})}},"3e25":function(e,t,a){"use strict";a("e4b4")},"3f2c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("github-corner",{staticClass:"github-corner"}),a("panel-group",{on:{handleSetLineChartData:e.handleSetLineChartData}}),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("line-chart",{attrs:{"chart-data":e.lineChartData}})],1),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("raddar-chart")],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("pie-chart")],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("bar-chart")],1)])],1),a("el-row",{attrs:{gutter:8}},[a("el-col",{staticStyle:{"padding-right":"8px","margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},xl:{span:12}}},[a("transaction-table")],1),a("el-col",{staticStyle:{"margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:6},xl:{span:6}}},[a("todo-list")],1),a("el-col",{staticStyle:{"margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:6},xl:{span:6}}},[a("box-card")],1)],1)],1)},i=[],r=a("f168"),s=a("6768"),o=a("36ef"),l=a("7b75"),c=a("2044"),d=a("5f84"),u=a("2f3f"),p=a("2544"),m=a("8269"),h={newVisitis:{expectedData:[100,120,161,134,105,160,165],actualData:[120,82,91,154,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},f={name:"DashboardAdmin",components:{GithubCorner:r["a"],PanelGroup:s["default"],LineChart:o["default"],RaddarChart:l["default"],PieChart:c["default"],BarChart:d["default"],TransactionTable:u["default"],TodoList:p["default"],BoxCard:m["default"]},data:function(){return{lineChartData:h.newVisitis}},methods:{handleSetLineChartData:function(e){this.lineChartData=h[e]}}},g=f,b=(a("5f3a"),a("2877")),v=Object(b["a"])(g,n,i,!1,null,"45a81db2",null);t["default"]=v.exports},4196:function(e,t,a){},"42e9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",{attrs:{to:"/clientdownload"}},[e._v("客户端下载")])},i=[],r={},s=r,o=a("2877"),l=Object(o["a"])(s,n,i,!1,null,"8a7b9c80",null);t["default"]=l.exports},"45f0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.form.id?"修改分享":"添加分享","close-on-click-modal":!1,visible:e.visible,"append-to-body":"",width:"600px"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"85px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm()}}},[a("el-form-item",{attrs:{label:"分享权限",prop:"shareAuthority"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",width:"100%",multiple:"",placeholder:"请选择分享权限"},model:{value:e.form.shareAuthority,callback:function(t){e.$set(e.form,"shareAuthority",t)},expression:"form.shareAuthority"}},e._l(e.shareAuth,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),e.form.id?e._e():a("el-form-item",{attrs:{label:"分享用户",prop:"userId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词选择用户","remote-method":e.remoteLoadUser,loading:e.userLoading},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}},e._l(e.userOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"分享时间",prop:"shareTime"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.shareTime,callback:function(t){e.$set(e.form,"shareTime",t)},expression:"form.shareTime"}})],1),a("el-form-item",{attrs:{label:"是否可用",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"正常",value:1}}),a("el-option",{attrs:{label:"禁用",value:2}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)},i=[],r=a("1da1"),s=a("5530"),o=(a("96cf"),a("ac1f"),a("1276"),a("a15b"),a("e9c4"),a("7eb6")),l=a("c0c7"),c=a("2f62"),d={data:function(){return{visible:!1,shareAuth:{},form:{},rules:{id:[{required:!0,message:"ID不能为空",trigger:"blur"}],userId:[{required:!0,message:"请选择用户",trigger:"change"}],shareAuthority:[{required:!0,message:"请选择权限",trigger:"change"}],shareTime:[{required:!0,message:"分享时间不能为空",trigger:"blur"}],shareTimeFormat:[{required:!0,message:"时间格式不能为空",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},userLoading:!1,userOptions:[]}},computed:Object(s["a"])({},Object(c["c"])({deptInfo:function(e){return e.dept.deptInfo}})),created:function(){this.getShareAuth()},methods:{init:function(e){if(this.reset(),console.log(e),this.form.shareTimeFormat=1,e.id){this.form=Object(s["a"])({},e),this.form.shareAuthority=e.shareAuthority.split(" ");var t=JSON.parse(e.shareTime);this.form.shareTime=[t.beginTime,t.endTime]}else{if(!e.dcvEquipmentId)return this.$message.error("请选择分享设备");this.form.dcvEquipmentId=e.dcvEquipmentId}this.visible=!0},getShareAuth:function(){var e=this;Object(o["b"])().then((function(t){e.shareAuth=t.data}))},remoteLoadUser:function(e){var t,a=this;""!==e?(this.userLoading=!0,Object(l["f"])({page:1,pageCount:30,username:e,deptId:(null===(t=this.deptInfo)||void 0===t?void 0:t.id)||""}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.userLoading=!1,a.userOptions=t.data.records;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):this.userOptions=[]},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var a=Object(s["a"])({},e.form);a.shareAuthority=a.shareAuthority.join(" "),a.shareTime=JSON.stringify({beginTime:a.shareTime[0],endTime:a.shareTime[1]}),console.log(a),e.form.id&&void 0!==e.form.id?Object(o["g"])(a).then((function(t){e.visible=!1,e.$message({type:"success",message:t.msg}),e.$emit("refreshDataList")})):Object(o["a"])(a).then((function(t){e.visible=!1,e.$message({type:"success",message:t.msg}),e.$emit("refreshDataList")}))}}))},cancel:function(){this.visible=!1,this.reset()},reset:function(){this.form={},this.resetForm("form")}}},u=d,p=(a("ea18"),a("2877")),m=Object(p["a"])(u,n,i,!1,null,"3e2df2a0",null);t["default"]=m.exports},4861:function(e,t,a){e.exports=a.p+"static/img/computer.5f9ac72d.png"},"48c2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-checkbox-group",{model:{value:e.checkboxVal,callback:function(t){e.checkboxVal=t},expression:"checkboxVal"}},[a("el-checkbox",{attrs:{label:"apple"}},[e._v(" apple ")]),a("el-checkbox",{attrs:{label:"banana"}},[e._v(" banana ")]),a("el-checkbox",{attrs:{label:"orange"}},[e._v(" orange ")])],1)],1),a("el-table",{key:e.key,staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"fruitName",width:"180"}}),e._l(e.formThead,(function(t){return a("el-table-column",{key:t,attrs:{label:t},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row[t])+" ")]}}],null,!0)})}))],2)],1)},i=[],r=(a("4de4"),a("d3b7"),["apple","banana"]),s={data:function(){return{tableData:[{name:"fruit-1",apple:"apple-10",banana:"banana-10",orange:"orange-10"},{name:"fruit-2",apple:"apple-20",banana:"banana-20",orange:"orange-20"}],key:1,formTheadOptions:["apple","banana","orange"],checkboxVal:r,formThead:r}},watch:{checkboxVal:function(e){this.formThead=this.formTheadOptions.filter((function(t){return e.indexOf(t)>=0})),this.key=this.key+1}}},o=s,l=a("2877"),c=Object(l["a"])(o,n,i,!1,null,null,null);t["default"]=c.exports},"4a17":function(e,t,a){},"4b43":function(e,t,a){},"4dc6":function(e,t,a){},"52e4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.form.id?"修改":"新增","close-on-click-modal":!1,visible:e.visible,"append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"85px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm()}}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"主机名称",prop:"hostname"}},[a("el-input",{attrs:{placeholder:"请输入主机名称"},model:{value:e.form.hostname,callback:function(t){e.$set(e.form,"hostname",t)},expression:"form.hostname"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内网地址",prop:"localIp"}},[a("el-input",{attrs:{placeholder:"请输入内网地址"},model:{value:e.form.localIp,callback:function(t){e.$set(e.form,"localIp",t)},expression:"form.localIp"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内网端口",prop:"localPort"}},[a("el-input",{attrs:{placeholder:"请输入内网端口"},model:{value:e.form.localPort,callback:function(t){e.$set(e.form,"localPort",t)},expression:"form.localPort"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公网地址",prop:"publicIp"}},[a("el-input",{attrs:{placeholder:"请输入公网地址"},model:{value:e.form.publicIp,callback:function(t){e.$set(e.form,"publicIp",t)},expression:"form.publicIp"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公网端口",prop:"publicPort"}},[a("el-input",{attrs:{placeholder:"请输入公网端口"},model:{value:e.form.publicPort,callback:function(t){e.$set(e.form,"publicPort",t)},expression:"form.publicPort"}})],1)],1)],1),a("el-form-item",{attrs:{label:"MAC地址",prop:"mac"}},[a("el-input",{attrs:{placeholder:"请输入主机MAC地址"},model:{value:e.form.mac,callback:function(t){e.$set(e.form,"mac",t)},expression:"form.mac"}})],1),a("el-form-item",{attrs:{label:"启用状态",prop:"useStatus"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.useStatus,callback:function(t){e.$set(e.form,"useStatus",t)},expression:"form.useStatus"}},[a("el-option",{attrs:{label:"启用",value:1}}),a("el-option",{attrs:{label:"禁用",value:2}})],1)],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)},i=[],r=a("1da1"),s=(a("96cf"),a("9f62")),o={data:function(){return{visible:!1,form:{},rules:{id:[{required:!0,message:"主机不能为空",trigger:"blur"}],hostname:[{required:!0,message:"主机名称不能为空",trigger:"blur"}],name:[{required:!0,message:"设备名称不能为空",trigger:"blur"}],localIp:[{required:!0,message:"内网地址不能为空",trigger:"blur"}],localPort:[{required:!0,message:"内网端口不能为空",trigger:"blur"}],publicIp:[{required:!0,message:"公网地址不能为空",trigger:"blur"}],publicPort:[{required:!0,message:"公网端口不能为空",trigger:"blur"}],mac:[{required:!0,message:"主机MAC地址不能为空",trigger:"blur"}],useStatus:[{required:!0,message:"请选择状态",trigger:"change"}]}}},methods:{init:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.id,i=e.deptId,t.reset(),t.form.id=n||void 0,t.form.deptId=i,!t.form.id){a.next=10;break}return a.next=7,Object(s["d"])(n);case 7:r=a.sent,t.form=r.data,t.visible=!0;case 10:t.visible=!0;case 11:case"end":return a.stop()}}),a)})))()},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.id&&void 0!==e.form.id?Object(s["g"])(e.form).then((function(t){e.$message({message:"修改成功",type:"success"}),e.visible=!1,e.$emit("refreshDataList")})):Object(s["a"])(e.form).then((function(t){e.$message({message:"添加成功",type:"success"}),e.visible=!1,e.$emit("refreshDataList")})))}))},cancel:function(){this.visible=!1,this.reset()},reset:function(){this.form={},this.resetForm("form")}}},l=o,c=a("2877"),d=Object(c["a"])(l,n,i,!1,null,null,null);t["default"]=d.exports},"53e0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"",prop:"fuzzyCompanyName"}},[a("el-input",{attrs:{placeholder:"请输入企业名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.fuzzyCompanyName,callback:function(t){e.$set(e.queryParams,"fuzzyCompanyName",t)},expression:"queryParams.fuzzyCompanyName"}})],1),a("el-form-item",{attrs:{label:"",prop:"fuzzyUsername"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.fuzzyUsername,callback:function(t){e.$set(e.queryParams,"fuzzyUsername",t)},expression:"queryParams.fuzzyUsername"}})],1),a("el-form-item",{attrs:{label:"",prop:"orderByColumn"}},[a("el-date-picker",{staticClass:"el-input_inner",attrs:{width:"100%","value-format":"timestamp",size:"large",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{blur:e.handBlur},model:{value:e.valuedate,callback:function(t){e.valuedate=t},expression:"valuedate"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1),a("right-toolbar",{attrs:{"show-seacher-btn":!1},on:{queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"sort-change":e.onSortTime}},[a("el-table-column",{attrs:{prop:"companyName",label:"企业名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"username",label:"用户"}}),a("el-table-column",{attrs:{prop:"ipaddr",label:"IP"}}),a("el-table-column",{attrs:{prop:"loginLocation",label:"登录位置","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"os",label:"操作系统"}}),a("el-table-column",{attrs:{prop:"status",label:"登录状态"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[0==n.status?a("el-tag",[e._v("成功")]):e._e(),1==n.status?a("el-tag",{attrs:{type:"danger"}},[e._v("失败")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"msg",label:"登录信息","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"loginTime",label:"登录时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"logoutTime",label:"登出时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"loginTotalTime",align:"center",label:"登录总时长(分)",sortable:"custom"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1)},i=[],r=a("333d"),s=a("cd81"),o={components:{Pagination:r["a"]},data:function(){return{listLoading:!1,total:0,queryParams:{pageNum:1,pageSize:10,beginTime:"",endTime:"",fuzzyUsername:"",status:"",fuzzyCompanyName:""},tableData:[],valuedate:""}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(s["e"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.valuedate="",this.queryParams.beginTime="",this.queryParams.endTime="",this.handleQuery()},handBlur:function(){var e=this.valuedate;this.queryParams.beginTime=e[0],this.queryParams.endTime=e[1]},onSortTime:function(e){"loginTotalTime"==e.prop&&("ascending"==e.order?(this.queryParams.orderColumn="login_total_time",this.queryParams.asc=!0):(this.queryParams.orderColumn="login_total_time",this.queryParams.asc=!1)),this.getList()}}},l=o,c=(a("61c2"),a("2877")),d=Object(c["a"])(l,n,i,!1,null,null,null);t["default"]=d.exports},"53ed":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:""}},[a("treeselect",{staticStyle:{width:"120px"},attrs:{multiple:!1,searchable:"",clearable:!1,options:e.RegionOptions,placeholder:"请选择区域"},on:{select:e.handleOptions},model:{value:e.queryParams.areaCode,callback:function(t){e.$set(e.queryParams,"areaCode",t)},expression:"queryParams.areaCode"}})],1),a("el-form-item",{attrs:{label:"",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入企业名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),a("el-form-item",{attrs:{label:"",prop:"customerName"}},[a("el-input",{attrs:{placeholder:"请输入客户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.customerName,callback:function(t){e.$set(e.queryParams,"customerName",t)},expression:"queryParams.customerName"}})],1),a("el-form-item",{attrs:{label:"",prop:"customerManager"}},[a("el-input",{attrs:{placeholder:"请输入客户负责人名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.customerManager,callback:function(t){e.$set(e.queryParams,"customerManager",t)},expression:"queryParams.customerManager"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),e.refreshTable?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"deptTable",attrs:{lazy:"",load:e.loadSubDept,data:e.deptList,"row-key":"id","default-expand-all":!1,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"deptName",label:"企业名称","show-overflow-tooltip":"",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{on:{click:function(a){return e.handleRouter(t.row)}}},[e._v(e._s(t.row.deptName))])]}}],null,!1,2288836302)}),a("el-table-column",{attrs:{label:"所属区域",prop:"areaName","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"codename",label:"企业代码","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"industryName",label:"行业分类","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"logoPath",align:"center",label:"Logo"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{fit:"cover",src:e.parsePicPath(n.logo),"preview-src-list":[e.parsePicPath(n.logo)]}},[a("template",{slot:"error"},[a("span",[e._v("--")])])],2)]}}],null,!1,2076983858)}),a("el-table-column",{attrs:{prop:"bgImage",align:"center",label:"背景图"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{fit:"cover",src:e.parsePicPath(n.bgImage),"preview-src-list":[e.parsePicPath(n.bgImage)]}},[a("template",{slot:"error"},[a("span",[e._v("--")])])],2)]}}],null,!1,245248594)}),a("el-table-column",{attrs:{prop:"customerName",label:"客户名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"customerRepresentativeName",label:"客户代表","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"customerRepresentativePhone",label:"客户代表电话","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"customerManager",label:"客户负责人","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"shippingAddress",label:"收货地址","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),0!=t.row.parentId?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")]):e._e()]}}],null,!1,1671427293)})],1):e._e(),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1),a("el-dialog",{attrs:{title:e.deptDialogProperties.title,visible:e.open,"close-on-click-modal":!1,width:"800px",top:"9vh","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("div",{staticClass:"upload-form"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("p",{staticClass:"Clients_message"},[e._v("企业信息")]),a("el-row",[0!==e.form.parentId?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"归属",prop:"parentId"}},[a("treeselect",{staticStyle:{width:"100%"},attrs:{options:e.deptOptions,normalizer:e.normalizer,placeholder:"请选择归属"},on:{select:e.deptOptionsSelecte},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1):e._e(),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"行业分类",prop:"industryCode"}},[a("treeselect",{staticStyle:{width:"94%"},attrs:{options:e.hostoptions,placeholder:"请选择行业分类"},on:{select:e.hostoptionsSelecte},model:{value:e.form.industryCode,callback:function(t){e.$set(e.form,"industryCode",t)},expression:"form.industryCode"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.deptDialogProperties.deptName,prop:"deptName"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.deptDialogProperties.deptNamePlaceholder},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"区域"}},[a("treeselect",{staticStyle:{width:"94%"},attrs:{options:e.RegionOptions,searchable:"",placeholder:"请选择区域"},on:{select:e.regionOptionsSelecte},model:{value:e.form.areaCode,callback:function(t){e.$set(e.form,"areaCode",t)},expression:"form.areaCode"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.deptDialogProperties.codename,prop:"codename"}},[a("el-input",{attrs:{placeholder:e.deptDialogProperties.codenamePlaceholder},model:{value:e.form.codename,callback:function(t){e.$set(e.form,"codename",t)},expression:"form.codename"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"-5px"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"logo"}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"","list-type":"picture","show-file-list":!1,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"before-upload":e.handleBefore,"http-request":e.handleRequest,"file-list":e.fileList}},[e.dialogImageUrl?a("img",{staticClass:"avatar",attrs:{src:e.dialogImageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"背景图"}},[a("el-upload",{ref:"uploads",staticClass:"avatar-uploader",attrs:{action:"","list-type":"picture","show-file-list":!1,"on-preview":e.handlePictureCardPreviews,"on-remove":e.handleRemoves,"before-upload":e.handleBefores,"http-request":e.RequestBg,"file-list":e.fileLists}},[e.dialogImageUrls?a("img",{staticClass:"avatar",attrs:{src:e.dialogImageUrls}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),a("p",{staticClass:"Clients_messageg"},[e._v("客户信息")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户名称",prop:"customerName","label-width":"100px"}},[a("el-input",{attrs:{maxlength:"50",placeholder:"请输入客户名称"},model:{value:e.form.customerName,callback:function(t){e.$set(e.form,"customerName",t)},expression:"form.customerName"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户代表",prop:"customerRepresentativeName","label-width":"100px"}},[a("el-input",{attrs:{maxlength:"50",placeholder:"请输入客户代表姓名\n            "},model:{value:e.form.customerRepresentativeName,callback:function(t){e.$set(e.form,"customerRepresentativeName",t)},expression:"form.customerRepresentativeName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代表电话",prop:"customerRepresentativePhone","label-width":"100px"}},[a("el-input",{staticStyle:{width:"94%"},attrs:{placeholder:"请输入客户代表电话"},model:{value:e.form.customerRepresentativePhone,callback:function(t){e.$set(e.form,"customerRepresentativePhone",t)},expression:"form.customerRepresentativePhone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户负责人",prop:"customerManager","label-width":"100px"}},[a("el-input",{attrs:{maxlength:"50",placeholder:"请输入客户接收方负责人姓名"},model:{value:e.form.customerManager,callback:function(t){e.$set(e.form,"customerManager",t)},expression:"form.customerManager"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人电话",prop:"customerManagerPhone","label-width":"100px"}},[a("el-input",{staticStyle:{width:"94%"},attrs:{placeholder:"请输入客户接收方负责人手机"},model:{value:e.form.customerManagerPhone,callback:function(t){e.$set(e.form,"customerManagerPhone",t)},expression:"form.customerManagerPhone"}})],1)],1),a("el-col",{staticStyle:{"margin-bottom":"22px"},attrs:{span:24}},[a("el-form",{attrs:{label:"收货地址",prop:"shippingAddress","label-width":"100px"}},[a("b",{staticClass:"receiving"},[e._v("收货地址")]),a("v-region",{on:{values:e.regionChange},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v("请选择")])],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"详细地址"}},[a("el-input",{staticStyle:{width:"98%"},attrs:{maxlength:"100",placeholder:"请输入详细收货地址"},on:{change:e.handSelect},model:{value:e.form.shippingAddress,callback:function(t){e.$set(e.form,"shippingAddress",t)},expression:"form.shippingAddress"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"简介","label-width":"100px"}},[a("el-input",{staticStyle:{width:"98%"},attrs:{maxlength:"200",type:"textarea",placeholder:"请输入简介(字数限制200)",autosize:{minRows:2,maxRows:6}},model:{value:e.form.summary,callback:function(t){e.$set(e.form,"summary",t)},expression:"form.summary"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)])],1)},i=[],r=a("1da1"),s=(a("96cf"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("159b"),a("b0c0"),a("2b3d"),a("9861"),a("99af"),a("5635"),a("ca17")),o=a.n(s),l=(a("542c"),a("fcb7")),c={name:"Dept",components:{Treeselect:o.a},data:function(){return{areaNameData:[],hostoptions:[],RegionOptions:[],hideUpload:!1,limitCount:1,hideUploads:!1,limitCounts:1,fileList:[],fileLists:[],dialogVisibles:!1,dialogImageUrls:"",flags:!1,selected:{province:"350000",city:"350100",area:"350104"},value:"",dialogImageUrl:"",dialogVisible:!1,loading:!0,showSearch:!0,userDept:"",deptList:[],deptOptions:[],title:"",open:!1,refreshTable:!0,expand:!1,queryParams:{deptId:"",deptName:"",codename:"",page:1,pageCount:10,customerManager:"",customerName:"",areaCode:null},total:0,form:{industryCode:null,areaCode:null},rules:{industryCode:[{required:!0,message:"行业分类不能为空",trigger:"blur"}],parentId:[{required:!0,message:"归属不能为空",trigger:"blur"}],deptName:[{required:!0,message:"企业名称或部门名称不能为空",trigger:"blur"}],codename:[{required:!0,message:"企业代码或部门代码不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"显示排序不能为空",trigger:"blur"}],industry:[]},deptDialogProperties:{type:"",title:"",deptName:"",deptNamePlaceholder:"",codename:"",codenamePlaceholder:"",customerName:"",customerRepresentativeName:"",customerRepresentativePhone:"",customerManager:"",customerManagerPhone:"",shippingAddress:"",privincename:"",city:"",area:"",address:""},logoFile:void 0,logoFileName:void 0,bgFile:void 0,bgFileName:void 0,loadNodeMap:new Map}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["n"])();case 2:a=t.sent,n=a.data,e.userDept=n,e.queryParams.deptId=e.userDept.id,e.getList(),e.handleRegion();case 8:case"end":return t.stop()}}),t)})))()},methods:{handleOptions:function(e){this.queryParams.areaCode=e.id,this.getList()},regionOptionsSelecte:function(e){this.form.areaCode=e.id},handleType:function(){var e=this;Object(l["i"])("IndustryCategory").then((function(t){e.hostoptions=t.data.map((function(e){return{id:e.dictValue,label:e.dictName}}))}))},handleRegion:function(){var e=this;Object(l["i"])("OrganizationArea").then((function(t){e.RegionOptions=t.data.map((function(e){return{id:e.dictValue,label:e.dictName}}))}))},regionChange:function(e){if(e&&e.area){var t=e.province.value,a=e.city.value,n=e.area.value,i=t+a+n;this.deptDialogProperties.address=i,this.form.shippingProvinceCode=e.province.key,this.form.shippingCityCode=e.city.key,this.form.shippingAreaCode=e.area.key}},handSelect:function(e){this.form.shippingAddress=e},getList:function(){var e=this;this.loading=!0,console.log(this.queryParams,"this--queryParams"),Object(l["m"])(this.queryParams).then((function(t){console.log(t,"response--列表"),e.deptList=e.handleDeptList(t.data.records),e.total=t.data.total,e.loading=!1}))},handleRouter:function(e){window.location.href=e.loginURL},loadSubDept:function(e,t,a){var n=this,i=e.id;this.loadNodeMap.set(i,{tree:e,treeNode:t,resolve:a}),Object(l["s"])(i).then((function(e){a(n.handleDeptList(e.data))}))},refreshChildrenTree:function(e){try{var t=this.loadNodeMap.get(e),a=t.tree,n=t.treeNode,i=t.resolve;this.$set(this.$refs.deptTable.store.states.lazyTreeNodeMap,e,[]),a&&this.loadSubDept(a,n,i)}catch(r){this.getList()}},handleDeptList:function(e){var t=this;return e.map((function(e,a){return e.hasChildren=!0,e.loginURL=t.loginPath(e),e}))},cancel:function(){this.open=!1,this.dialogImageUrl="",this.dialogImageUrls="",this.reset()},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.areaCode=null,this.handleQuery()},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.deptName,children:e.children}},handleAdd:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.selected.province="",t.selected.city="",t.selected.area="",t.selected.town="",t.reset(),t.handleType(),t.handleRegion(),a.next=9,Object(l["o"])();case 9:if(n=a.sent,t.deptOptions=n.data,i=e.id||t.userDept.id,t.form.parentId=i,t.form.parentId){a.next=15;break}return a.abrupt("return");case 15:e.id?t.updateDeptDialogProperties(e,"add"):t.userDept?t.updateDeptDialogProperties(t.userDept,"add"):t.updateDeptDialogProperties(null,"add"),t.open=!0;case 17:case"end":return a.stop()}}),a)})))()},handleUpdate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.parsePicPath(e.logo),i=t.parsePicPath(e.bgImage),r=n.substr(50,10),s=i.substr(50,10),t.selected.province=e.shippingProvinceCode,t.selected.city=e.shippingCityCode,t.selected.area=e.shippingAreaCode,t.areaName=e.areaName,t.selected.town="",r.length>=10&&s.length>=10?(t.dialogImageUrl=t.parsePicPath(e.logo),t.dialogImageUrls=t.parsePicPath(e.bgImage)):r.length>=10?t.dialogImageUrl=t.parsePicPath(e.logo):s.length>=10?t.dialogImageUrls=t.parsePicPath(e.bgImage):(t.dialogImageUrl="",t.dialogImageUrls=""),t.reset(),a.next=13,Object(l["o"])();case 13:o=a.sent,t.deptOptions=o.data,Object(l["k"])(e.id).then((function(a){t.form=a.data,t.updateDeptDialogProperties(e,"update"),t.open=!0})),t.handleType(),t.handleRegion();case 18:case"end":return a.stop()}}),a)})))()},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?Object(l["y"])(e.form).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200!=a.code){t.next=10;break}return e.open=!1,e.$message({type:"success",message:a.msg}),t.next=5,e.uploadPicture(a.data);case 5:e.dialogImageUrl="",e.dialogImageUrls="",e.refreshChildrenTree(e.form.parentId),t.next=17;break;case 10:return e.open=!1,e.$message({type:"warning",message:a.msg}),t.next=14,e.uploadPicture(a.data);case 14:e.dialogImageUrl="",e.dialogImageUrls="",e.refreshChildrenTree(e.form.parentId);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):Object(l["a"])(e.form).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200===a.code){t.next=4;break}e.$message({type:"warning",message:"".concat(a.msg)}),t.next=7;break;case 4:return e.$message({type:"success",message:"".concat(a.msg)}),t.next=7,e.uploadPicture(a.data);case 7:return e.open=!1,t.next=10,e.uploadPicture(a.data);case 10:e.dialogImageUrl="",e.dialogImageUrls="",e.refreshChildrenTree(e.form.parentId);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}))},handleDelete:function(e){var t=this;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["f"])(e.id)})).then((function(a){200!==a.code?t.$message({type:"warning",message:"".concat(a.msg)}):(t.$message({type:"success",message:"删除成功"}),t.refreshChildrenTree(e.parentId))})).catch((function(e){console.log(e,"error")}))},uploadPicture:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return");case 2:if(!t.bgFile&&!t.logoFile){a.next=15;break}return n=new FormData,n.append("id",e.id),t.logoFile&&n.append("logo",t.logoFile),t.bgFile&&n.append("bgImage",t.bgFile),a.prev=7,a.next=10,Object(l["z"])(n).then((function(e){200!==e.code&&t.$message({type:"warning",message:"".concat(e.msg)})}));case 10:a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](7),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[7,12]])})))()},reset:function(){this.form={id:void 0,parentId:void 0,orderNum:0,deptName:void 0,codename:void 0,logo:void 0,logoPath:void 0,bgImage:void 0,bgImagePath:void 0,summary:void 0,shippingAddress:void 0,industryCode:null,areaCode:null},this.areaName=null,this.bgFile=void 0,this.logoFile=void 0,this.logoFileName=void 0,this.bgFileName=void 0;var e=document.querySelectorAll(".file");e.forEach((function(t,a){e[a].value=""})),this.resetForm("form")},parsePicPath:function(e){return Object(l["r"])(e)},handleRemove:function(e,t){this.hideUpload=t.length>=this.limitCount},handleRemoves:function(e,t){this.hideUploads=t.length>=this.limitCounts},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleBefore:function(e){var t=e.size/1024/1024,a=e.name.substring(e.name.lastIndexOf(".")+1),n="jpg"===a,i="png"===a,r="jpeg"===a;return n||i||r?t>2?(this.$message({type:"error",message:"图片大小不可超过2M"}),!1):(this.dialogImageUrl=window.URL.createObjectURL(e),n||i||r):(console.log("err"),this.$message({message:"上传文件只能是 jpg, jpeg, png格式!",type:"error"}),!1)},handleBefores:function(e){var t=e.size/1024/1024,a=e.name.substring(e.name.lastIndexOf(".")+1),n="jpg"===a,i="png"===a,r="jpeg"===a;return n||i||r?t>2?(this.$message({type:"error",message:"图片大小不可超过2M"}),!1):(this.dialogImageUrls=window.URL.createObjectURL(e),n||i||r):(this.$message({message:"上传文件只能是 jpg, jpeg, png格式!",type:"error"}),!1)},handlePictureCardPreviews:function(e){this.dialogImageUrls=e.url,this.dialogVisibles=!0},handleRequest:function(e){this.logoFile=e.file,this.logoFileName=e.file.name},RequestBg:function(e){this.bgFile=e.file,this.bgFileName=e.file.name},loginPath:function(e){var t,a=e.codename,n=window.location,i=n.protocol,r=n.host;return t=a?"".concat(i,"//").concat(r,"/reg=").concat(a,"/login"):"".concat(i,"//").concat(r,"/login"),t},deptOptionsSelecte:function(e){var t=e.level,a=this.deptDialogProperties.type;"add"===a&&(t<=1?this.setDeptDialogProperties("企业",a):this.setDeptDialogProperties("部门",a))},hostoptionsSelecte:function(e){this.form.industryCode=e.id},updateDeptDialogProperties:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",a=e?e.level:0;if("add"!==t&&a<=2)return this.setDeptDialogProperties("企业",t);a<=1?this.setDeptDialogProperties("企业",t):this.setDeptDialogProperties("部门",t)},setDeptDialogProperties:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";this.deptDialogProperties.title="add"===t?"添加".concat(e):"修改".concat(e),this.deptDialogProperties.type=t,this.deptDialogProperties.deptName="".concat(e,"名称"),this.deptDialogProperties.deptNamePlaceholder="请输入".concat(e,"名称"),this.deptDialogProperties.codename="".concat(e,"代码"),this.deptDialogProperties.codenamePlaceholder="请输入".concat(e,"代码")}}},d=c,u=(a("1c54"),a("8c1b"),a("2877")),p=Object(u["a"])(d,n,i,!1,null,"44730d20",null);t["default"]=p.exports},5635:function(e,t,a){},"5b0a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5,xs:24,lg:4}},[e.deptOptions.length?a("dept-tree",{attrs:{"dept-list":e.deptOptions},on:{handleDefaultKey:e.handleDefaultKey,handleNodeClick:e.handleDeptNodeClick}}):e._e()],1),a("el-col",{attrs:{span:19,xs:24,lg:20}},[a("el-row",{attrs:{gutter:7}},[a("right-toolbar",{attrs:{"show-search":e.showSearch,"show-seacher-btn":!1},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"hostname",label:"主机名称","show-overflow-tooltip":!0,"min-width":"100"}}),a("el-table-column",{attrs:{prop:"name",label:"设备名称","show-overflow-tooltip":!0,"min-width":"100"}}),a("el-table-column",{attrs:{prop:"localIp",label:"内网地址","show-overflow-tooltip":!0,"min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.localIp+":"+a.localPort)+" ")]}}])}),a("el-table-column",{attrs:{prop:"publicIp",label:"公网地址","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.publicIp+":"+a.publicPort)+" ")]}}])}),a("el-table-column",{attrs:{prop:"useStatus",label:"状态","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[1==n.useStatus?a("el-tag",{attrs:{type:"success"}},[e._v("启用")]):e._e(),2==n.useStatus?a("el-tag",{attrs:{type:"info"}},[e._v("禁用")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"mac",label:"主机MAC地址","show-overflow-tooltip":!0,"min-width":"160"}}),a("el-table-column",{attrs:{prop:"onlineUser",label:"在线人数","show-overflow-tooltip":!0,"min-width":"80"}}),a("el-table-column",{attrs:{prop:"sysDept.deptName",label:"组织","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"lastOfflineTime",label:"上次离线时间","show-overflow-tooltip":!0,"min-width":"140"}}),a("el-table-column",{attrs:{prop:"creater",label:"创建人","show-overflow-tooltip":!0,"min-width":"80"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","show-overflow-tooltip":!0,"min-width":"140"}}),a("el-table-column",{attrs:{prop:"updater",label:"修改人","show-overflow-tooltip":!0,"min-width":"100"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"修改时间","show-overflow-tooltip":!0,"min-width":"140"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleAllotDept(t.row)}}},[e._v("分配组织")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleAllotUser(t.row)}}},[e._v("分配用户")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,"append-to-body":"",limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1)],1),a("el-dialog",{attrs:{title:"分配组织",visible:e.dialogDeptFormVisible,"before-close":e.handleDialogClose},on:{"update:visible":function(t){e.dialogDeptFormVisible=t}}},[a("el-form",{attrs:{model:e.formDeptAndEquipment}},[a("el-form-item",{attrs:{label:"组织信息",prop:"sysDeptId"}},[a("treeselect",{attrs:{"show-count":!0,options:e.deptOptions,normalizer:e.normalizer,placeholder:"请选择组织"},model:{value:e.formDeptAndEquipment.sysDeptId,callback:function(t){e.$set(e.formDeptAndEquipment,"sysDeptId",t)},expression:"formDeptAndEquipment.sysDeptId"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogDeptFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.allotDeptSubmit}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"分配用户",fullscreen:!0,visible:e.dialogUserFormVisible},on:{"update:visible":function(t){e.dialogUserFormVisible=t}}},[e.dialogUserFormVisible?a("user-list",{attrs:{"dept-id":e.queryParams.deptId,"equipment-id":e.currentEquipmentId},on:{handleSelectionChange:e.handleUserSelectionChange}}):e._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogUserFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.allotUserSubmit}},[e._v("提 交")])],1)],1)],1)},i=[],r=a("a1d3"),s=a("9f62"),o=a("3bb8"),l=a("fcb7"),c=a("1a2b"),d=a("ca17"),u=a.n(d),p=(a("542c"),{components:{Treeselect:u.a,DeptTree:r["default"],UserList:c["default"]},data:function(){return{listLoading:!1,tableData:[],queryParams:{page:1,pageCount:10,name:"",deptId:void 0},showSearch:!0,ids:[],total:0,deptOptions:[],dialogDeptFormVisible:!1,formDeptAndEquipment:{sysDeptId:null,dcvEquipmentId:""},dialogUserFormVisible:!1,currentEquipmentId:void 0,userIds:[]}},created:function(){this.getDeptList()},methods:{handleDefaultKey:function(e){this.queryParams.deptId=e,this.getList()},getList:function(){var e=this;this.listLoading=!0,Object(s["e"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleDeptNodeClick:function(e){var t=e.id;this.queryParams.deptId=t,this.getList()},getDeptList:function(){var e=this;Object(l["o"])().then((function(t){e.deptOptions=t.data}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.deptName,children:e.children}},handleQuery:function(){this.queryParams.page=1,this.getList()},handleDelete:function(e){var t=this;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return console.log(e),Object(s["c"])([e.id])})).then((function(e){console.log(e),t.$message({type:"success",message:e.msg}),t.getList()}))},handleAllotDept:function(e){this.formDeptAndEquipment.dcvEquipmentId=e.id,this.formDeptAndEquipment.sysDeptId=e.sysDept.id,this.dialogDeptFormVisible=!0},handleAllotUser:function(e){this.userIds=[],this.currentEquipmentId=e.id,this.dialogUserFormVisible=!0},handleUserSelectionChange:function(e){this.userIds=e},reset:function(){this.form={},this.resetForm("form")},handleDialogClose:function(e){e(),this.formDept={sysDeptId:null,dcvEquipmentId:""}},allotDeptSubmit:function(){var e=this;Object(s["b"])(this.formDeptAndEquipment).then((function(t){e.$message({type:"success",message:"操作成功"}),e.dialogDeptFormVisible=!1,e.getList()}))},allotUserSubmit:function(){var e=this;if(!this.userIds.length)return this.$message.error("请勾选用户");Object(o["b"])(this.currentEquipmentId,this.userIds).then((function(t){e.$message({type:"success",message:t.msg}),e.dialogUserFormVisible=!1,e.getList()}))}}}),m=p,h=(a("c92a"),a("2877")),f=Object(h["a"])(m,n,i,!1,null,"9e4f87fa",null);t["default"]=f.exports},"5b6b":function(e,t,a){},"5cee":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":e.highlightCurrent,"is-dragging":!!e.dragState.draggingNode,"is-drop-not-allow":!e.dragState.allowDrop,"is-drop-inner":"inner"===e.dragState.dropType},attrs:{role:"tree"}},[e._l(e.root.childNodes,(function(t){return a("el-tree-node",{key:e.getNodeKey(t),attrs:{node:t,props:e.props,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent},on:{"node-expand":e.handleNodeExpand}})})),e.isEmpty?a("div",{staticClass:"el-tree__empty-block"},[a("span",{staticClass:"el-tree__empty-text"},[e._v(e._s(e.emptyText))])]):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"el-tree__drop-indicator"})],2)},i=[],r=(a("a9e3"),a("fb6a"),a("d3b7"),a("4de4"),a("53ca")),s=a("d4ec"),o=a("bee2"),l=(a("159b"),a("d81d"),a("4e82"),a("b64b"),a("25f0"),a("a434"),a("eab7")),c=a("e6f7"),d=a("6bd7"),u=function(e){for(var t=!0,a=!0,n=!0,i=0,r=e.length;i<r;i++){var s=e[i];(!0!==s.checked||s.indeterminate)&&(t=!1,s.disabled||(n=!1)),(!1!==s.checked||s.indeterminate)&&(a=!1)}return{all:t,none:a,allWithoutDisable:n,half:!t&&!a}},p=function e(t){if(0!==t.childNodes.length){var a=u(t.childNodes),n=a.all,i=a.none,r=a.half;n?(t.checked=!0,t.indeterminate=!1):r?(t.checked=!1,t.indeterminate=!0):i&&(t.checked=!1,t.indeterminate=!1);var s=t.parent;s&&0!==s.level&&(t.store.checkStrictly||e(s))}},m=function(e,t){var a=e.store.props,n=e.data||{},i=a[t];if("function"===typeof i)return i(n,e);if("string"===typeof i)return n[i];if("undefined"===typeof i){var r=n[t];return void 0===r?"":r}},h=0,f=function(){function e(t){for(var a in Object(s["a"])(this,e),this.id=h++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,t)t.hasOwnProperty(a)&&(this[a]=t[a]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);var i=n.props;if(i&&"undefined"!==typeof i.isLeaf){var r=m(this,"isLeaf");"boolean"===typeof r&&(this.isLeafByUser=r)}if(!0!==n.lazy&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Object(c["d"])(this,this.data),this.data){var o=n.defaultExpandedKeys,l=n.key;l&&o&&-1!==o.indexOf(this.key)&&this.expand(null,n.autoExpandParent),l&&void 0!==n.currentNodeKey&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState()}}return Object(o["a"])(e,[{key:"setData",value:function(e){var t;Array.isArray(e)||Object(c["d"])(this,e),this.data=e,this.childNodes=[],t=0===this.level&&this.data instanceof Array?this.data:m(this,"children")||[];for(var a=0,n=t.length;a<n;a++)this.insertChild({data:t[a]})}},{key:"label",get:function(){return m(this,"label")}},{key:"key",get:function(){var e=this.store.key;return this.data?this.data[e]:null}},{key:"disabled",get:function(){return m(this,"disabled")}},{key:"nextSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}},{key:"previousSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}},{key:"contains",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=function a(n){for(var i=n.childNodes||[],r=!1,s=0,o=i.length;s<o;s++){var l=i[s];if(l===e||t&&a(l)){r=!0;break}}return r};return a(this)}},{key:"remove",value:function(){var e=this.parent;e&&e.removeChild(this)}},{key:"insertChild",value:function(t,a,n){if(!t)throw new Error("insertChild error: child is required.");if(!(t instanceof e)){if(!n){var i=this.getChildren(!0);-1===i.indexOf(t.data)&&("undefined"===typeof a||a<0?i.push(t.data):i.splice(a,0,t.data))}Object(l["a"])(t,{parent:this,store:this.store}),t=new e(t)}t.level=this.level+1,"undefined"===typeof a||a<0?this.childNodes.push(t):this.childNodes.splice(a,0,t),this.updateLeafState()}},{key:"insertBefore",value:function(e,t){var a;t&&(a=this.childNodes.indexOf(t)),this.insertChild(e,a)}},{key:"insertAfter",value:function(e,t){var a;t&&(a=this.childNodes.indexOf(t),-1!==a&&(a+=1)),this.insertChild(e,a)}},{key:"removeChild",value:function(e){var t=this.getChildren()||[],a=t.indexOf(e.data);a>-1&&t.splice(a,1);var n=this.childNodes.indexOf(e);n>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(n,1)),this.updateLeafState()}},{key:"removeChildByData",value:function(e){for(var t=null,a=0;a<this.childNodes.length;a++)if(this.childNodes[a].data===e){t=this.childNodes[a];break}t&&this.removeChild(t)}},{key:"expand",value:function(e,t){var a=this,n=function(){if(t){var n=a.parent;while(n.level>0)n.expanded=!0,n=n.parent}a.expanded=!0,e&&e()};this.shouldLoadData()?this.loadData((function(e){e instanceof Array&&(a.checked?a.setChecked(!0,!0):a.store.checkStrictly||p(a),n())})):n()}},{key:"doCreateChildren",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e){t.insertChild(Object(l["a"])({data:e},a),void 0,!0)}))}},{key:"collapse",value:function(){this.expanded=!1}},{key:"shouldLoadData",value:function(){return!0===this.store.lazy&&this.store.load&&!this.loaded}},{key:"updateLeafState",value:function(){if(!0!==this.store.lazy||!0===this.loaded||"undefined"===typeof this.isLeafByUser){var e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}else this.isLeaf=this.isLeafByUser}},{key:"setChecked",value:function(e,t,a,n){var i=this;if(this.indeterminate="half"===e,this.checked=!0===e,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var r=u(this.childNodes),s=r.all,o=r.allWithoutDisable;this.isLeaf||s||!o||(this.checked=!1,e=!1);var l=function(){if(t){for(var a=i.childNodes,r=0,s=a.length;r<s;r++){var o=a[r];n=n||!1!==e;var l=o.disabled?o.checked:n;o.setChecked(l,t,!0,n)}var c=u(a),d=c.half,p=c.all;p||(i.checked=p,i.indeterminate=d)}};if(this.shouldLoadData())return void this.loadData((function(){l(),p(i)}),{checked:!1!==e});l()}var c=this.parent;c&&0!==c.level&&(a||p(c))}}},{key:"getChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var t=this.data;if(!t)return null;var a=this.store.props,n="children";return a&&(n=a.children||"children"),void 0===t[n]&&(t[n]=null),e&&!t[n]&&(t[n]=[]),t[n]}},{key:"updateChildren",value:function(){var e=this,t=this.getChildren()||[],a=this.childNodes.map((function(e){return e.data})),n={},i=[];t.forEach((function(e,t){var r=e[c["a"]],s=!!r&&Object(d["a"])(a,(function(e){return e[c["a"]]===r}))>=0;s?n[r]={index:t,data:e}:i.push({index:t,data:e})})),this.store.lazy||a.forEach((function(t){n[t[c["a"]]]||e.removeChildByData(t)})),i.forEach((function(t){var a=t.index,n=t.data;e.insertChild({data:n},a)})),this.updateLeafState()}},{key:"loadData",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(a).length)e&&e.call(this);else{this.loading=!0;var n=function(n){t.loaded=!0,t.loading=!1,t.childNodes=[],t.doCreateChildren(n,a),t.updateLeafState(),e&&e.call(t,n)};this.store.load(this,n)}}}]),e}(),g=function(){function e(t){var a=this;for(var n in Object(s["a"])(this,e),this.currentNode=null,this.currentNodeKey=null,t)t.hasOwnProperty(n)&&(this[n]=t[n]);if(this.nodesMap={},this.root=new f({data:this.data,store:this}),this.lazy&&this.load){var i=this.load;i(this.root,(function(e){a.root.doCreateChildren(e),a._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}return Object(o["a"])(e,[{key:"filter",value:function(e){var t=this.filterNodeMethod,a=this.lazy,n=function n(i){var r=i.root?i.root.childNodes:i.childNodes;if(r.forEach((function(a){a.visible=t.call(a,e,a.data,a),n(a)})),!i.visible&&r.length){var s=!0;s=!r.some((function(e){return e.visible})),i.root?i.root.visible=!1===s:i.visible=!1===s}e&&(!i.visible||i.isLeaf||a||i.expand())};n(this)}},{key:"setData",value:function(e){var t=e!==this.root.data;t?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}},{key:"getNode",value:function(e){if(e instanceof f)return e;var t="object"!==Object(r["a"])(e)?e:Object(c["c"])(this.key,e);return this.nodesMap[t]||null}},{key:"insertBefore",value:function(e,t){var a=this.getNode(t);a.parent.insertBefore({data:e},a)}},{key:"insertAfter",value:function(e,t){var a=this.getNode(t);a.parent.insertAfter({data:e},a)}},{key:"remove",value:function(e){var t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}},{key:"append",value:function(e,t){var a=t?this.getNode(t):this.root;a&&a.insertChild({data:e})}},{key:"_initDefaultCheckedNodes",value:function(){var e=this,t=this.defaultCheckedKeys||[],a=this.nodesMap;t.forEach((function(t){var n=a[t];n&&n.setChecked(!0,!e.checkStrictly)}))}},{key:"_initDefaultCheckedNode",value:function(e){var t=this.defaultCheckedKeys||[];-1!==t.indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)}},{key:"setDefaultCheckedKey",value:function(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}},{key:"registerNode",value:function(e){var t=this.key;if(t&&e&&e.data){var a=e.key;void 0!==a&&(this.nodesMap[e.key]=e)}}},{key:"deregisterNode",value:function(e){var t=this,a=this.key;a&&e&&e.data&&(e.childNodes.forEach((function(e){t.deregisterNode(e)})),delete this.nodesMap[e.key])}},{key:"getCheckedNodes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[],n=function n(i){var r=i.root?i.root.childNodes:i.childNodes;r.forEach((function(i){(i.checked||t&&i.indeterminate)&&(!e||e&&i.isLeaf)&&a.push(i.data),n(i)}))};return n(this),a}},{key:"getCheckedKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getCheckedNodes(t).map((function(t){return(t||{})[e.key]}))}},{key:"getHalfCheckedNodes",value:function(){var e=[],t=function t(a){var n=a.root?a.root.childNodes:a.childNodes;n.forEach((function(a){a.indeterminate&&e.push(a.data),t(a)}))};return t(this),e}},{key:"getHalfCheckedKeys",value:function(){var e=this;return this.getHalfCheckedNodes().map((function(t){return(t||{})[e.key]}))}},{key:"_getAllNodes",value:function(){var e=[],t=this.nodesMap;for(var a in t)t.hasOwnProperty(a)&&e.push(t[a]);return e}},{key:"updateChildren",value:function(e,t){var a=this.nodesMap[e];if(a){for(var n=a.childNodes,i=n.length-1;i>=0;i--){var r=n[i];this.remove(r.data)}for(var s=0,o=t.length;s<o;s++){var l=t[s];this.append(l,a.data)}}}},{key:"_setCheckedKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,n=this._getAllNodes().sort((function(e,t){return t.level-e.level})),i=Object.create(null),r=Object.keys(a);n.forEach((function(e){return e.setChecked(!1,!1)}));for(var s=0,o=n.length;s<o;s++){var l=n[s],c=l.data[e].toString(),d=r.indexOf(c)>-1;if(d){var u=l.parent;while(u&&u.level>0)i[u.data[e]]=!0,u=u.parent;l.isLeaf||this.checkStrictly?l.setChecked(!0,!1):(l.setChecked(!0,!0),t&&function(){l.setChecked(!1,!1);var e=function e(t){var a=t.childNodes;a.forEach((function(t){t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(l)}())}else l.checked&&!i[c]&&l.setChecked(!1,!1)}}},{key:"setCheckedNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.key,n={};e.forEach((function(e){n[(e||{})[a]]=!0})),this._setCheckedKeys(a,t,n)}},{key:"setCheckedKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=e;var a=this.key,n={};e.forEach((function(e){n[e]=!0})),this._setCheckedKeys(a,t,n)}},{key:"setDefaultExpandedKeys",value:function(e){var t=this;e=e||[],this.defaultExpandedKeys=e,e.forEach((function(e){var a=t.getNode(e);a&&a.expand(null,t.autoExpandParent)}))}},{key:"setChecked",value:function(e,t,a){var n=this.getNode(e);n&&n.setChecked(!!t,a)}},{key:"getCurrentNode",value:function(){return this.currentNode}},{key:"setCurrentNode",value:function(e){var t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}},{key:"setUserCurrentNode",value:function(e){var t=e[this.key],a=this.nodesMap[t];this.setCurrentNode(a)}},{key:"setCurrentNodeKey",value:function(e){if(null===e||void 0===e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);var t=this.getNode(e);t&&this.setCurrentNode(t)}}]),e}(),b=a("2104"),v=a("9206"),y=a("f6f4"),w=a("526f"),k={name:"ElTree2",components:{ElTreeNode:b["default"]},mixins:[y["a"]],props:{data:{type:Array},emptyText:{type:String,default:function(){return Object(v["a"])("el.tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0}}},computed:{children:{set:function(e){this.data=e},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function(){var e=this.root.childNodes;return!e||0===e.length||e.every((function(e){var t=e.visible;return!t}))}},watch:{defaultCheckedKeys:function(e){this.store.setDefaultCheckedKey(e)},defaultExpandedKeys:function(e){this.store.defaultExpandedKeys=e,this.store.setDefaultExpandedKeys(e)},data:function(e){this.store.setData(e)},checkboxItems:function(e){Array.prototype.forEach.call(e,(function(e){e.setAttribute("tabindex",-1)}))},checkStrictly:function(e){this.store.checkStrictly=e}},created:function(){var e=this;this.isTree=!0,this.store=new g({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root;var t=this.dragState;this.$on("tree-node-drag-start",(function(a,n){if("function"===typeof e.allowDrag&&!e.allowDrag(n.node))return a.preventDefault(),!1;a.dataTransfer.effectAllowed="move";try{a.dataTransfer.setData("text/plain","")}catch(i){console.log(i)}t.draggingNode=n,e.$emit("node-drag-start",n.node,a)})),this.$on("tree-node-drag-over",(function(a,n){var i=Object(c["b"])(a.target,"ElTreeNode"),r=t.dropNode;r&&r!==i&&Object(w["b"])(r.$el,"is-drop-inner");var s=t.draggingNode;if(s&&i){var o=!0,l=!0,d=!0,u=!0;"function"===typeof e.allowDrop&&(o=e.allowDrop(s.node,i.node,"prev"),u=l=e.allowDrop(s.node,i.node,"inner"),d=e.allowDrop(s.node,i.node,"next")),a.dataTransfer.dropEffect=l?"move":"none",(o||l||d)&&r!==i&&(r&&e.$emit("node-drag-leave",s.node,r.node,a),e.$emit("node-drag-enter",s.node,i.node,a)),(o||l||d)&&(t.dropNode=i),i.node.nextSibling===s.node&&(d=!1),i.node.previousSibling===s.node&&(o=!1),i.node.contains(s.node,!1)&&(l=!1),(s.node===i.node||s.node.contains(i.node))&&(o=!1,l=!1,d=!1);var p,m=i.$el.getBoundingClientRect(),h=e.$el.getBoundingClientRect(),f=o?l?.25:d?.45:1:-1,g=d?l?.75:o?.55:0:1,b=-9999,v=a.clientY-m.top;p=v<m.height*f?"before":v>m.height*g?"after":l?"inner":"none";var y=i.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),k=e.$refs.dropIndicator;"before"===p?b=y.top-h.top:"after"===p&&(b=y.bottom-h.top),k.style.top=b+"px",k.style.left=y.right-h.left+"px","inner"===p?Object(w["a"])(i.$el,"is-drop-inner"):Object(w["b"])(i.$el,"is-drop-inner"),t.showDropIndicator="before"===p||"after"===p,t.allowDrop=t.showDropIndicator||u,t.dropType=p,e.$emit("node-drag-over",s.node,i.node,a)}})),this.$on("tree-node-drag-end",(function(a){var n=t.draggingNode,i=t.dropType,r=t.dropNode;if(a.preventDefault(),a.dataTransfer.dropEffect="move",n&&r){var s={data:n.node.data};"none"!==i&&n.node.remove(),"before"===i?r.node.parent.insertBefore(s,r.node):"after"===i?r.node.parent.insertAfter(s,r.node):"inner"===i&&r.node.insertChild(s),"none"!==i&&e.store.registerNode(s),Object(w["b"])(r.$el,"is-drop-inner"),e.$emit("node-drag-end",n.node,r.node,i,a),"none"!==i&&e.$emit("node-drop",n.node,r.node,i,a)}n&&!r&&e.$emit("node-drag-end",n.node,null,i,a),t.showDropIndicator=!1,t.draggingNode=null,t.dropNode=null,t.allowDrop=!0}))},mounted:function(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")},methods:{filter:function(e){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(e)},getNodeKey:function(e){return Object(c["c"])(this.nodeKey,e.data)},getNodePath:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");var t=this.store.getNode(e);if(!t)return[];var a=[t.data],n=t.parent;while(n&&n!==this.root)a.push(n.data),n=n.parent;return a.reverse()},getCheckedNodes:function(e,t){return this.store.getCheckedNodes(e,t)},getCheckedKeys:function(e){return this.store.getCheckedKeys(e)},getCurrentNode:function(){var e=this.store.getCurrentNode();return e?e.data:null},getCurrentKey:function(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var e=this.getCurrentNode();return e?e[this.nodeKey]:null},setCheckedNodes:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(e,t)},setCheckedKeys:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(e,t)},setChecked:function(e,t,a){this.store.setChecked(e,t,a)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(e)},setCurrentKey:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(e)},getNode:function(e){return this.store.getNode(e)},remove:function(e){this.store.remove(e)},append:function(e,t){this.store.append(e,t)},insertBefore:function(e,t){this.store.insertBefore(e,t)},insertAfter:function(e,t){this.store.insertAfter(e,t)},handleNodeExpand:function(e,t,a){this.broadcast("ElTreeNode","tree-node-expand",t),this.$emit("node-expand",e,t,a)},updateKeyChildren:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(e,t)},initTabIndex:function(){this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var e=this.$el.querySelectorAll(".is-checked[role=treeitem]");e.length?e[0].setAttribute("tabindex",0):this.treeItems[0]&&this.treeItems[0].setAttribute("tabindex",0)},handleKeydown:function(e){var t=e.target;if(-1!==t.className.indexOf("el-tree-node")){var a=e.keyCode;this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]");var n,i=this.treeItemArray.indexOf(t);[38,40].indexOf(a)>-1&&(e.preventDefault(),n=38===a?0!==i?i-1:0:i<this.treeItemArray.length-1?i+1:0,this.treeItemArray[n].focus()),[37,39].indexOf(a)>-1&&(e.preventDefault(),t.click());var r=t.querySelector('[type="checkbox"]');[13,32].indexOf(a)>-1&&r&&(e.preventDefault(),r.click())}}}},x=k,_=a("2877"),C=Object(_["a"])(x,n,i,!1,null,null,null);t["default"]=C.exports},"5ecb":function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"h",(function(){return o})),a.d(t,"i",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"j",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return p}));var n=a("b775");function i(e){return Object(n["a"])({url:"/authorization/system/licence/download/".concat(e),method:"get"})}function r(){return Object(n["a"])({url:"/authorization/system/license/type",method:"get"})}function s(e){return Object(n["a"])({url:"/license/file/upload",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/authorization/system/generate/licence/".concat(e.licenseId),method:"get",params:e})}function l(e){return Object(n["a"])({url:"/authorization/system/page",method:"get",params:e})}function c(e){return Object(n["a"])({url:"/authorization/system/enterprise/license/can/bound",method:"get",params:e})}function d(e){return Object(n["a"])({url:"/authorization/system/license",method:"post",data:e})}function u(e){return console.log(e,"equipmentId"),Object(n["a"])({url:"/authorization/license/equipment/generate/licence/".concat(e),method:"get"})}function p(e){return console.log(e,"token-license"),Object(n["a"])({url:"/authorization/license/equipment/licence/download/".concat(e),method:"get"})}},"5f3a":function(e,t,a){"use strict";a("dc58")},"5f84":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},i=[],r=a("313e"),s=a.n(r),o=a("a7dc");a("817d");var l=6e3,c={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=s.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:l},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:l},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:l}]})}}},d=c,u=a("2877"),p=Object(u["a"])(d,n,i,!1,null,null,null);t["default"]=p.exports},"5f8b":function(e,t,a){},6004:function(e,t,a){},"61c2":function(e,t,a){"use strict";a("7621")},6310:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("添加安装包")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"name",label:"安装包"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-link",{attrs:{href:e.downloadFileURL(n.name),target:"_blank"}},[e._v(e._s(n.name))])]}}])}),a("el-table-column",{attrs:{prop:"releases",label:"版本"}}),a("el-table-column",{attrs:{prop:"releases",label:"版本类型"}}),a("el-table-column",{attrs:{prop:"creater",label:"创建人"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{label:"激活",align:"center",width:"160","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66"},on:{change:function(t){return e.activateChange(n)}},model:{value:n.activate,callback:function(t){e.$set(n,"activate",t)},expression:"row.activate"}})]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"版本类型"}},[a("treeselect",{attrs:{options:e.versionSelect,placeholder:"请选择版本类型"},on:{select:e.handleVersion},model:{value:e.form.versionType,callback:function(t){e.$set(e.form,"versionType",t)},expression:"form.versionType"}})],1),a("el-form-item",{attrs:{label:"安装包文件",prop:"packageFile"}},[a("div",{staticClass:"content-a-upload el-button el-button--primary el-button--small"},[a("input",{ref:"packageFile",attrs:{type:"file"},on:{change:e.getPackageFile}}),e._v("选择文件 ")]),a("div",[e._v(e._s(e.form.packageFileName))])]),a("el-form-item",{attrs:{label:"yml 文件",prop:"ymlFile"}},[a("div",{staticClass:"content-a-upload el-button el-button--primary el-button--small"},[a("input",{ref:"ymlFile",attrs:{type:"file"},on:{change:e.getYmlFile}}),e._v("选择文件 ")]),a("div",[e._v(e._s(e.form.ymlFileName))])])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:e.uploadLoading,type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],r=(a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("333d")),s=a("fcb7"),o=a("d791"),l=a("ca17"),c=a.n(l),d=(a("542c"),{components:{Pagination:r["a"],Treeselect:c.a},data:function(){return{list:null,listLoading:!1,total:0,queryParams:{page:1,pageCount:10},tableData:[],versionSelect:[],open:!1,title:"",form:{packageFileName:"",packageFile:"",ymlFileName:"",ymlFile:"",versionType:null},rules:{packageFile:[{required:!0,message:"安装包不能为空",trigger:"change"}],ymlFile:[{required:!0,message:"yml 文件不能为空",trigger:"change"}],typeversion:[{required:!0,trigger:"blur"}]},uploadLoading:!1,downloadFileURL:o["c"]}},created:function(){this.getList()},methods:{handleType:function(){Object(s["i"])("HostVersion").then((function(e){console.log(e,"res--")}))},handleVersion:function(){},getList:function(){var e=this;this.listLoading=!0,Object(o["d"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleAdd:function(){this.reset(),this.open=!0,this.title="添加"},activateChange:function(e){var t=this;this.$confirm("确认此操作 ?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["a"])({id:e.id}).then((function(e){t.$message({type:"success",message:e.msg}),t.getList()}))})).catch((function(){e.activate=0===e.activate?1:0}))},getPackageFile:function(e){var t=e.target.files[0];console.log(t),this.form.packageFile=t,this.form.packageFileName=t.name},getYmlFile:function(e){var t=e.target.files[0];this.form.ymlFile=t,this.form.ymlFileName=t.name},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.uploadLoading=!0;var a=e.form,n=a.packageFile,i=a.ymlFile,r=new FormData;r.append("packageFile",n),r.append("ymlFile",i),Object(o["f"])(r).then((function(t){e.uploadLoading=!1,e.$message({type:"success",message:t.msg}),e.open=!1,e.getList()})).catch((function(){e.uploadLoading=!1}))}}))},downloadHandle:function(e){Object(o["b"])(e).then((function(t){var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.style.display="none",n.href=a,n.download=e,document.body.appendChild(n),n.click(),URL.revokeObjectURL(a),document.body.removeChild(n)}))},cancel:function(){this.uploadLoading=!1,this.open=!1,this.reset()},reset:function(){this.form={packageFileName:"",packageFile:"",ymlFileName:"",ymlFile:""},this.resetForm("form")}}}),u=d,p=(a("b4e9"),a("2877")),m=Object(p["a"])(u,n,i,!1,null,null,null);t["default"]=m.exports},"634c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"uploadFile-panel",attrs:{id:"global-uploader"}},[a("uploader",{ref:"uploader",staticClass:"uploader-app",attrs:{options:e.options,"auto-start":!1,"file-status-text":e.fileStatusText},on:{"files-added":e.onFilesAdd,"file-success":e.onFileSuccess,"file-progress":e.onFileProgress,"file-error":e.onFileError}},[a("uploader-unsupport"),a("uploader-btn",{ref:"uploadBtn",attrs:{id:"global-uploader-btn",attrs:e.attrs}},[a("i",{staticClass:"el-icon-plus fileAddIcon"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.isdisable,expression:"isdisable"}],staticClass:"global-uploader-disable"},[a("span",[a("i",{staticClass:"el-icon-plus"})])]),a("uploader-list",{directives:[{name:"show",rawName:"v-show",value:e.panelShow,expression:"panelShow"}],scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{staticClass:"file-panel",class:{collapse:e.collapse}},[a("div",{staticClass:"file-title"},[a("h2",{staticStyle:{color:"#606266","font-weight":"400"}},[e._v("文件列表")]),a("div",{staticClass:"operate"},[a("el-button",{staticClass:"mr8",attrs:{type:"text",title:e.collapse?"展开":"折叠"},on:{click:e.fileListShow}},[a("i",{class:e.collapse?"el-icon-full-screen":"el-icon-minus",staticStyle:{"font-weight":"700","font-size":"16px"}})]),a("el-button",{attrs:{type:"text",title:"关闭"},on:{click:e.close}},[a("i",{staticClass:"el-icon-close",staticStyle:{"font-weight":"700","font-size":"16px"}})])],1)]),a("ul",{class:["file-list","file-lists_"+e.fileCompentId]},[e._l(t.fileList,(function(e){return a("li",{key:e.id},[a("uploader-file",{ref:"files",refInFor:!0,class:"file_"+e.id,attrs:{file:e,list:!0}})],1)})),t.fileList.length?e._e():a("div",{staticClass:"no-file"},[a("i",{staticClass:"iconfont icon-empty-file"}),e._v(" 暂无待上传文件 ")])],2)])}}])})],1)],1)},i=[],r=a("5530"),s=(a("a9e3"),a("4de4"),a("d3b7"),a("159b"),a("b0c0"),a("99af"),a("b680"),a("1157")),o=a.n(s),l=a("69a0"),c=a.n(l),d=a("f766"),u=a("5f87");a("ac1f"),a("1276"),a("498a");function p(e){var t=e.lastIndexOf("."),a=e.length,n=e.substring(t+1,a),i=e.substring(0,t).trim();return i+"."+n.toLowerCase()}function m(){var e=[".png",".jpg",".jpeg",".gif",".bmp"],t=[".mp4",".rmvb",".mkv",".wmv",".flv"],a=[".doc",".docx",".xls",".xlsx",".ppt",".pptx",".pdf",".txt",".tif",".tiff"];return[].concat(e,t,a)}var h={props:{fileListArr:{type:Array,default:function(){return[]}},fileType:{type:Array,default:function(){return m()}},isdisable:{type:Boolean},autoResume:{type:Boolean,default:!1},fileCompentId:{type:Number,default:1}},data:function(){return{options:{target:d["a"],chunkSize:1048576,fileParameterName:"file",simultaneousUploads:3,maxChunkRetries:1,testChunks:!0,checkChunkUploadedByResponse:function(e,t){var a,n,i=JSON.parse(t);return console.log(i),!(null===(a=i.data)||void 0===a||!a.skipUpload)||((null===(n=i.data)||void 0===n?void 0:n.uploaded)||[]).indexOf(e.offset+1)>=0},headers:{Authorization:Object(u["a"])()}},fileStatusText:{success:"上传成功",error:"上传失败",uploading:"上传中...",paused:"暂停",waiting:"排队中..."},attrs:{accept:m()},panelShow:!1,collapse:!1,errorList:[]}},computed:{uploader:function(){return this.$refs.uploader.uploader}},mounted:function(){var e=this;this.$bus.$on("openUploader",(function(t){e.params=t||{},e.$refs.uploadBtn&&o()("#global-uploader-btn").click()}))},destroyed:function(){this.$bus.$off("openUploader")},methods:{onFilesAdd:function(e){var t=this,a=!0;if(e&&e.length>0)for(var n=e.length>0?e:this.$refs.uploader.uploader.fileList.filter((function(e){return!e.completed})),i=0;i<n.length;i++){var r=n[i];if(a=this.beforeUpload(r,n),!a)break}else a=!1;a||(this.errorList=[],e.ignored=!0),this.panelShow=!0,e.forEach((function(e){t.computeMD5(e),t.$bus.$emit("fileAdded")}))},beforeUpload:function(e,t){var a=!1,n=!1;if(this.$refs.uploader.uploader.fileList.length>1)for(var i=this.$refs.uploader.uploader.fileList,r=0,s=0;s<i.length;s++){var o=i[s];if(o.completed||o.name!==e.name||r++,r>1&&(a=!0,-1===this.errorList.indexOf(1)&&(this.$message({type:"warning",message:"当前文件已在上传任务中",duration:1500}),this.errorList.push(1))),a)break}if(this.fileListArr.length>0){for(var l=0;l<this.fileListArr.length;l++){var c=this.fileListArr[l];if(p(c.filename)===p(e.name)&&(n=!0),n)break}if(n)return-1===this.errorList.indexOf(1)&&(this.$message({type:"warning",message:"文件名称不能重复",duration:1500}),this.errorList.push(1)),!1}return!a&&!n},onFileProgress:function(e,t,a){console.log("上传中 ".concat(t.name,"，chunk：").concat(a.startByte/1024/1024," ~ ").concat(a.endByte/1024/1024))},onFileSuccess:function(e,t,a,n){var i=null;if("string"===typeof a&&(i=JSON.parse(a)),i.data&&0===i.data)return this.$message({message:i.msg,type:"error"}),void this.statusSet(t.id,"failed");this.$bus.$emit("fileSuccess",{result:i,file:t})},onFileError:function(e,t,a,n){this.$message({message:a,type:"error"})},computeMD5:function(e){var t=this,a=new FileReader,n=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,i=0,r=1024e4,s=Math.ceil(e.size/r),l=new c.a.ArrayBuffer;function d(){var t=i*r,s=t+r>=e.size?e.size:t+r;a.readAsArrayBuffer(n.call(e.file,t,s))}this.statusSet(e.id,"md5"),e.pause(),d(),a.onload=function(a){if(l.append(a.target.result),i<s)i++,d(),t.$nextTick((function(){o()(".myStatus_".concat(e.id)).text("校验MD5 "+(i/s*100).toFixed(0)+"%")}));else{var n=l.end();t.computeMD5Success(n,e),t.$nextTick((function(){o()(".file_".concat(e.id," .uploader-file-resume")).removeAttr("style","")}))}},a.onerror=function(){this.error("文件".concat(e.name,"读取出错，请检查该文件")),e.cancel()}},computeMD5Success:function(e,t){var a={fileMd5:e,name:t.name,query:Object(r["a"])({},this.params)};Object.assign(this.uploader.opts,a),t.uniqueIdentifier=e,this.autoResume&&t.resume(),this.statusRemove(t.id)},fileListShow:function(){var e=o()(".file-lists_".concat(this.fileCompentId));e.is(":visible")?(e.slideUp(),this.collapse=!0):(e.slideDown(),this.collapse=!1)},close:function(){var e=this;this.$confirm("是否确定关闭窗口，关闭此窗口，未上传的文件将停止上传?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.uploader.cancel(),e.panelShow=!1})).catch((function(){}))},statusSet:function(e,t){var a={md5:{text:"校验MD5",bgc:"#fff"},merging:{text:"合并中",bgc:"#e2eeff"},transcoding:{text:"转码中",bgc:"#e2eeff"},failed:{text:"上传失败",bgc:"#ffe0e0"},success:{text:"上传成功",bgc:"#fff"},uploading:{text:"上传中...",bgc:"#fff"},paused:{text:"暂停",bgc:"#fff"},waiting:{text:"排队中...",bgc:"#fff"}};this.$nextTick((function(){o()('<p class="myStatus_'.concat(e,'"></p>')).appendTo(".file_".concat(e," .uploader-file-status")).css({position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"1",lineHeight:"14px",backgroundColor:a[t].bgc}).text(a[t].text),o()(".file_".concat(e," .uploader-file-resume")).css("display","none")}))},statusRemove:function(e){this.$nextTick((function(){o()(".myStatus_".concat(e)).remove()}))},error:function(e){this.$notify({title:"错误",message:e,type:"error",duration:2e3})}}},f=h,g=(a("f8d5"),a("2877")),b=Object(g["a"])(f,n,i,!1,null,"2ba7b4fc",null);t["default"]=b.exports},6387:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空记录")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch,"show-seacher-btn":!1},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"log.operateUsername",label:"操作用户"}}),a("el-table-column",{attrs:{prop:"log.operateEquipmentName",label:"IP"}}),a("el-table-column",{attrs:{prop:"log.operateEquipmentHostname",label:"登录位置"}}),a("el-table-column",{attrs:{prop:"log.operate",label:"操作类型"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[1==n.log.operate?a("el-tag",[e._v("开机")]):e._e(),2==n.log.operate?a("el-tag",{attrs:{type:"warning"}},[e._v("关机")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"log.operateTime",label:"操作时间"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-link",{attrs:{type:"danger",underline:!1,size:"mini"},on:{click:function(t){return e.handleDelete(n.log)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1)},i=[],r=a("333d"),s=a("b775");function o(e){return Object(s["a"])({url:"/rdm/equipment/operate/page",method:"get",params:e})}function l(){return Object(s["a"])({url:"/rdm/equipment/operate/clean",method:"delete"})}function c(e){return Object(s["a"])({url:"/rdm/equipment/operate/".concat(e),method:"delete"})}var d={components:{Pagination:r["a"]},data:function(){return{listLoading:!1,total:0,queryParams:{page:1,pageCount:10,beginTime:"",endTime:"",loginIp:"",operationName:"",orderByColumn:"",status:""},tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,o(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleClean:function(){var e=this;this.$confirm("是否确认清空记录?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l()})).then((function(t){e.$message({type:"success",message:t.msg}),e.getList()}))},handleDelete:function(e){var t=this,a=e.id;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(a)})).then((function(e){t.$message({type:"success",message:e.msg}),t.getList()}))}}},u=d,p=a("2877"),m=Object(p["a"])(u,n,i,!1,null,null,null);t["default"]=m.exports},"667d":function(e,t,a){},6768:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("newVisitis")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" New Visits ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":102400,duration:2600}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" Messages ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" Purchases ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("shoppings")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" Shoppings ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])])],1)},i=[],r=a("ec1b"),s=a.n(r),o={components:{CountTo:s.a},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},l=o,c=(a("06ed"),a("2877")),d=Object(c["a"])(l,n,i,!1,null,"ac19cbc4",null);t["default"]=d.exports},6800:function(e,t,a){"use strict";a("b8c2")},"6d1f":function(e,t,a){"use strict";a("fe41")},"6e1c":function(e,t,a){},"6f4d":function(e,t,a){},"70eb":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名",clearable:"",size:"small"},on:{clear:e.handleQuery},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"roleName",label:"角色名称","show-overflow-tooltip":!0,"min-width":"150"}}),a("el-table-column",{attrs:{prop:"roleCode",label:"角色编码","show-overflow-tooltip":!0,"min-width":"150"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","min-width":"180"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":!0,"min-width":"170"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"290","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDistrPermi(t.row)}}},[e._v("分配权限")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,"append-to-body":"",limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[void 0!=e.form.id?a("el-form-item",{attrs:{label:"角色编号",prop:"id"}},[a("el-input",{attrs:{disabled:!0,placeholder:"角色编号"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1):e._e(),a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),a("el-form-item",{attrs:{label:"角色编码",prop:"roleCode"}},[a("el-input",{attrs:{placeholder:"请输入角色编码"},model:{value:e.form.roleCode,callback:function(t){e.$set(e.form,"roleCode",t)},expression:"form.roleCode"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"分配权限",visible:e.dialogPermiFormVisible},on:{"update:visible":function(t){e.dialogPermiFormVisible=t}}},[a("el-form",{attrs:{model:e.formPermi}},[a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeExpand(t)}},model:{value:e.menuExpand,callback:function(t){e.menuExpand=t},expression:"menuExpand"}},[e._v("展开/折叠")]),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeNodeAll(t)}},model:{value:e.menuNodeAll,callback:function(t){e.menuNodeAll=t},expression:"menuNodeAll"}},[e._v("全选/全不选")]),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeConnect(t)}},model:{value:e.formPermi.menuCheckStrictly,callback:function(t){e.$set(e.formPermi,"menuCheckStrictly",t)},expression:"formPermi.menuCheckStrictly"}},[e._v("父子联动")]),a("el-tree",{ref:"menu",staticClass:"tree-border",attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","check-strictly":!e.form.menuCheckStrictly,"empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogPermiFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.distrPermiSubmit}},[e._v("确 定")])],1)],1)],1)},i=[],r=a("2909"),s=a("1da1"),o=(a("96cf"),a("d81d"),a("d3b7"),a("159b"),a("99af"),a("3528")),l=a("a6dc"),c={name:"Role",data:function(){return{title:"",open:!1,formPermi:{id:"",permiIds:[],menuCheckStrictly:!0},dialogPermiFormVisible:!1,rules:{id:[{required:!0,message:"角色不能为空",trigger:"blur"}],roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleCode:[{required:!0,message:"角色字符串不能为空",trigger:"blur"}]},form:{},roleOptions:[],listLoading:!1,total:0,showSearch:!0,queryParams:{page:1,pageCount:10,name:""},queryRoleParams:{page:1,pageCount:10,name:""},statusOptions:[{value:0,lable:"正常"},{value:1,lable:"停用"}],ids:[],single:!0,multiple:!0,tableData:[],menuExpand:!1,menuNodeAll:!1,deptExpand:!0,defaultProps:{children:"children",label:"menuName"},flowProps:{children:"children",label:"flowName"},menuOptions:[],menuFlowOptions:[],dialogFlowFormVisible:!1,formFlow:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(o["f"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},getMenuTree:function(){var e=this;Object(l["d"])().then((function(t){e.menuOptions=t.data}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleCheckedTreeExpand:function(e){for(var t=this.menuOptions,a=0;a<t.length;a++)this.$refs.menu.store.nodesMap[t[a].id].expanded=e},handleCheckedTreeNodeAll:function(e){this.$refs.menu.setCheckedNodes(e?this.menuOptions:[])},handleCheckedTreeConnect:function(e){this.form.menuCheckStrictly=!!e},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getCheckedKeys(),t=this.$refs.menu.getHalfCheckedKeys();return e.unshift.apply(e,t),e},handleAdd:function(){this.reset(),this.getMenuTree(),this.open=!0,this.title="添加角色"},handleUpdate:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.reset(),n=e.id||t.ids,a.next=4,Object(o["d"])(n);case 4:i=a.sent,t.form=i.data,t.open=!0,t.title="修改角色";case 8:case"end":return a.stop()}}),a)})))()},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return a instanceof Array?Object(o["b"])(a):Object(o["b"])([a])})).then((function(e){console.log(e),t.$message({type:"success",message:e.msg}),t.getList()}))},handleExport:function(){},handleDistrPermi:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.id||t.ids[0],i=Object(l["d"])(),a.next=4,Object(o["d"])(n);case 4:r=a.sent,i.then((function(e){if(t.menuOptions=e.data,t.form.menuCheckStrictly=!0,r.data.menuIds){var a=r.data.menuIds;a.forEach((function(e){t.$nextTick((function(){t.$refs.menu.setChecked(e,!0,!1)}))}))}})),t.formPermi.id=e.id,t.formPermi.permiIds=r.data.menuIds,t.dialogPermiFormVisible=!0;case 9:case"end":return a.stop()}}),a)})))()},flatten:function(e){var t=Object(r["a"])(e),a=[];while(t.length){var n=t.shift();n.children.length>0&&(t=t.concat(n.children),n["children"]=!0),a.push(n)}return a},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?(console.log(e.form),Object(o["g"])(e.form).then((function(t){e.$message({message:t.msg,type:"success"}),e.open=!1,e.getList()}))):Object(o["a"])(e.form).then((function(t){e.$message({message:t.msg,type:"success"}),e.open=!1,e.getList()})))}))},distrPermiSubmit:function(){var e=this;this.formPermi.permiIds=this.getMenuAllCheckedKeys(),Object(o["c"])(this.formPermi.id,this.formPermi.permiIds).then((function(t){e.$message({message:"操作成功",type:"success"}),e.menuExpand=!1,e.menuNodeAll=!1,e.formPermi={id:"",permiIds:[],menuCheckStrictly:!0},e.dialogPermiFormVisible=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){void 0!==this.$refs.menu&&this.$refs.menu.setCheckedKeys([]),this.form={id:void 0,code:void 0,menuIds:[],name:void 0,remark:void 0,status:0},this.resetForm("form")}}},d=c,u=(a("6d1f"),a("2877")),p=Object(u["a"])(d,n,i,!1,null,null,null);t["default"]=p.exports},7138:function(e,t,a){"use strict";a("c82a")},7408:function(e,t,a){e.exports=a.p+"static/img/dcv-computer.d135bf16.png"},7469:function(e,t,a){"use strict";a("da3e")},"74b3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"dragTable",staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":"id",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"65"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.id))])]}}])}),a("el-table-column",{attrs:{width:"180px",align:"center",label:"Date"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(e._f("parseTime")(n.timestamp,"{y}-{m}-{d} {h}:{i}")))])]}}])}),a("el-table-column",{attrs:{"min-width":"300px",label:"Title"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.title))])]}}])}),a("el-table-column",{attrs:{width:"110px",align:"center",label:"Author"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.author))])]}}])}),a("el-table-column",{attrs:{width:"100px",label:"Importance"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return e._l(+n.importance,(function(e){return a("svg-icon",{key:e,staticClass:"icon-star",attrs:{"icon-class":"star"}})}))}}])}),a("el-table-column",{attrs:{align:"center",label:"Readings",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.pageviews))])]}}])}),a("el-table-column",{attrs:{"class-name":"status-col",label:"Status",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:e._f("statusFilter")(n.status)}},[e._v(" "+e._s(n.status)+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",label:"Drag",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{staticClass:"drag-handler",attrs:{"icon-class":"drag"}})]}}])})],1),a("div",{staticClass:"show-d"},[a("el-tag",[e._v("The default order :")]),e._v(" "+e._s(e.oldList)+" ")],1),a("div",{staticClass:"show-d"},[a("el-tag",[e._v("The after dragging order :")]),e._v(" "+e._s(e.newList)+" ")],1)],1)},i=[],r=a("1da1"),s=(a("96cf"),a("d81d"),a("fb6a"),a("a434"),a("2423")),o=a("53fe"),l=a.n(o),c={name:"DragTable",filters:{statusFilter:function(e){var t={published:"success",draft:"info",deleted:"danger"};return t[e]}},data:function(){return{list:null,total:null,listLoading:!0,listQuery:{page:1,limit:10},sortable:null,oldList:[],newList:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.next=3,Object(s["b"])(e.listQuery);case 3:a=t.sent,n=a.data,e.list=n.items,e.total=n.total,e.listLoading=!1,e.oldList=e.list.map((function(e){return e.id})),e.newList=e.oldList.slice(),e.$nextTick((function(){e.setSort()}));case 11:case"end":return t.stop()}}),t)})))()},setSort:function(){var e=this,t=this.$refs.dragTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];this.sortable=l.a.create(t,{ghostClass:"sortable-ghost",setData:function(e){e.setData("Text","")},onEnd:function(t){var a=e.list.splice(t.oldIndex,1)[0];e.list.splice(t.newIndex,0,a);var n=e.newList.splice(t.oldIndex,1)[0];e.newList.splice(t.newIndex,0,n)}})}}},d=c,u=(a("775f"),a("ac37"),a("2877")),p=Object(u["a"])(d,n,i,!1,null,"201e5d11",null);t["default"]=p.exports},"761a":function(e,t,a){"use strict";a("af90")},7621:function(e,t,a){},"76f2":function(e,t,a){"use strict";a("fb4f")},7736:function(e,t,a){"use strict";a("5f8b")},"775f":function(e,t,a){"use strict";a("7b1b")},"788c":function(e,t,a){"use strict";a("076e")},7938:function(e,t,a){},"7b1b":function(e,t,a){},"7b75":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},i=[],r=a("313e"),s=a.n(r),o=a("a7dc");a("817d");var l=3e3,c={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=s.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Technology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:l}]})}}},d=c,u=a("2877"),p=Object(u["a"])(d,n,i,!1,null,null,null);t["default"]=p.exports},"7c25":function(e,t,a){},"7eb6":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return d}));var n=a("b775");function i(){return Object(n["a"])({url:"/dcv/share/auth",method:"get"})}function r(e){return Object(n["a"])({url:"/dcv/share",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/dcv/share",method:"put",data:e})}function o(e){return Object(n["a"])({url:"/dcv/share/unshare",method:"delete",params:e})}function l(e){return Object(n["a"])({url:"/dcv/share/curr/user/share/".concat(e),method:"get"})}function c(e){return Object(n["a"])({url:"/dcv/share/self/page",method:"get",params:e})}function d(e){return Object(n["a"])({url:"/dcv/share/uri/".concat(e),method:"get"})}},"7eb7":function(e,t,a){},"7f03":function(e,t,a){"use strict";a("bd8d")},"80b7":function(e,t,a){"use strict";a("4196")},8106:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5,xs:24}},[e.deptOptions.length?a("dept-tree",{attrs:{"dept-list":e.deptOptions},on:{handleDefaultKey:e.handleDefaultKey,handleNodeClick:e.handleDeptNodeClick}}):e._e()],1),a("el-col",{attrs:{span:19,xs:24}},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典名称",clearable:"",size:"small"},on:{clear:e.handleQuery},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictName,callback:function(t){e.$set(e.queryParams,"dictName",t)},expression:"queryParams.dictName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增字典")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"header-cell-style":{"text-align":"center",color:"black"},"cell-style":{"text-align":"center"},border:"","element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"className",label:"字典分类"}}),a("el-table-column",{attrs:{prop:"dictName",label:"字典名称"}}),a("el-table-column",{attrs:{prop:"dictValue",label:"字典值"}}),a("el-table-column",{attrs:{prop:"orderNum",label:"字典排序"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"字典类型",prop:"type"}},[a("treeselect",{attrs:{disabled:"修改字典"===e.title,"show-count":!0,options:e.dictOption,placeholder:"请选择字典类型"},on:{select:e.handleSelectType},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.form.type,expression:"form.type == 1"}],attrs:{label:"分类",prop:"parentId"}},[a("treeselect",{attrs:{disabled:"修改字典"===e.title,"show-count":!0,options:e.Category,placeholder:"请选择分类"},on:{select:e.handleSelectCategory},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.form.dictName,callback:function(t){e.$set(e.form,"dictName",t)},expression:"form.dictName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"字典值",prop:"dictValue"}},[a("el-input",{attrs:{disabled:"修改字典"===e.title,placeholder:"请输入字典值"},model:{value:e.form.dictValue,callback:function(t){e.$set(e.form,"dictValue",t)},expression:"form.dictValue"}})],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{step:1,"step-strictly":"","controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],r=a("1da1"),s=(a("96cf"),a("d3b7"),a("159b"),a("d81d"),a("ca17")),o=a.n(s),l=(a("542c"),a("b775"));function c(e){return Object(l["a"])({url:"/sys/dataDict/page",method:"get",params:e})}function d(){return Object(l["a"])({url:"/sys/dataDict/classification",method:"get"})}function u(e){return Object(l["a"])({url:"/sys/dataDict",method:"post",data:e})}function p(e){return Object(l["a"])({url:"/sys/dataDict",method:"put",data:e})}function m(){return Object(l["a"])({url:"/sys/dataDict/classification",method:"get"})}var h=a("c0c7"),f=a("3528"),g=a("fcb7"),b=a("2c8c"),v={name:"User",components:{Treeselect:o.a,DeptTree:b["default"]},data:function(){return{title:"",open:!1,formRole:{id:"",roleIds:[]},formDept:{deptId:null,userId:""},deptOptions:[],Category:[],dictOption:[{id:0,label:"分类"},{id:1,label:"字典"}],dialogRoleFormVisible:!1,dialogDeptFormVisible:!1,rules:{},form:{dictName:"",dictValue:"",orderNum:0,parentId:null,type:null,id:""},roleOptions:[],listLoading:!1,total:0,showSearch:!0,dialogTableVisible:!1,queryParams:{page:1,pageCount:10,dictName:"",deptId:"",parentId:null},nals:1,queryParamsp:{page:1,pageCount:10,username:"",deptId:""},queryRoleParams:{page:1,pageCount:10,name:""},statusOptions:[{value:0,lable:"正常"},{value:1,lable:"停用"}],ids:[],tableData:[],userList:[]}},created:function(){this.getRoleList(),this.getDeptList()},methods:{handleSelectCategory:function(e){this.form.parentId=e.id},handleSelectType:function(e){this.form.type=e.id},handleDefaultKey:function(e){this.queryParams.deptId=e,this.getList()},paginati:function(){var e=this;Object(g["b"])(this.queryParamsp).then((function(t){e.userList=t.data.records}))},getList:function(){var e=this;this.listLoading=!0,c(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},getRoleList:function(){var e=this;Object(f["e"])().then((function(t){e.roleOptions=t.data}))},getDeptList:function(){var e=this;d().then((function(t){e.deptOptions.length=0,t.data.forEach((function(t){e.deptOptions.push(t)}))}))},handleDeptNodeClick:function(e){var t=e.id;console.log(t,"点击的key"),this.nals=t,this.queryParams.parentId=this.nals,this.queryParams.deptId=t,this.getList()},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.deptName,children:e.children}},handleAdd:function(){var e=this;this.reset(),this.open=!0,this.title="添加字典",m().then((function(t){e.Category=t.data.map((function(e){return{id:e.id,label:e.dictName}}))}))},handleUpdate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.reset(),m().then((function(e){t.Category=e.data.map((function(e){return{id:e.id,label:e.dictValue}}))})),t.form={dictName:e.dictName,dictValue:e.dictValue,orderNum:e.orderNum,parentId:e.parentId,type:e.type,id:e.id},t.open=!0,t.title="修改字典";case 5:case"end":return a.stop()}}),a)})))()},handleExport:function(){},handleQuery:function(){this.queryParams.page=1,this.getList(),console.log(this.queryParams.username,"this--username")},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&("修改字典"===e.title?p(e.form).then((function(t){200===t.code?(e.$message({message:t.msg,type:"success"}),e.open=!1,e.getList()):(e.$message({message:t.msg,type:"error"}),e.open=!1,e.getList())})):u(e.form).then((function(t){console.log(t),200===t.code?(e.$message({message:t.msg,type:"success"}),e.open=!1,e.getList(),e.getDeptList()):(e.$message({message:t.msg,type:"error"}),e.open=!1,e.getList(),e.getDeptList())})))}))},distrRoleSubmit:function(){var e=this;Object(h["d"])(this.formRole.id,this.formRole.roleIds).then((function(t){e.$message({message:t.msg,type:"success"}),e.formRole={id:"",roleIds:[]},e.dialogRoleFormVisible=!1}))},allotDeptSubmit:function(){var e=this;Object(h["b"])(this.formDept).then((function(t){e.$message({message:t.msg,type:"success"}),e.dialogDeptFormVisible=!1,e.getList()}))},cancel:function(){this.open=!1,this.reset()},handleDialogClose:function(e){e(),this.formDept={deptId:null,userId:""}},reset:function(){this.form={dictName:"",dictValue:"",orderNum:0,type:null,parentId:null,id:""},this.resetForm("form")}}},y=v,w=(a("761a"),a("2877")),k=Object(w["a"])(y,n,i,!1,null,null,null);t["default"]=k.exports},8269:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card-component",staticStyle:{"margin-left":"8px"}},[a("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[a("img",{attrs:{src:"https://wpimg.wallstcn.com/e7d23d71-cf19-4b90-a1cc-f56af8c0903d.png"}})]),a("div",{staticStyle:{position:"relative"}},[a("pan-thumb",{staticClass:"panThumb",attrs:{image:e.avatar}}),a("mallki",{attrs:{"class-name":"mallki-text",text:"vue-element-admin"}}),a("div",{staticClass:"progress-item",staticStyle:{"padding-top":"35px"}},[a("span",[e._v("Vue")]),a("el-progress",{attrs:{percentage:70}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("JavaScript")]),a("el-progress",{attrs:{percentage:18}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("CSS")]),a("el-progress",{attrs:{percentage:12}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("ESLint")]),a("el-progress",{attrs:{percentage:100,status:"success"}})],1)],1)])},i=[],r=a("5530"),s=a("2f62"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pan-item",style:{zIndex:e.zIndex,height:e.height,width:e.width}},[a("div",{staticClass:"pan-info"},[a("div",{staticClass:"pan-info-roles-container"},[e._t("default")],2)]),a("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+e.image+")"}})])},l=[],c=(a("a9e3"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),d=c,u=(a("133c"),a("2877")),p=Object(u["a"])(d,o,l,!1,null,"799537af",null),m=p.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"link--mallki",class:e.className,attrs:{href:"#"}},[e._v(" "+e._s(e.text)+" "),a("span",{attrs:{"data-letters":e.text}}),a("span",{attrs:{"data-letters":e.text}})])},f=[],g={props:{className:{type:String,default:""},text:{type:String,default:"vue-element-admin"}}},b=g,v=(a("8c05"),Object(u["a"])(b,h,f,!1,null,null,null)),y=v.exports,w={components:{PanThumb:m,Mallki:y},filters:{statusFilter:function(e){var t={success:"success",pending:"danger"};return t[e]}},data:function(){return{statisticsData:{article_count:1024,pageviews_count:1024}}},computed:Object(r["a"])({},Object(s["b"])(["name","avatar","roles"]))},k=w,x=(a("7736"),a("6800"),Object(u["a"])(k,n,i,!1,null,"10f8f64a",null));t["default"]=x.exports},8360:function(e,t,a){"use strict";a("4dc6")},8373:function(e,t,a){},"848e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"",prop:"fuzzyCompanyName"}},[a("el-input",{attrs:{placeholder:"请输入企业名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.fuzzyCompanyName,callback:function(t){e.$set(e.queryParams,"fuzzyCompanyName",t)},expression:"queryParams.fuzzyCompanyName"}})],1),a("el-form-item",{attrs:{label:"",prop:"fuzzyUsername"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.fuzzyUsername,callback:function(t){e.$set(e.queryParams,"fuzzyUsername",t)},expression:"queryParams.fuzzyUsername"}})],1),a("el-form-item",{attrs:{label:"",prop:"orderByColumn"}},[a("el-date-picker",{staticClass:"el-input_inner",attrs:{width:"100%","value-format":"timestamp",size:"large",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{blur:e.handBlur},model:{value:e.valuedate,callback:function(t){e.valuedate=t},expression:"valuedate"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1),a("right-toolbar",{attrs:{"show-seacher-btn":!1},on:{queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"sort-change":e.onSortTime}},[a("el-table-column",{attrs:{prop:"companyName",label:"企业名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"username",label:"用户"}}),a("el-table-column",{attrs:{prop:"localIp",label:"IP"}}),a("el-table-column",{attrs:{prop:"loginAddress",label:"登录位置","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"system",label:"操作系统"}}),a("el-table-column",{attrs:{prop:"loginTime",label:"登录时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"equipmentIp",label:"主机IP"}}),a("el-table-column",{attrs:{prop:"connectTime",label:"连接时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"offlineTime",align:"center",label:"断开连接时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"onlineTotalTime",align:"center",sortable:"custom",label:"连接总时长(分)"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1)},i=[],r=a("333d"),s=a("cd81"),o={components:{Pagination:r["a"]},data:function(){return{listLoading:!1,total:0,queryParams:{pageNum:1,pageSize:10,connectStartTime:"",connectEndTime:"",fuzzyCompanyName:"",fuzzyUsername:"",orderColumn:"",asc:!1},tableData:[],valuedate:""}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(s["c"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.valuedate="",this.queryParams.connectStartTime="",this.queryParams.connectEndTime="",this.handleQuery()},handBlur:function(){var e=this.valuedate;this.queryParams.connectStartTime=e[0],this.queryParams.connectEndTime=e[1]},onSortTime:function(e){"onlineTotalTime"==e.prop&&("ascending"==e.order?(this.queryParams.orderColumn="online_total_time",this.queryParams.asc=!0):(this.queryParams.orderColumn="online_total_time",this.queryParams.asc=!1)),this.getList()}}},l=o,c=(a("8e02"),a("2877")),d=Object(c["a"])(l,n,i,!1,null,null,null);t["default"]=d.exports},"849a":function(e,t,a){"use strict";a("1401")},8533:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空记录")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch,"show-seacher-btn":!1},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"username",label:"用户"}}),a("el-table-column",{attrs:{prop:"ipaddr",label:"IP"}}),a("el-table-column",{attrs:{prop:"loginLocation",label:"登录位置"}}),a("el-table-column",{attrs:{prop:"os",label:"操作系统"}}),a("el-table-column",{attrs:{prop:"status",label:"登录状态"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[0==n.status?a("el-tag",[e._v("成功")]):e._e(),1==n.status?a("el-tag",{attrs:{type:"danger"}},[e._v("失败")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"msg",label:"登录信息"}}),a("el-table-column",{attrs:{prop:"loginTime",label:"登录时间"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-link",{attrs:{type:"danger",underline:!1,size:"mini"},on:{click:function(t){return e.handleDelete(n)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1)},i=[],r=a("333d"),s=a("cd81"),o={components:{Pagination:r["a"]},data:function(){return{listLoading:!1,total:0,queryParams:{page:1,pageCount:10,beginTime:"",endTime:"",loginIp:"",operationName:"",orderByColumn:"",status:""},tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(s["d"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleClean:function(){var e=this;this.$confirm("是否确认清空记录?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["a"])()})).then((function(t){e.$message({type:"success",message:t.msg}),e.getList()}))},handleDelete:function(e){var t=this,a=e.id;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["b"])(a)})).then((function(e){t.$message({type:"success",message:e.msg}),t.getList()}))}}},l=o,c=a("2877"),d=Object(c["a"])(l,n,i,!1,null,null,null);t["default"]=d.exports},"86d6":function(e,t,a){},"87ca":function(e,t,a){},"8b76":function(e,t,a){},"8c05":function(e,t,a){"use strict";a("30148")},"8c1b":function(e,t,a){"use strict";a("0ee3")},"8c91":function(e,t,a){"use strict";a("8373")},"8d41":function(e,t,a){},"8d93":function(e,t,a){},"8e02":function(e,t,a){"use strict";a("8b76")},"8ee8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"margin-bottom":"15px"}},[e._v(" Your roles: "+e._s(e.roles)+" ")]),e._v(" Switch roles: "),a("el-radio-group",{model:{value:e.switchRoles,callback:function(t){e.switchRoles=t},expression:"switchRoles"}},[a("el-radio-button",{attrs:{label:"editor"}}),a("el-radio-button",{attrs:{label:"admin"}})],1)],1)},i=[],r={computed:{roles:function(){return this.$store.getters.roles},switchRoles:{get:function(){return this.roles[0]},set:function(e){var t=this;this.$store.dispatch("user/changeRoles",e).then((function(){t.$emit("change")}))}}}},s=r,o=a("2877"),l=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=l.exports},"8f49":function(e,t,a){"use strict";a("7eb7")},"906a":function(e,t,a){"use strict";a("6e1c")},"90fe":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:add"],expression:"['system:user:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:remove"],expression:"['system:user:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:export"],expression:"['system:user:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch,columns:e.columns},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"date",label:"日期"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"address",label:"地址"}}),a("el-table-column",{attrs:{prop:"address",label:"地址"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),1!==t.row.userId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:remove"],expression:"['system:user:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},i=[],r=(a("d81d"),a("333d")),s={components:{Pagination:r["a"]},filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},data:function(){return{list:null,listLoading:!1,total:0,queryParams:{pageNum:1,pageSize:10,userName:void 0,phonenumber:void 0,status:void 0,deptId:void 0},ids:[],single:!0,multiple:!0,tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},created:function(){this.getList()},methods:{getList:function(){},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.userId})),this.single=1!==e.length,this.multiple=!e.length}}},o=s,l=(a("a221"),a("2877")),c=Object(l["a"])(o,n,i,!1,null,null,null);t["default"]=c.exports},"91f7":function(e,t,a){},9406:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"远程主机",lazy:"",name:"remote-host"}},[a("remote-host",{attrs:{title:"远程主机"}})],1),a("el-tab-pane",{attrs:{label:"DCV 主机",lazy:"",name:"dcv-host"}},[a("dcv-host",{attrs:{title:"DCV 主机"}})],1),a("el-tab-pane",{attrs:{label:"被分享的DCV主机",lazy:"",name:"shared-dcv-host"}},[a("shared-dcv-host",{attrs:{title:"被分享的DCV主机"}})],1)],1)],1)},i=[],r=a("1d25"),s=a("95a3"),o=a("14af"),l={components:{RemoteHost:s["default"],DcvHost:r["default"],SharedDcvHost:o["default"]},data:function(){return{activeTab:"remote-host"}},computed:{},created:function(){},methods:{}},c=l,d=(a("7469"),a("2877")),u=Object(d["a"])(c,n,i,!1,null,"6c443220",null);t["default"]=u.exports},"95a3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{"min-height":"400px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[e._v(" "+e._s(e.title)+" "),a("div",{staticClass:"desktop",staticStyle:{float:"right"}},[a("downLoad-client")],1)]),0==e.total?a("div",{staticClass:"el-dialog__title",staticStyle:{"text-align":"center","line-height":"300px"}},[e._v("没有可以连接的远程桌面")]):[a("el-row",{attrs:{gutter:10}},e._l(e.tableList,(function(t,n){return a("el-col",{key:n,attrs:{xs:24,sm:12,md:12,lg:8,xl:6}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px",border:"0px"},attrs:{shadow:"hover","body-style":{padding:"0px 20px",textAlign:"right"}}},[a("div",{staticClass:"clearfix",staticStyle:{position:"relative"},attrs:{slot:"header"},slot:"header"},[a("el-row",[a("el-col",{attrs:{xs:12,sm:10,md:8,lg:8,xl:8}},[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.url,fit:"fill"}}),a("div"),a("el-image",{staticStyle:{width:"66%",height:"90%",margin:"-50px 0px -30px 8px"},attrs:{src:e.statusUrl,fit:"scale-down"}})],1),a("el-col",{attrs:{xs:12,sm:14,md:16,lg:16,xl:16}},[a("p"),t.equipment?a("p",{staticClass:"el-dialog__title",staticStyle:{margin:"0px"}},[e._v(e._s(t.equipment.name))]):e._e(),a("p"),a("p",{staticClass:"el-dialog__title",staticStyle:{margin:"0px"}},[e._v(e._s(t.username))])])],1)],1),e._e()])],1)})),1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,"append-to-body":"",limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})]],2)],1)},i=[],r=a("1da1"),s=(a("96cf"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("99af"),a("b775"));function o(e){return Object(s["a"])({url:"/rdm/user/connect/equipment/user/self/page",method:"get",params:e})}function l(e){return Object(s["a"])({url:"/rdp/connect/".concat(e),method:"get"})}function c(e,t){return Object(s["a"])({url:"/rdm/file/download/".concat(e,"/").concat(t),method:"get"})}var d=a("42e9"),u={components:{DownLoadClient:d["default"]},props:{title:{type:String,default:""}},data:function(){return{remoteLoading:!1,clientDesktopUrl:window._URL_.WINDOW_EXE_PATH,tableList:[],listLoading:!1,queryParams:{page:1,pageCount:10},total:0,url:a("4861"),statusUrl:a("2ab5")}},computed:{},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,o(this.queryParams).then((function(t){e.listLoading=!1,e.tableList=t.data.records,e.total=t.data.total}))},downloadHandle:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:c(e.id,"bat").then((function(t){var a=new Blob([t],{type:"text/bath;charset=utf8"}),n=e.equipment.name+"-"+e.username+".bat",i=document.createElement("a");i.download=n,i.style.display="none",i.href=URL.createObjectURL(a),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i)}));case 1:case"end":return t.stop()}}),t)})))()},rdpRemoteHandle:function(e){var t=this;this.remoteLoading=!0,l(e.id).then((function(e){console.log(e.data),t.remoteLoading=!1,window.open("/static/index.html?serverId=".concat(e.data.serverId,"&accountId=").concat(e.data.accountId))})).catch((function(e){console.log(e),t.remoteLoading=!1}))}}},p=u,m=(a("788c"),a("2877")),h=Object(m["a"])(p,n,i,!1,null,"71122060",null);t["default"]=h.exports},"96f2":function(e,t,a){"use strict";a("f77f")},"987a":function(e,t,a){"use strict";a("a465")},9968:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.id))])]}}])}),a("el-table-column",{attrs:{width:"180px",align:"center",label:"Date"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(e._f("parseTime")(n.timestamp,"{y}-{m}-{d} {h}:{i}")))])]}}])}),a("el-table-column",{attrs:{width:"120px",align:"center",label:"Author"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.author))])]}}])}),a("el-table-column",{attrs:{width:"100px",label:"Importance"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return e._l(+n.importance,(function(e){return a("svg-icon",{key:e,staticClass:"meta-item__icon",attrs:{"icon-class":"star"}})}))}}])}),a("el-table-column",{attrs:{"class-name":"status-col",label:"Status",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:e._f("statusFilter")(n.status)}},[e._v(" "+e._s(n.status)+" ")])]}}])}),a("el-table-column",{attrs:{"min-width":"300px",label:"Title"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.edit?[a("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:n.title,callback:function(t){e.$set(n,"title",t)},expression:"row.title"}}),a("el-button",{staticClass:"cancel-btn",attrs:{size:"small",icon:"el-icon-refresh",type:"warning"},on:{click:function(t){return e.cancelEdit(n)}}},[e._v(" cancel ")])]:a("span",[e._v(e._s(n.title))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"Actions",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.edit?a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-circle-check-outline"},on:{click:function(t){return e.confirmEdit(n)}}},[e._v(" Ok ")]):a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(e){n.edit=!n.edit}}},[e._v(" Edit ")])]}}])})],1)],1)},i=[],r=a("1da1"),s=(a("96cf"),a("d81d"),a("2423")),o={name:"InlineEditTable",filters:{statusFilter:function(e){var t={published:"success",draft:"info",deleted:"danger"};return t[e]}},data:function(){return{list:null,listLoading:!0,listQuery:{page:1,limit:10}}},created:function(){this.getList()},methods:{getList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.next=3,Object(s["b"])(e.listQuery);case 3:a=t.sent,n=a.data,i=n.items,e.list=i.map((function(t){return e.$set(t,"edit",!1),t.originalTitle=t.title,t})),e.listLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},cancelEdit:function(e){e.title=e.originalTitle,e.edit=!1,this.$message({message:"The title has been restored to the original value",type:"warning"})},confirmEdit:function(e){e.edit=!1,e.originalTitle=e.title,this.$message({message:"The title has been edited",type:"success"})}}},l=o,c=(a("8360"),a("2877")),d=Object(c["a"])(l,n,i,!1,null,"6935e406",null);t["default"]=d.exports},"9a81":function(e,t,a){},"9ed6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"container",staticClass:"login-container",style:"background-image: url("+e.bgImage+")"},[a("div",{staticClass:"header"},[a("div",{staticClass:"logo"}),a("div",{staticClass:"desktop"},[a("div",{staticClass:"activedlicense"},[a("el-upload",{staticClass:"upload-demo",attrs:{"on-success":e.handleSuccess,"before-upload":e.handleLicense,"http-request":e.handRequest,action:"","file-list":e.fileList,"show-file-list":!1}},[a("el-button",{staticClass:"licensetext",attrs:{size:"medium",type:"text"}},[e._v("License激活")])],1)],1),a("router-link",{attrs:{to:"/clientdownload"}},[e._v("客户端下载")])],1)]),a("el-card",[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("img",{attrs:{src:e.logoImage,alt:""}}),a("h3",{staticClass:"title"},[e._v(e._s(e.deptInfo.deptName||"BIMGO设计云"))])]),a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),a("el-input",{ref:"username",attrs:{placeholder:"账号",name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录 ")]),a("div",{staticClass:"powered-by"},[e._v("Powered by 立方数科股份有限公司")])],1)],1)],1)},i=[],r=a("1da1"),s=a("5530"),o=(a("96cf"),a("d3b7"),a("b64b"),a("b0c0"),a("c24f")),l=a("fcb7"),c=a("2f62"),d=a("d791"),u=a("5ecb"),p={name:"Login",props:{codename:{type:String,default:""}},data:function(){return{fileList:[],captchaUrl:"",clientDesktopUrl:window._URL_.WINDOW_EXE_PATH,loginForm:{username:"",password:"",captcha:"10000",key:"10000"},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],captcha:[{required:!0,trigger:"change",message:"验证码不能为空"}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{},logoImage:"",bgImage:""}},computed:Object(s["a"])({},Object(c["c"])({code:function(e){return e.dept.code},path:function(e){return e.dept.path},deptInfo:function(e){return e.dept.deptInfo}})),watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){if(console.log(this.deptInfo),this.deptInfo){var e=this.deptInfo,t=e.logo,a=e.bgImage;this.logoImage=t||"/static/img/logo.png",this.bgImage=a||"/static/img/bg.png"}else this.setDefaultPic()},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},methods:{handleSuccess:function(e){console.log(e,"file")},handRequest:function(e){var t=new FormData;t.append("file",e.file),Object(u["b"])(t).then((function(e){console.log(e,"log")})).catch((function(e){console.log(e,"err")}))},setDefaultPic:function(){this.logoImage="/static/img/logo.png",this.bgImage="/static/img/bg.png"},getCaptcha:function(){var e=this;Object(o["a"])().then((function(t){e.captchaUrl=t.data.img,e.loginForm.key=t.data.key}))},checkCapslock:function(e){var t=e.key;this.capsTooltip=t&&1===t.length&&t>="A"&&t<="Z"},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:e.redirect||e.path+"/",query:e.otherQuery}),e.loading=!1})).catch((function(){e.loading=!1}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,a){return"redirect"!==a&&(t[a]=e[a]),t}),{})},handleLicense:function(e){var t=e.name.indexOf(".");if(-1!=t)return this.$message({message:"上传License文件格式不对",type:"error"}),!1;this.$message({message:"上传成功",type:"success"})},getDeptInfo:function(e){var t=this;Object(l["l"])(e).then((function(e){var a=e.data,n=a.logo,i=a.bgImage;t.logoImage=Object(l["r"])(n),t.bgImage=Object(l["r"])(i)}))},getPackage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d["e"])();case 3:a=t.sent,a.msg?(e.downloadFileURL=Object(d["c"])(a.msg),e.downloadDefaultEXE(e.downloadFileURL)):e.downloadDefaultEXE(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.downloadDefaultEXE();case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},downloadDefaultEXE:function(e){var t=e||window._URL_.WINDOW_EXE_PATH,a=document.createElement("a");a.style.display="none",a.target="_blank",a.href=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},m=p,h=(a("2017"),a("f507"),a("2877")),f=Object(h["a"])(m,n,i,!1,null,"3abd8d10",null);t["default"]=f.exports},"9f62":function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"g",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"f",(function(){return d}));var n=a("b775");function i(e){return Object(n["a"])({url:"/dcv/equipment/page",method:"get",params:e})}function r(e){return Object(n["a"])({url:"/dcv/equipment/detail/".concat(e),method:"get"})}function s(e){return Object(n["a"])({url:"/dcv/equipment",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/dcv/equipment",method:"put",data:e})}function l(e){return Object(n["a"])({url:"/dcv/equipment",method:"delete",data:e})}function c(e){return Object(n["a"])({url:"/dcv/dept",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/dcv/share/curr/equipment/share/".concat(e.equipmentId),method:"get",params:e})}},a1d3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tree",{ref:"tree",attrs:{"highlight-current":!0,"default-expand-all":!0,"expand-on-click-node":!1,data:e.data,"node-key":"id","empty-text":"暂无数据",props:e.defaultProps},on:{"node-click":e.handleNodeClick}})],1)},i=[],r=a("fcb7"),s={props:{deptList:{type:Array,default:function(){return[]}}},data:function(){return{data:[],defaultProps:{children:"children",label:"deptName"}}},mounted:function(){this.deptList.length?(this.data=this.deptList,this.setCurrentKey()):this.getDept()},methods:{getDept:function(){var e=this;Object(r["o"])().then((function(t){e.data=t.data,e.$nextTick((function(){e.data.length&&e.setCurrentKey()}))}))},setCurrentKey:function(){var e=this;this.$nextTick((function(){var t=e.data[0].id;e.$refs.tree.setCurrentKey(t),e.$emit("handleDefaultKey",t)}))},handleNodeClick:function(e){this.$emit("handleNodeClick",e),console.log(e)}}},o=s,l=a("2877"),c=Object(l["a"])(o,n,i,!1,null,"07eb3734",null);t["default"]=c.exports},a21d:function(e,t,a){"use strict";a("c107")},a221:function(e,t,a){"use strict";a("aae0")},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a465:function(e,t,a){},a4bb:function(e,t,a){"use strict";a("a962")},a6dc:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return l}));var n=a("b775");function i(){return Object(n["a"])({url:"/sys/menu/list",method:"get"})}function r(){return Object(n["a"])({url:"/sys/menu/list",method:"get"})}function s(e){return Object(n["a"])({url:"/sys/menu",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/sys/menu",method:"put",data:e})}function l(e){return Object(n["a"])({url:"/sys/menu/".concat(e),method:"get"})}},a7dc:function(e,t,a){"use strict";var n=a("ed08");t["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(n["c"])((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},a87b:function(e,t,a){"use strict";a("dcdce")},a962:function(e,t,a){},a99f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("switch-roles",{on:{change:e.handleRolesChange}}),a("div",{key:e.key,staticStyle:{"margin-top":"30px"}},[a("div",[a("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticClass:"permission-alert"},[e._v(" Only "),a("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v(" can see this ")],1),a("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-permission=\"['admin']\" ")])],1),a("div",[a("span",{directives:[{name:"permission",rawName:"v-permission",value:["editor"],expression:"['editor']"}],staticClass:"permission-alert"},[e._v(" Only "),a("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("editor")]),e._v(" can see this ")],1),a("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["editor"],expression:"['editor']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-permission=\"['editor']\" ")])],1),a("div",[a("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin","editor"],expression:"['admin','editor']"}],staticClass:"permission-alert"},[e._v(" Both "),a("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v(" and "),a("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("editor")]),e._v(" can see this ")],1),a("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin","editor"],expression:"['admin','editor']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-permission=\"['admin','editor']\" ")])],1)]),a("div",{key:"checkPermission"+e.key,staticStyle:{"margin-top":"60px"}},[e._m(0),a("el-tabs",{staticStyle:{width:"550px"},attrs:{type:"border-card"}},[e.checkPermission(["admin"])?a("el-tab-pane",{attrs:{label:"Admin"}},[e._v(" Admin can see this "),a("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-if=\"checkPermission(['admin'])\" ")])],1):e._e(),e.checkPermission(["editor"])?a("el-tab-pane",{attrs:{label:"Editor"}},[e._v(" Editor can see this "),a("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-if=\"checkPermission(['editor'])\" ")])],1):e._e(),e.checkPermission(["admin","editor"])?a("el-tab-pane",{attrs:{label:"Admin-OR-Editor"}},[e._v(" Both admin or editor can see this "),a("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-if=\"checkPermission(['admin','editor'])\" ")])],1):e._e()],1)],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",[e._v(" In some cases, using v-permission will have no effect. For example: Element-UI's Tab component or el-table-column and other scenes that dynamically render dom. You can only do this with v-if. "),a("br"),e._v(" e.g. ")])}],r=(a("d3b7"),a("caad"),a("2532"),a("4360")),s={inserted:function(e,t,a){var n=t.value,i="admin",s=r["a"].getters&&r["a"].getters.roles;if(!(n&&n instanceof Array&&n.length>0))throw new Error('请设置角色权限标签值"');var o=n,l=s.some((function(e){return i===e||o.includes(e)}));l||e.parentNode&&e.parentNode.removeChild(e)}},o={inserted:function(e,t,a){var n=t.value,i="*:*:*",s=r["a"].getters&&r["a"].getters.permissions;if(!(n&&n instanceof Array&&n.length>0))throw new Error("请设置操作权限标签值");var o=n,l=s.some((function(e){return i===e||o.includes(e)}));l||e.parentNode&&e.parentNode.removeChild(e)}},l=function(e){e.directive("hasRole",s),e.directive("hasPermi",o)};window.Vue&&(window.hasRole=s,window.hasPermi=o,Vue.use(l));var c=l;function d(e){if(e&&e instanceof Array&&e.length>0){var t=r["a"].getters&&r["a"].getters.roles,a=e,n=t.some((function(e){return a.includes(e)}));return n}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}var u=a("8ee8"),p={name:"DirectivePermission",components:{SwitchRoles:u["default"]},directives:{permission:c},data:function(){return{key:1}},methods:{checkPermission:d,handleRolesChange:function(){this.key++}}},m=p,h=(a("3ad6"),a("2877")),f=Object(h["a"])(m,n,i,!1,null,"25371f81",null);t["default"]=f.exports},a9fb:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5,xs:24}},[e.deptOptions.length?a("dept-tree",{attrs:{"dept-list":e.deptOptions},on:{handleDefaultKey:e.handleDefaultKey,handleNodeClick:e.handleDeptNodeClick}}):e._e()],1),a("el-col",{attrs:{span:19,xs:24}},[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增 ")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch,"show-seacher-btn":!1},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"hostname",label:"主机名称","show-overflow-tooltip":!0,"min-width":"120"}}),a("el-table-column",{attrs:{prop:"name",label:"设备名称","show-overflow-tooltip":!0,"min-width":"150"}}),a("el-table-column",{attrs:{prop:"hostVersionName",label:"主机版本","show-overflow-tooltip":!0,"min-width":"150"}}),a("el-table-column",{attrs:{prop:"localIp",label:"内网地址","show-overflow-tooltip":!0,"min-width":"120"}}),a("el-table-column",{attrs:{prop:"publicIp",label:"公网地址","min-width":"120"}}),a("el-table-column",{attrs:{prop:"mac",label:"主机MAC地址","min-width":"160"}}),a("el-table-column",{attrs:{prop:"sysDept.deptName",label:"组织","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"creater",label:"创建人","show-overflow-tooltip":!0,"min-width":"80"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","show-overflow-tooltip":!0,"min-width":"140"}}),a("el-table-column",{attrs:{prop:"updater",label:"修改人","show-overflow-tooltip":!0,"min-width":"100"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"修改时间","show-overflow-tooltip":!0,"min-width":"140"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改 ")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleAllotDept(t.row)}}},[e._v("分配组织 ")]),"admin"==e.users?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDoownload(t.row)}}},[e._v(" 下载本地License ")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,"append-to-body":"",limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"85px"}},[void 0!=e.form.id?a("el-form-item",{attrs:{label:"主机编号",prop:"id"}},[a("el-input",{attrs:{disabled:!0,placeholder:"主机编号"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1):e._e(),a("el-form-item",{attrs:{label:"主机名称",prop:"hostname"}},[a("el-input",{attrs:{placeholder:"请输入主机名称"},model:{value:e.form.hostname,callback:function(t){e.$set(e.form,"hostname",t)},expression:"form.hostname"}})],1),a("el-form-item",{attrs:{label:"设备名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"主机版本",prop:"hostVersionCode"}},[a("treeselect",{attrs:{options:e.hostoptions,placeholder:"请选择主机版本"},on:{select:e.handleSelectType},model:{value:e.form.hostVersionCode,callback:function(t){e.$set(e.form,"hostVersionCode",t)},expression:"form.hostVersionCode"}})],1),a("el-form-item",{attrs:{label:"内网地址",prop:"localIp"}},[a("el-input",{attrs:{placeholder:"请输入内网地址"},model:{value:e.form.localIp,callback:function(t){e.$set(e.form,"localIp",t)},expression:"form.localIp"}})],1),a("el-form-item",{attrs:{label:"公网地址",prop:"publicIp"}},[a("el-input",{attrs:{placeholder:"请输入公网地址"},model:{value:e.form.publicIp,callback:function(t){e.$set(e.form,"publicIp",t)},expression:"form.publicIp"}})],1),a("el-form-item",{attrs:{label:"MAC地址",prop:"mac"}},[a("el-input",{attrs:{placeholder:"请输入主机MAC地址"},model:{value:e.form.mac,callback:function(t){e.$set(e.form,"mac",t)},expression:"form.mac"}})],1),a("el-form-item",{attrs:{label:"系统详情",prop:"systemDetail"}},[a("el-input",{attrs:{placeholder:"请输入系统详情"},model:{value:e.form.systemDetail,callback:function(t){e.$set(e.form,"systemDetail",t)},expression:"form.systemDetail"}})],1),a("el-form-item",{attrs:{label:"主机详情",prop:"hardwareDetail"}},[a("el-input",{attrs:{placeholder:"请输入主机详情"},model:{value:e.form.hardwareDetail,callback:function(t){e.$set(e.form,"hardwareDetail",t)},expression:"form.hardwareDetail"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"分配组织",visible:e.dialogDeptFormVisible,"before-close":e.handleDialogClose},on:{"update:visible":function(t){e.dialogDeptFormVisible=t}}},[a("el-form",{attrs:{model:e.formDeptAndEquipment}},[a("el-form-item",{attrs:{label:"组织信息",prop:"sysDeptId"}},[a("treeselect",{attrs:{"show-count":!0,options:e.deptOptions,normalizer:e.normalizer,placeholder:"请选择组织"},model:{value:e.formDeptAndEquipment.sysDeptId,callback:function(t){e.$set(e.formDeptAndEquipment,"sysDeptId",t)},expression:"formDeptAndEquipment.sysDeptId"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogDeptFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.allotDeptSubmit}},[e._v("确 定")])],1)],1)],1)},i=[],r=a("1da1"),s=(a("96cf"),a("caad"),a("2532"),a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("b0c0"),a("a1d3")),o=a("ca17"),l=a.n(o),c=(a("542c"),a("5ecb")),d=a("2e9f"),u=a("fcb7"),p={components:{Treeselect:l.a,DeptTree:s["default"]},data:function(){return{listLoading:!1,tableData:[],queryParams:{page:1,pageCount:10,name:"",deptId:""},showSearch:!0,users:"",ids:[],total:0,title:"",open:!1,deptOptions:[],hostoptions:[],dialogDeptFormVisible:!1,formDeptAndEquipment:{sysDeptId:null,equipmentId:""},form:{id:0,hostname:"",name:"",localIp:"",publicIp:"",mac:"",systemDetail:"",hardwareDetail:"",version:"",deptId:"",hostVersionCode:null,remark:""},rules:{id:[{required:!0,message:"主机不能为空",trigger:"blur"}],hostVersionCode:[{required:!0,message:"主机版本不能为空",trigger:"blur"}],hostname:[{required:!0,message:"主机名称不能为空",trigger:"blur"}],name:[{required:!0,message:"设备名称不能为空",trigger:"blur"}],localIp:[{required:!0,message:"内网地址不能为空",trigger:"blur"}],publicIp:[{required:!0,message:"公网地址不能为空",trigger:"blur"}],mac:[{required:!0,message:"主机MAC地址不能为空",trigger:"blur"}],systemDetail:[{message:"请输入系统详情",trigger:["blur","change"]}],hardwareDetail:[{required:!1,message:"请输入主机详情",trigger:"blur"}]},rolen:""}},created:function(){this.getDeptList();var e=JSON.parse(localStorage.getItem("userToken")),t=(e.includes("equipment:manage:add"),localStorage.getItem("user"));this.users=t,this.getTok()},methods:{getTok:function(){var e=this,t=JSON.parse(localStorage.getItem("tok"));1===t.length?t.map((function(t){return e.rolen=t.roleName,!1})):t.map((function(t){e.rolen=t.roleName}))},handleDefaultKey:function(e){this.queryParams.deptId=e,this.getList()},handleDoownload:function(e){Object(c["a"])(e.id).then((function(e){Object(c["d"])(e.data.token).then((function(e){var t=document.createElement("a"),a=new Blob([e],{type:"application/octet-stream"}),n=URL.createObjectURL(a);t.href=n,t.download="本地License文件",t.click(),URL.revokeObjectURL(n)}))})).catch((function(e){console.log(e)}))},getList:function(){var e=this;this.listLoading=!0,Object(d["e"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleDeptNodeClick:function(e){var t=e.id;this.queryParams.deptId=t,this.queryParams.page=1,this.getList()},getDeptList:function(){var e=this;Object(u["o"])().then((function(t){e.deptOptions=t.data}))},handleSelectType:function(e){this.form.hostVersionCode=e.id},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.deptName,children:e.children}},handleType:function(){var e=this;Object(u["i"])("HostVersion").then((function(t){e.hostoptions=t.data.map((function(e){return{id:e.dictValue,label:e.dictName}}))}))},handleAdd:function(){this.reset(),this.handleType(),this.form.deptId=this.queryParams.deptId,this.open=!0,this.title="添加主机",this.form.id=void 0},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleQuery:function(){this.queryParams.page=1},handleUpdate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.reset(),t.handleType(),n=e.id||t.ids,a.next=5,Object(d["d"])(n);case 5:i=a.sent,t.form={id:i.data.id,hostname:i.data.hostname,name:i.data.name,localIp:i.data.localIp,publicIp:i.data.publicIp,mac:i.data.mac,systemDetail:i.data.systemDetail,hardwareDetail:i.data.hardwareDetail,version:i.data.version,hostVersionCode:i.data.hostVersionCode,remark:i.data.remark},t.open=!0,t.title="修改主机";case 9:case"end":return a.stop()}}),a)})))()},handleDelete:function(e){var t=this,a=e.id;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(d["c"])(a)})).then((function(e){console.log(e),t.$message({type:"success",message:e.msg}),t.getList()}))},handleAllotDept:function(e){this.formDeptAndEquipment.equipmentId=e.id,this.formDeptAndEquipment.sysDeptId=e.sysDept.id,this.dialogDeptFormVisible=!0},handleDistrPermi:function(){},handleDistrFlow:function(){},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(d["f"])(e.form).then((function(t){200==t.code?(e.$message({message:t.msg,type:"success"}),e.open=!1,e.getList()):(e.$message({message:t.msg,type:"error"}),e.open=!1,e.getList())})):Object(d["a"])(e.form).then((function(t){200==t.code?(e.$message({message:t.msg,type:"success"}),e.open=!1,e.getList()):(e.$message({message:t.msg,type:"error"}),e.open=!1,e.getList())})))}))},allotDeptSubmit:function(){var e=this;Object(d["b"])(this.formDeptAndEquipment).then((function(t){e.$message({message:"操作成功",type:"success"}),e.dialogDeptFormVisible=!1,e.getList()}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:0,hostname:"",name:"",localIp:"",publicIp:"",mac:"",systemDetail:"",hardwareDetail:"",version:"",deptId:"",hostVersionCode:null},this.resetForm("form")},handleDialogClose:function(e){e(),this.formDept={sysDeptId:null,equipmentId:""}}}},m=p,h=(a("ede2"),a("2877")),f=Object(h["a"])(m,n,i,!1,null,"49254b90",null);t["default"]=f.exports},aae0:function(e,t,a){},ac37:function(e,t,a){"use strict";a("3132")},af90:function(e,t,a){},b2c4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticStyle:{margin:"0 0 5px 20px"}},[e._v(" Fixed header, sorted by header order, ")]),a("fixed-thead"),a("div",{staticStyle:{margin:"30px 0 5px 20px"}},[e._v(" Not fixed header, sorted by click order ")]),a("unfixed-thead")],1)},i=[],r=a("48c2"),s=a("d4eb"),o={name:"DynamicTable",components:{FixedThead:r["default"],UnfixedThead:s["default"]}},l=o,c=a("2877"),d=Object(c["a"])(l,n,i,!1,null,null,null);t["default"]=d.exports},b356:function(e,t,a){"use strict";a("b724")},b4e9:function(e,t,a){"use strict";a("7938")},b61b:function(e,t,a){"use strict";a("4a17")},b724:function(e,t,a){},b829:function(e,t,a){"use strict";a.r(t);a("fb6a"),a("ac1f"),a("841c");var n,i,r={name:"AuthRedirect",created:function(){var e=window.location.search.slice(1);window.localStorage&&(window.localStorage.setItem("x-admin-oauth-code",e),window.close())},render:function(e){return e()}},s=r,o=a("2877"),l=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=l.exports},b8c2:function(e,t,a){},bb8c:function(e,t,a){"use strict";a("9a81")},bd1b:function(e,t,a){"use strict";a("28b8")},bd8d:function(e,t,a){},c061:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("line-chart",{attrs:{"chart-data":e.lineChartData}})],1),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("raddar-chart")],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("pie-chart")],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("bar-chart")],1)])],1)],1)},i=[],r=a("f168"),s=a("6768"),o=a("36ef"),l=a("7b75"),c=a("2044"),d=a("5f84"),u=a("2f3f"),p=a("2544"),m=a("8269"),h={newVisitis:{expectedData:[100,120,161,134,105,160,165],actualData:[120,82,91,154,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},f={name:"DashboardAdmin",components:{GithubCorner:r["a"],PanelGroup:s["default"],LineChart:o["default"],RaddarChart:l["default"],PieChart:c["default"],BarChart:d["default"],TransactionTable:u["default"],TodoList:p["default"],BoxCard:m["default"]},data:function(){return{lineChartData:h.newVisitis}},methods:{handleSetLineChartData:function(e){this.lineChartData=h[e]}}},g=f,b=(a("a21d"),a("2877")),v=Object(b["a"])(g,n,i,!1,null,"e0a6365c",null);t["default"]=v.exports},c0a4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"Title"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}}),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:"Imp",clearable:""},model:{value:e.listQuery.importance,callback:function(t){e.$set(e.listQuery,"importance",t)},expression:"listQuery.importance"}},e._l(e.importanceOptions,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{placeholder:"Type",clearable:""},model:{value:e.listQuery.type,callback:function(t){e.$set(e.listQuery,"type",t)},expression:"listQuery.type"}},e._l(e.calendarTypeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name+"("+e.key+")",value:e.key}})})),1),a("el-select",{staticClass:"filter-item",staticStyle:{width:"140px"},on:{change:e.handleFilter},model:{value:e.listQuery.sort,callback:function(t){e.$set(e.listQuery,"sort",t)},expression:"listQuery.sort"}},e._l(e.sortOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})})),1),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" Search ")]),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v(" Add ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:e.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:e.handleDownload}},[e._v(" Export ")]),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.showReviewer,callback:function(t){e.showReviewer=t},expression:"showReviewer"}},[e._v(" reviewer ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{label:"ID",prop:"id",sortable:"custom",align:"center",width:"80","class-name":e.getSortClass("id")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.id))])]}}])}),a("el-table-column",{attrs:{label:"Date",width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(e._f("parseTime")(n.timestamp,"{y}-{m}-{d} {h}:{i}")))])]}}])}),a("el-table-column",{attrs:{label:"Title","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",{staticClass:"link-type",on:{click:function(t){return e.handleUpdate(n)}}},[e._v(e._s(n.title))]),a("el-tag",[e._v(e._s(e._f("typeFilter")(n.type)))])]}}])}),a("el-table-column",{attrs:{label:"Author",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.author))])]}}])}),e.showReviewer?a("el-table-column",{attrs:{label:"Reviewer",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",{staticStyle:{color:"red"}},[e._v(e._s(n.reviewer))])]}}],null,!1,1536508420)}):e._e(),a("el-table-column",{attrs:{label:"Imp",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return e._l(+n.importance,(function(e){return a("svg-icon",{key:e,staticClass:"meta-item__icon",attrs:{"icon-class":"star"}})}))}}])}),a("el-table-column",{attrs:{label:"Readings",align:"center",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.pageviews?a("span",{staticClass:"link-type",on:{click:function(t){return e.handleFetchPv(n.pageviews)}}},[e._v(e._s(n.pageviews))]):a("span",[e._v("0")])]}}])}),a("el-table-column",{attrs:{label:"Status","class-name":"status-col",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:e._f("statusFilter")(n.status)}},[e._v(" "+e._s(n.status)+" ")])]}}])}),a("el-table-column",{attrs:{label:"Actions",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,i=t.$index;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpdate(n)}}},[e._v(" Edit ")]),"published"!=n.status?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleModifyStatus(n,"published")}}},[e._v(" Publish ")]):e._e(),"draft"!=n.status?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleModifyStatus(n,"draft")}}},[e._v(" Draft ")]):e._e(),"deleted"!=n.status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(n,i)}}},[e._v(" Delete ")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"70px"}},[a("el-form-item",{attrs:{label:"Type",prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.temp.type,callback:function(t){e.$set(e.temp,"type",t)},expression:"temp.type"}},e._l(e.calendarTypeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1),a("el-form-item",{attrs:{label:"Date",prop:"timestamp"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"Please pick a date"},model:{value:e.temp.timestamp,callback:function(t){e.$set(e.temp,"timestamp",t)},expression:"temp.timestamp"}})],1),a("el-form-item",{attrs:{label:"Title",prop:"title"}},[a("el-input",{model:{value:e.temp.title,callback:function(t){e.$set(e.temp,"title",t)},expression:"temp.title"}})],1),a("el-form-item",{attrs:{label:"Status"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.temp.status,callback:function(t){e.$set(e.temp,"status",t)},expression:"temp.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"Imp"}},[a("el-rate",{staticStyle:{"margin-top":"8px"},attrs:{colors:["#99A9BF","#F7BA2A","#FF9900"],max:3},model:{value:e.temp.importance,callback:function(t){e.$set(e.temp,"importance",t)},expression:"temp.importance"}})],1),a("el-form-item",{attrs:{label:"Remark"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"Please input"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(" Cancel ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v(" Confirm ")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogPvVisible,title:"Reading statistics"},on:{"update:visible":function(t){e.dialogPvVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pvData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"key",label:"Channel"}}),a("el-table-column",{attrs:{prop:"pv",label:"Pv"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogPvVisible=!1}}},[e._v("Confirm")])],1)],1)],1)},i=[],r=(a("d3b7"),a("4e82"),a("c740"),a("a434"),a("3ca3"),a("ddb0"),a("d81d"),a("2423")),s=(a("8d41"),"@@wavesContext");function o(e,t){function a(a){var n=Object.assign({},t.value),i=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),r=i.ele;if(r){r.style.position="relative",r.style.overflow="hidden";var s=r.getBoundingClientRect(),o=r.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":(o=document.createElement("span"),o.className="waves-ripple",o.style.height=o.style.width=Math.max(s.width,s.height)+"px",r.appendChild(o)),i.type){case"center":o.style.top=s.height/2-o.offsetHeight/2+"px",o.style.left=s.width/2-o.offsetWidth/2+"px";break;default:o.style.top=(a.pageY-s.top-o.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",o.style.left=(a.pageX-s.left-o.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return o.style.backgroundColor=i.color,o.className="waves-ripple z-active",!1}}return e[s]?e[s].removeHandle=a:e[s]={removeHandle:a},a}var l={bind:function(e,t){e.addEventListener("click",o(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[s].removeHandle,!1),e.addEventListener("click",o(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[s].removeHandle,!1),e[s]=null,delete e[s]}},c=function(e){e.directive("waves",l)};window.Vue&&(window.waves=l,Vue.use(c)),l.install=c;var d=l,u=a("ed08"),p=a("333d"),m=[{key:"CN",display_name:"China"},{key:"US",display_name:"USA"},{key:"JP",display_name:"Japan"},{key:"EU",display_name:"Eurozone"}],h=m.reduce((function(e,t){return e[t.key]=t.display_name,e}),{}),f={name:"ComplexTable",components:{Pagination:p["a"]},directives:{waves:d},filters:{statusFilter:function(e){var t={published:"success",draft:"info",deleted:"danger"};return t[e]},typeFilter:function(e){return h[e]}},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:"+id"},importanceOptions:[1,2,3],calendarTypeOptions:m,sortOptions:[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],statusOptions:["published","draft","deleted"],showReviewer:!1,temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(r["b"])(this.listQuery).then((function(t){e.list=t.data.items,e.total=t.data.total,setTimeout((function(){e.listLoading=!1}),1500)}))},handleFilter:function(){this.listQuery.page=1,this.getList()},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},sortChange:function(e){var t=e.prop,a=e.order;"id"===t&&this.sortByID(a)},sortByID:function(e){this.listQuery.sort="ascending"===e?"+id":"-id",this.handleFilter()},resetTemp:function(){this.temp={id:void 0,importance:1,remark:"",timestamp:new Date,title:"",status:"published",type:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs.dataForm.clearValidate()}))},createData:function(){var e=this;this.$refs.dataForm.validate((function(t){t&&(e.temp.id=parseInt(100*Math.random())+1024,e.temp.author="vue-element-admin",Object(r["a"])(e.temp).then((function(){e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3})})))}))},handleUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.temp.timestamp=new Date(this.temp.timestamp),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.dataForm.clearValidate()}))},updateData:function(){var e=this;this.$refs.dataForm.validate((function(t){if(t){var a=Object.assign({},e.temp);a.timestamp=+new Date(a.timestamp),Object(r["d"])(a).then((function(){var t=e.list.findIndex((function(t){return t.id===e.temp.id}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3})}))}}))},handleDelete:function(e,t){this.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),this.list.splice(t,1)},handleFetchPv:function(e){var t=this;Object(r["c"])(e).then((function(e){t.pvData=e.data.pvData,t.dialogPvVisible=!0}))},handleDownload:function(){var e=this;this.downloadLoading=!0,Promise.all([a.e("chunk-0143048a"),a.e("chunk-2125b98f")]).then(a.bind(null,"4bf8")).then((function(t){var a=["timestamp","title","type","importance","status"],n=["timestamp","title","type","importance","status"],i=e.formatJson(n);t.export_json_to_excel({header:a,data:i,filename:"table-list"}),e.downloadLoading=!1}))},formatJson:function(e){return this.list.map((function(t){return e.map((function(e){return"timestamp"===e?Object(u["f"])(t[e]):t[e]}))}))},getSortClass:function(e){var t=this.listQuery.sort;return t==="+".concat(e)?"ascending":"descending"}}},g=f,b=a("2877"),v=Object(b["a"])(g,n,i,!1,null,null,null);t["default"]=v.exports},c0c7:function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"h",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return u}));var n=a("b775");function i(e){return Object(n["a"])({url:"/sys/user",method:"get",params:e})}function r(e){return Object(n["a"])({url:"/sys/user/".concat(e),method:"get"})}function s(e){return Object(n["a"])({url:"/sys/user",method:"post",data:e})}function o(e){return console.log(e,"data----更新"),Object(n["a"])({url:"/sys/user",method:"put",data:e})}function l(e){return Object(n["a"])({url:"/sys/user/resetPassword",method:"put",data:e})}function c(e){return Object(n["a"])({url:"/sys/user",method:"delete",data:e})}function d(e,t){return Object(n["a"])({url:"/sys/user/role/".concat(e),method:"post",data:t})}function u(e){return Object(n["a"])({url:"/sys/user/allotUserDept",method:"post",data:e})}},c107:function(e,t,a){},c4d3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空记录")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch,"show-seacher-btn":!1},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"title",label:"标题","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作类型",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[0==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("其他")]):1==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("新增")]):2==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("修改")]):3==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("删除")]):4==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("授权")]):5==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("导出")]):6==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("导入")]):7==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("强退")]):8==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("生成代码")]):9==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("清空数据")]):10==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("分享")]):11==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("连接")]):12==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("分配")]):13==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("更新")]):14==n.businessType?a("el-tag",{attrs:{type:"warning"}},[e._v("下载")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"请求方式",align:"center",prop:"requestMethod"}}),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"operationName",width:"100","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"主机地址",align:"center",prop:"operationIp",width:"130","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作地点",align:"center",prop:"operationLocation","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作URL",align:"center",prop:"operationUrl","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"请求参数",align:"center",prop:"operationParam","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作结果",align:"center",prop:"jsonResult","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作日期",align:"center",prop:"operationTime",width:"180"}}),a("el-table-column",{attrs:{label:"操作状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[0==n.status?a("el-tag",[e._v("正常")]):e._e(),1==n.status?a("el-tag",{attrs:{type:"danger"}},[e._v("异常")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"错误消息",align:"center",prop:"errorMsg","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-link",{attrs:{type:"danger",underline:!1,size:"mini"},on:{click:function(t){return e.handleDelete(n)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1)},i=[],r=a("333d"),s=a("b775");function o(e){return Object(s["a"])({url:"/log/operation/page",method:"get",params:e})}function l(){return Object(s["a"])({url:"/log/operation/clean",method:"delete"})}function c(e){return Object(s["a"])({url:"/log/operation/".concat(e),method:"delete"})}var d={components:{Pagination:r["a"]},data:function(){return{listLoading:!1,total:0,queryParams:{page:1,pageCount:10,beginTime:"",endTime:"",loginIp:"",operationName:"",orderByColumn:"",status:""},tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,o(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleClean:function(){var e=this;this.$confirm("是否确认清空记录?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l()})).then((function(t){e.$message({type:"success",message:t.msg}),e.getList()}))},handleDelete:function(e){var t=this,a=e.id;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(a)})).then((function(e){t.$message({type:"success",message:e.msg}),t.getList()}))}}},u=d,p=a("2877"),m=Object(p["a"])(u,n,i,!1,null,null,null);t["default"]=m.exports},c62e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"social-signup-container"},[a("div",{staticClass:"sign-btn",on:{click:function(t){return e.wechatHandleClick("wechat")}}},[a("span",{staticClass:"wx-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),e._v(" WeChat ")]),a("div",{staticClass:"sign-btn",on:{click:function(t){return e.tencentHandleClick("tencent")}}},[a("span",{staticClass:"qq-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),e._v(" QQ ")])])},i=[],r={name:"SocialSignin",methods:{wechatHandleClick:function(e){alert("ok")},tencentHandleClick:function(e){alert("ok")}}},s=r,o=(a("bd1b"),a("2877")),l=Object(o["a"])(s,n,i,!1,null,"22d100dd",null);t["default"]=l.exports},c6df:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticStyle:{height:"100%"}},[a("el-row",{attrs:{gutter:7}},[a("right-toolbar",{attrs:{"show-seacher-btn":!1},on:{queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"data",label:"数据","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(e._s(n.data))])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"类别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[1==n.type?a("span",[e._v("rdm设备")]):e._e(),2==n.type?a("span",[e._v("dcv设备")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"acquisitionTime",label:"采集时间",align:"center"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1)},i=[],r=(a("d81d"),a("b775"));function s(e){return Object(r["a"])({url:"/data/server/info/page",method:"get",params:e})}var o={name:"User",data:function(){return{listLoading:!1,total:0,showSearch:!0,queryParams:{page:1,pageCount:10,username:"",deptId:""},queryRoleParams:{page:1,pageCount:10,name:""},ids:[],single:!0,multiple:!0,tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,s(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}},l=o,c=a("2877"),d=Object(c["a"])(l,n,i,!1,null,"fe4872d4",null);t["default"]=d.exports},c733:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("添加安装包")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"name",label:"安装包"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-link",{attrs:{href:e.downloadFileURL(n.name),target:"_blank"}},[e._v(" "+e._s(n.name)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"releases",label:"版本"}}),a("el-table-column",{attrs:{prop:"clientVersionName",label:"版本类型"}}),a("el-table-column",{attrs:{prop:"creater",label:"创建人"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{label:"激活",align:"center",width:"160","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66"},on:{change:function(t){return e.activateChange(n)}},model:{value:n.activate,callback:function(t){e.$set(n,"activate",t)},expression:"row.activate"}})]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"版本类型"}},[a("treeselect",{attrs:{options:e.versionSelect,placeholder:"请选择版本类型"},on:{select:e.handleVersion},model:{value:e.form.clientVersionCode,callback:function(t){e.$set(e.form,"clientVersionCode",t)},expression:"form.clientVersionCode"}})],1),a("el-form-item",{attrs:{label:"安装包文件",prop:"packageFile"}},[a("el-upload",{staticClass:"upload-demos",attrs:{action:"#","before-remove":e.beforeRemoveExe,limit:1,"auto-upload":!0,"file-list":e.fileListExe,"on-exceed":e.handleExceedExe,"http-request":e.getPackageFile}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),a("el-form-item",{attrs:{label:"yml 文件",prop:"ymlFile"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"#","before-remove":e.beforeRemove,limit:1,"auto-upload":!0,"file-list":e.fileList,"on-exceed":e.handleExceed,"http-request":e.getYmlFile}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:e.uploadLoading,type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],r=(a("b0c0"),a("d81d"),a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("333d")),s=a("fcb7"),o=a("d791"),l=a("ca17"),c=a.n(l),d=(a("542c"),{components:{Pagination:r["a"],Treeselect:c.a},data:function(){return{list:null,listLoading:!1,total:0,queryParams:{page:1,pageCount:10},fileList:[],fileListExe:[],tableData:[],versionSelect:[],open:!1,title:"",form:{packageFileName:"",packageFile:"",ymlFileName:"",ymlFile:"",clientVersionCode:"Windows"},rules:{packageFile:[{required:!0,message:"安装包不能为空",trigger:"change"}],ymlFile:[{required:!0,message:"yml 文件不能为空",trigger:"change"}],clientVersionCode:[{required:!0,message:"请选择版本类型",trigger:"blur"}]},uploadLoading:!1,downloadFileURL:o["c"]}},created:function(){this.getList()},methods:{beforeRemove:function(e){return this.$confirm("确定移除 ".concat(e.name,"？"))},beforeRemoveExe:function(e){return this.$confirm("确定移除 ".concat(e.name,"？"))},handleType:function(){var e=this;Object(s["i"])("ClientVersion").then((function(t){e.versionSelect=t.data.map((function(e){return{id:e.dictValue,label:e.dictName}}))}))},handleVersion:function(e){this.form.clientVersionCode=e.id},getList:function(){var e=this;this.listLoading=!0,Object(o["d"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleAdd:function(){this.reset(),this.handleType(),this.open=!0,this.title="添加",this.form.packageFileName="",this.form.ymlFileName="",this.fileList=[],this.fileListExe=[]},activateChange:function(e){var t=this;this.$confirm("确认此操作 ?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["a"])({id:e.id}).then((function(e){t.$message({type:"success",message:e.msg}),t.getList()}))})).catch((function(){e.activate=0===e.activate?1:0}))},getPackageFile:function(e){var t=e.file;this.form.packageFile=t,this.form.packageFileName=t.name},getYmlFile:function(e){var t=e.file;this.form.ymlFile=t,this.form.ymlFileName=t.name},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.uploadLoading=!0;var a=e.form,n=a.packageFile,i=a.ymlFile,r=a.clientVersionCode,s=new FormData;s.append("packageFile",n),s.append("ymlFile",i),s.append("clientVersionCode",r),Object(o["f"])(s).then((function(t){e.uploadLoading=!1,e.$message({type:"success",message:t.msg}),e.open=!1,e.form.packageFileName="",e.form.ymlFileName="",e.fileList=[],e.fileListExe=[],e.getList()})).catch((function(){e.uploadLoading=!1}))}}))},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleExceedExe:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},downloadHandle:function(e){Object(o["b"])(e).then((function(t){var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.style.display="none",n.href=a,n.download=e,document.body.appendChild(n),n.click(),URL.revokeObjectURL(a),document.body.removeChild(n)}))},cancel:function(){this.uploadLoading=!1,this.open=!1,this.reset(),this.form.packageFileName="",this.form.ymlFileName=""},reset:function(){this.form={packageFileName:"",packageFile:"",ymlFileName:"",ymlFile:"",clientVersionCode:"Windows"},this.resetForm("form")}}}),u=d,p=(a("a4bb"),a("2877")),m=Object(p["a"])(u,n,i,!1,null,null,null);t["default"]=m.exports},c82a:function(e,t,a){},c8b8:function(e,t,a){},c92a:function(e,t,a){"use strict";a("86d6")},cafe:function(e,t,a){},cc07:function(e,t,a){"use strict";a("6004")},cc6c:function(e,t,a){e.exports=a.p+"static/img/401.089007e7.gif"},cd81:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return l}));var n=a("b775");function i(e){return Object(n["a"])({url:"/log/login/page",method:"get",params:e})}function r(){return Object(n["a"])({url:"/log/login/clean",method:"delete"})}function s(e){return Object(n["a"])({url:"/log/login/".concat(e),method:"delete"})}function o(e){return Object(n["a"])({url:"/log/login/data/page",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/log/remote/connect/record/page",method:"get",params:e})}},ced4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"todo",class:{completed:e.todo.done,editing:e.editing}},[a("div",{staticClass:"view"},[a("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:e.todo.done},on:{change:function(t){return e.toggleTodo(e.todo)}}}),a("label",{domProps:{textContent:e._s(e.todo.text)},on:{dblclick:function(t){e.editing=!0}}}),a("button",{staticClass:"destroy",on:{click:function(t){return e.deleteTodo(e.todo)}}})]),a("input",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"},{name:"focus",rawName:"v-focus",value:e.editing,expression:"editing"}],staticClass:"edit",domProps:{value:e.todo.text},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doneEdit(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelEdit(t)}],blur:e.doneEdit}})])},i=[],r=(a("498a"),{name:"Todo",directives:{focus:function(e,t,a){var n=t.value,i=a.context;n&&i.$nextTick((function(){e.focus()}))}},props:{todo:{type:Object,default:function(){return{}}}},data:function(){return{editing:!1}},methods:{deleteTodo:function(e){this.$emit("deleteTodo",e)},editTodo:function(e){var t=e.todo,a=e.value;this.$emit("editTodo",{todo:t,value:a})},toggleTodo:function(e){this.$emit("toggleTodo",e)},doneEdit:function(e){var t=e.target.value.trim(),a=this.todo;t?this.editing&&(this.editTodo({todo:a,value:t}),this.editing=!1):this.deleteTodo({todo:a})},cancelEdit:function(e){e.target.value=this.todo.text,this.editing=!1}}}),s=r,o=a("2877"),l=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=l.exports},d3fa:function(e,t,a){"use strict";a("8d93")},d4eb:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-checkbox-group",{model:{value:e.formThead,callback:function(t){e.formThead=t},expression:"formThead"}},[a("el-checkbox",{attrs:{label:"apple"}},[e._v(" apple ")]),a("el-checkbox",{attrs:{label:"banana"}},[e._v(" banana ")]),a("el-checkbox",{attrs:{label:"orange"}},[e._v(" orange ")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"fruitName",width:"180"}}),e._l(e.formThead,(function(t){return a("el-table-column",{key:t,attrs:{label:t},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row[t])+" ")]}}],null,!0)})}))],2)],1)},i=[],r={data:function(){return{tableData:[{name:"fruit-1",apple:"apple-10",banana:"banana-10",orange:"orange-10"},{name:"fruit-2",apple:"apple-20",banana:"banana-20",orange:"orange-20"}],formThead:["apple","banana"]}}},s=r,o=a("2877"),l=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=l.exports},d78e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddRole}},[e._v("New Role")]),a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.rolesList,border:""}},[a("el-table-column",{attrs:{align:"center",label:"Role Key",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.key)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Role Name",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),a("el-table-column",{attrs:{align:"header-center",label:"Description"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.description)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Operations"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t)}}},[e._v("Edit")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDelete(t)}}},[e._v("Delete")])]}}])})],1),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"edit"===e.dialogType?"Edit Role":"New Role"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.role,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{placeholder:"Role Name"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}})],1),a("el-form-item",{attrs:{label:"Desc"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"Role Description"},model:{value:e.role.description,callback:function(t){e.$set(e.role,"description",t)},expression:"role.description"}})],1),a("el-form-item",{attrs:{label:"Menus"}},[a("el-tree",{ref:"tree",staticClass:"permission-tree",attrs:{"check-strictly":e.checkStrictly,data:e.routesData,props:e.defaultProps,"show-checkbox":"","node-key":"path"}})],1)],1),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmRole}},[e._v("Confirm")])],1)],1)],1)},i=[],r=a("5530"),s=a("2909"),o=a("b85c"),l=a("1da1"),c=(a("d3b7"),a("159b"),a("99af"),a("a434"),a("caad"),a("2532"),a("a4d3"),a("e01a"),a("b0c0"),a("4de4"),a("96cf"),a("df7c")),d=a.n(c),u=a("ed08"),p=a("b775");function m(){return Object(p["a"])({url:"/vue-element-admin/routes",method:"get"})}function h(){return Object(p["a"])({url:"/vue-element-admin/roles",method:"get"})}function f(e){return Object(p["a"])({url:"/vue-element-admin/role",method:"post",data:e})}function g(e,t){return Object(p["a"])({url:"/vue-element-admin/role/".concat(e),method:"put",data:t})}function b(e){return Object(p["a"])({url:"/vue-element-admin/role/".concat(e),method:"delete"})}var v={key:"",name:"",description:"",routes:[]},y={data:function(){return{role:Object.assign({},v),routes:[],rolesList:[],dialogVisible:!1,dialogType:"new",checkStrictly:!1,defaultProps:{children:"children",label:"title"}}},computed:{routesData:function(){return this.routes}},created:function(){this.getRoutes(),this.getRoles()},methods:{getRoutes:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:a=t.sent,e.serviceRoutes=a.data,e.routes=e.generateRoutes(a.data);case 5:case"end":return t.stop()}}),t)})))()},getRoles:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:a=t.sent,e.rolesList=a.data;case 4:case"end":return t.stop()}}),t)})))()},generateRoutes:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=[],i=Object(o["a"])(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(!r.hidden){var s=this.onlyOneShowingChild(r.children,r);r.children&&s&&!r.alwaysShow&&(r=s);var l={path:d.a.resolve(a,r.path),title:r.meta&&r.meta.title};r.children&&(l.children=this.generateRoutes(r.children,l.path)),n.push(l)}}}catch(c){i.e(c)}finally{i.f()}return n},generateArr:function(e){var t=this,a=[];return e.forEach((function(e){if(a.push(e),e.children){var n=t.generateArr(e.children);n.length>0&&(a=[].concat(Object(s["a"])(a),Object(s["a"])(n)))}})),a},handleAddRole:function(){this.role=Object.assign({},v),this.$refs.tree&&this.$refs.tree.setCheckedNodes([]),this.dialogType="new",this.dialogVisible=!0},handleEdit:function(e){var t=this;this.dialogType="edit",this.dialogVisible=!0,this.checkStrictly=!0,this.role=Object(u["d"])(e.row),this.$nextTick((function(){var e=t.generateRoutes(t.role.routes);t.$refs.tree.setCheckedNodes(t.generateArr(e)),t.checkStrictly=!1}))},handleDelete:function(e){var t=this,a=e.$index,n=e.row;this.$confirm("Confirm to remove the role?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b(n.key);case 2:t.rolesList.splice(a,1),t.$message({type:"success",message:"Delete succed!"});case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)}))},generateTree:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2?arguments[2]:void 0,i=[],r=Object(o["a"])(e);try{for(r.s();!(t=r.n()).done;){var s=t.value,l=d.a.resolve(a,s.path);s.children&&(s.children=this.generateTree(s.children,l,n)),(n.includes(l)||s.children&&s.children.length>=1)&&i.push(s)}}catch(c){r.e(c)}finally{r.f()}return i},confirmRole:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,s,o,l,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a="edit"===e.dialogType,n=e.$refs.tree.getCheckedKeys(),e.role.routes=e.generateTree(Object(u["d"])(e.serviceRoutes),"/",n),!a){t.next=16;break}return t.next=6,g(e.role.key,e.role);case 6:i=0;case 7:if(!(i<e.rolesList.length)){t.next=14;break}if(e.rolesList[i].key!==e.role.key){t.next=11;break}return e.rolesList.splice(i,1,Object.assign({},e.role)),t.abrupt("break",14);case 11:i++,t.next=7;break;case 14:t.next=22;break;case 16:return t.next=18,f(e.role);case 18:r=t.sent,s=r.data,e.role.key=s.key,e.rolesList.push(e.role);case 22:o=e.role,l=o.description,c=o.key,d=o.name,e.dialogVisible=!1,e.$notify({title:"Success",dangerouslyUseHTMLString:!0,message:"\n            <div>Role Key: ".concat(c,"</div>\n            <div>Role Name: ").concat(d,"</div>\n            <div>Description: ").concat(l,"</div>\n          "),type:"success"});case 25:case"end":return t.stop()}}),t)})))()},onlyOneShowingChild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=null,n=e.filter((function(e){return!e.hidden}));return 1===n.length?(a=n[0],a.path=d.a.resolve(t.path,a.path),a):0===n.length&&(a=Object(r["a"])(Object(r["a"])({},t),{},{path:"",noShowingChildren:!0}),a)}}},w=y,k=(a("a87b"),a("2877")),x=Object(k["a"])(w,n,i,!1,null,"8eae7132",null);t["default"]=x.exports},d791:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return m}));var n=a("b775"),i=a("4328"),r=a.n(i),s=a("ed08"),o=a("01ea");function l(e){return Object(n["a"])({url:"/client/package/page",method:"get",params:e})}function c(e){return Object(n["a"])({url:"/client/package/activate",method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r.a.stringify(e)})}function d(e){return Object(n["a"])({url:"/client/package/upgrade/".concat(e),method:"get",responseType:"blob"})}function u(e){return Object(s["b"])(o["a"],"/client/package/downClient/".concat(e))}function p(e){return Object(n["a"])({url:"/client/package/upload",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})}function m(){return Object(n["a"])({url:"/client/package/new/name",method:"get"})}},da14:function(e,t,a){},da3e:function(e,t,a){},dab2:function(e,t,a){"use strict";a("4b43")},dc58:function(e,t,a){},dcdce:function(e,t,a){},dda4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"app-row",attrs:{gutter:20}},[a("el-col",{staticClass:"dept-tree",attrs:{span:5,xs:24}},[a("dept-tree",{on:{handleDefaultKey:e.handleDefaultKey,handleNodeClick:e.handleDeptNodeClick}})],1),a("el-col",{attrs:{span:19,xs:24}},[a("el-row",{attrs:{gutter:10}},e._l(e.cardList,(function(t,n){return a("el-col",{key:n,attrs:{xs:24,sm:12,md:12,lg:12,xl:8}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"clearfix",staticStyle:{position:"relative"},attrs:{slot:"header"},slot:"header"},[a("p",{staticClass:"el-dialog__title",staticStyle:{margin:"0px"}},[e._v(e._s(t.user.username))]),a("el-button",{staticStyle:{position:"absolute",right:"5px",top:"-10px"},attrs:{type:"text"}},[e._v("已分配："+e._s(t.equipmentsUser.length))]),a("div",{staticStyle:{color:"#4B4C4F","font-size":"13px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("p",[a("span",{staticClass:"text-label"},[e._v("用户昵称：")]),e._v(" "+e._s(t.user.nickName))])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.user.remark))]),a("p",{staticStyle:{width:"100%",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[a("span",{staticClass:"text-label"},[e._v("备注：")]),e._v(e._s(t.user.remark))])])],1)],1)],1)],1),a("div",[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:function(a){return e.bindHandle(t.user)}}},[e._v("分配")]),a("div",{staticClass:"el-table",staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:t.equipmentsUser,"element-loading-text":"Loading",fit:"","highlight-current-row":"",height:"200"}},[a("el-table-column",{attrs:{prop:"equipmentsName",label:"主机名","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"username",label:"用户名","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"50","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.unbindHandler(n.row,t.user.id)}}},[e._v("解绑")])]}}],null,!0)})],1)],1)],1)])],1)})),1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,"append-to-body":"",limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1),a("el-dialog",{attrs:{title:"分配主机账号",visible:e.dialogBindFormVisible},on:{"update:visible":function(t){e.dialogBindFormVisible=t}}},[a("el-form",{attrs:{model:e.formBind}},[a("el-form-item",{attrs:{label:"主机账号"}},[a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeExpand(t)}},model:{value:e.menuExpand,callback:function(t){e.menuExpand=t},expression:"menuExpand"}},[e._v("展开/折叠")]),a("el-tree2",{ref:"menu",staticClass:"tree-border",attrs:{data:e.menuoptions,"show-checkbox":"","node-key":"id","default-checked-keys":e.current,"check-strictly":!e.form.menuCheckStrictly,"empty-text":"没有可以分配的主机"},on:{"update:data":function(t){e.menuoptions=t}}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogBindFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.bindSubmit()}}},[e._v("确 定")])],1)],1)],1)},i=[],r=a("1da1"),s=(a("96cf"),a("d3b7"),a("159b"),a("b0c0"),a("99af"),a("4de4"),a("a1d3")),o=a("b775");function l(e){return Object(o["a"])({url:"/rdm/user/connect/equipment/user/list/".concat(e),method:"get",id:e})}function c(e,t){return Object(o["a"])({url:"/rdm/user/connect/equipment/user/bind/".concat(t),method:"post",data:e})}function d(e,t){return console.log(e),Object(o["a"])({url:"/rdm/user/connect/equipment/user/unbind/".concat(t),method:"put",data:e})}function u(e){return Object(o["a"])({url:"/rdm/user/connect/equipment/user/page",method:"get",params:e})}var p=a("5cee"),m={components:{elTree2:p["default"],DeptTree:s["default"]},data:function(){return{tableList:[],listLoading:!1,current:[],disable:[],queryParams:{page:1,pageCount:10,username:"",deptId:""},total:0,title:"",userId:-1,dialogBindFormVisible:!1,cardList:[],formBind:{id:"",permiIds:[],menuCheckStrictly:!0},menuExpand:!1,menuNodeAll:!1,menuOptions:[],form:{},rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},computed:{menuoptions:function(){var e=this,t=[],a={id:0,label:"",children:[],showCheckBox:!1};return this.menuOptions.forEach((function(n){if(a.id="e"+n.id,a.label=n.name,a.disabled=!0,a.showCheckBox=!1,null!==n.children){var i=[];n.children.forEach((function(t){var a={};a.id=t.id,a.label=t.username,a.showCheckBox=!0,e.disable.forEach((function(e){e===a.id&&(a.disabled=!0)})),i.push(a)})),a.children=i}t.push(a),a={id:0,label:"",children:[],showCheckBox:!0}})),console.log(t),t}},created:function(){},methods:{handleDefaultKey:function(e){this.queryParams.deptId=e,this.getList()},getList:function(){var e=this;this.listLoading=!0,u(this.queryParams).then((function(t){e.cardList=t.data.records,e.total=t.data.total,e.listLoading=!1,console.log(e.cardList),e.cardList.forEach((function(t){t.equipments.forEach((function(t){t.children.forEach((function(e){e.equipmentsName=t.name})),e.tableList=e.tableList.concat(t.children)})),t.equipmentsUser=e.tableList,e.tableList=[]})),console.log(e.tableList)}))},handleDeptNodeClick:function(e){var t=e.id;this.queryParams.deptId=t,this.getList()},bindHandle:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogBindFormVisible=!0,n=e.id,a.next=4,l(n);case 4:i=a.sent,t.menuOptions=i.data.rdmEquipments,t.current=i.data.current,t.disable=i.data.disabled,console.log(t.menuOptions),t.userId=e.id;case 10:case"end":return a.stop()}}),a)})))()},unbindHandler:function(e,t){var a=this,n=t,i=[e.id];console.log(i),this.$confirm("是否确认解绑选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){d(i,n).then((function(e){a.$message({message:e.msg,type:"success"}),a.getList()}))}))},handleCheckedTreeExpand:function(e){var t=this.menuoptions;console.log(this.$refs.menu.store);for(var a=0;a<t.length;a++)this.$refs.menu.store.nodesMap[t[a].id].expanded=e},handleCheckedTreeNodeAll:function(e){this.$refs.menu.setCheckedNodes(e?this.menuOptions:[])},handleCheckedTreeConnect:function(e){this.form.menuCheckStrictly=!!e},getKeys:function(e){console.log(e)},bindSubmit:function(){var e=this,t=this.$refs.menu.getCheckedKeys().filter((function(e){return!isNaN(e)}));console.log(t),c(t,this.userId).then((function(t){e.$message({message:"操作成功",type:"success"}),e.formBind={id:"",permiIds:[],menuCheckStrictly:!0},e.dialogBindFormVisible=!1,e.getList()}))}}},h=m,f=(a("849a"),a("2877")),g=Object(f["a"])(h,n,i,!1,null,"005f7685",null);t["default"]=g.exports},e085:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"角色名称",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}}),a("right-toolbar",{attrs:{"show-search":e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"用户编号"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{prop:"nickName",label:"昵称"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("el-tag",[e._v("正常")]):e._e(),1==t.row.status?a("el-tag",{attrs:{type:"info"}},[e._v("停用")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"created",label:"创建时间"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"210","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),1!==t.row.userId?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e(),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-key"},on:{click:function(a){return e.handleResetPwd(t.row)}}},[e._v("重置")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)},i=[],r=(a("d81d"),a("c0c7")),s={filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},data:function(){return{list:null,listLoading:!1,total:0,showSearch:!0,queryParams:{page:1,pageCount:10,username:""},ids:[],single:!0,multiple:!0,tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(r["f"])(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){},handleUpdate:function(){},handleDelete:function(){},handleExport:function(){},handleResetPwd:function(){},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}},o=s,l=(a("36c5"),a("2877")),c=Object(l["a"])(o,n,i,!1,null,null,null);t["default"]=c.exports},e4b4:function(e,t,a){},e565:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5,xs:24,lg:4}},[e.deptOptions.length?a("dept-tree",{attrs:{"dept-list":e.deptOptions},on:{handleDefaultKey:e.handleDefaultKey,handleNodeClick:e.handleDeptNodeClick}}):e._e()],1),a("el-col",{attrs:{span:19,xs:24,lg:20}},[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.addOrUpdateHandle}},[e._v("新增")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch,"show-seacher-btn":!1},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"hostname",label:"主机名称","show-overflow-tooltip":!0,"min-width":"100"}}),a("el-table-column",{attrs:{prop:"name",label:"设备名称","show-overflow-tooltip":!0,"min-width":"100"}}),a("el-table-column",{attrs:{prop:"localIp",label:"内网地址","show-overflow-tooltip":!0,"min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.localIp+":"+a.localPort))]}}])}),a("el-table-column",{attrs:{prop:"publicIp",label:"公网地址","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.publicIp+":"+a.publicPort))]}}])}),a("el-table-column",{attrs:{prop:"useStatus",label:"状态","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[1==n.useStatus?a("el-tag",{attrs:{type:"success"}},[e._v("启用")]):e._e(),2==n.useStatus?a("el-tag",{attrs:{type:"info"}},[e._v("禁用")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"mac",label:"主机MAC地址","show-overflow-tooltip":!0,"min-width":"160"}}),a("el-table-column",{attrs:{prop:"onlineUser",label:"在线人数","show-overflow-tooltip":!0,"min-width":"80"}}),a("el-table-column",{attrs:{prop:"sysDept.deptName",label:"组织","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"lastOfflineTime",label:"上次离线时间","show-overflow-tooltip":!0,"min-width":"140"}}),a("el-table-column",{attrs:{prop:"creater",label:"创建人","show-overflow-tooltip":!0,"min-width":"80"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","show-overflow-tooltip":!0,"min-width":"140"}}),a("el-table-column",{attrs:{prop:"updater",label:"修改人","show-overflow-tooltip":!0,"min-width":"100"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"修改时间","show-overflow-tooltip":!0,"min-width":"140"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"147"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.getEquipmentSharedList(t.row)}}},[e._v("分享记录")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.addOrUpdateHandle(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.page,"append-to-body":"",limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1)],1),e.addOrUpdateVisible?a("dcv-add-or-update",{ref:"addOrUpdate",on:{refreshDataList:e.getList}}):e._e(),a("el-drawer",{attrs:{title:"分享记录: "+e.currentDCVEquipment.hostname,visible:e.equipmentSharedTableVisible,direction:"rtl",size:"50%"},on:{"update:visible":function(t){e.equipmentSharedTableVisible=t}}},[a("el-table",{attrs:{data:e.sharedListtableData,"element-loading-text":"加载中...",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"shareAuthority",label:"权限","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.formatShareAuth(a.shareAuthority))+" ")]}}])}),a("el-table-column",{attrs:{prop:"username",label:"分享用户"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.sharer.username)+" ")]}}])}),a("el-table-column",{attrs:{prop:"username",label:"接收用户"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.shareBy.username)+" ")]}}])}),a("el-table-column",{attrs:{prop:"shareTime",label:"开始时间","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(JSON.parse(a.shareTime).beginTime)+" ")]}}])}),a("el-table-column",{attrs:{prop:"shareTime",label:"终止时间","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(JSON.parse(a.shareTime).endTime)+" ")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"可用状态"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[1==n.status?a("el-tag",{attrs:{type:"success"}},[e._v("正常")]):e._e(),2==n.status?a("el-tag",{attrs:{type:"danger"}},[e._v("禁用")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.sharedListQueryParams.total>0,expression:"sharedListQueryParams.total > 0"}],attrs:{total:e.total,page:e.sharedListQueryParams.page,"append-to-body":"",limit:e.sharedListQueryParams.pageCount},on:{"update:page":function(t){return e.$set(e.sharedListQueryParams,"page",t)},"update:limit":function(t){return e.$set(e.sharedListQueryParams,"pageCount",t)},pagination:e.getEquipmentSharedList}})],1)],1)},i=[],r=(a("d81d"),a("ac1f"),a("1276"),a("d3b7"),a("159b"),a("a15b"),a("a1d3")),s=a("9f62"),o=a("fcb7"),l=a("7eb6"),c=a("52e4"),d={components:{DeptTree:r["default"],DcvAddOrUpdate:c["default"]},data:function(){return{listLoading:!1,tableData:[],queryParams:{page:1,pageCount:10,name:"",deptId:""},sharedListtableData:[],currentDCVEquipment:{},sharedListQueryParams:{page:1,pageCount:10,equipmentId:void 0,total:0},equipmentSharedTableVisible:!1,showSearch:!0,ids:[],total:0,deptOptions:[],addOrUpdateVisible:!1}},created:function(){this.getDeptList(),this.getShareAuth()},methods:{handleDefaultKey:function(e){this.queryParams.deptId=e,this.getList()},getList:function(){var e=this;this.listLoading=!0,Object(s["e"])(this.queryParams).then((function(t){console.log(t),e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},getEquipmentSharedList:function(e){var t=this;e.id&&(this.currentDCVEquipment=e),this.equipmentSharedTableVisible=!0,this.sharedListQueryParams.equipmentId=this.currentDCVEquipment.id,this.sharedListQueryParams.equipmentId&&Object(s["f"])(this.sharedListQueryParams).then((function(e){console.log(e),t.sharedListtableData=e.data.records,t.sharedListQueryParams.total=e.data.total}))},handleDeptNodeClick:function(e){var t=e.id;this.queryParams.deptId=t,this.getList()},getDeptList:function(){var e=this;Object(o["o"])().then((function(t){e.deptOptions=t.data}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.deptName,children:e.children}},addOrUpdateHandle:function(e){var t=this;this.addOrUpdateVisible=!0,this.$nextTick((function(){t.$refs.addOrUpdate.init({id:e.id,deptId:t.queryParams.deptId})}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleQuery:function(){this.queryParams.page=1,this.getList()},handleDelete:function(e){var t=this;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return console.log(e),Object(s["c"])([e.id])})).then((function(e){console.log(e),t.$message({type:"success",message:e.msg}),t.getList()}))},getShareAuth:function(){var e=this;Object(l["b"])().then((function(t){e.shareAuth=t.data}))},formatShareAuth:function(e){var t=this,a=e.split(" "),n=[];return a.forEach((function(e){var a=t.shareAuth[e];a&&n.push(a)})),n.join(", ")},reset:function(){this.form={},this.resetForm("form")}}},u=d,p=(a("987a"),a("2877")),m=Object(p["a"])(u,n,i,!1,null,"169774f4",null);t["default"]=m.exports},e6f7:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return s}));a("b0c0");var n="$treeNodeId",i=function(e,t){t&&!t[n]&&Object.defineProperty(t,n,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},r=function(e,t){return e?t[e]:t[n]},s=function(e,t){var a=e;while(a&&"BODY"!==a.tagName){if(a.__vue__&&a.__vue__.$options.name===t)return a.__vue__;a=a.parentNode}return null}},e738:function(e,t,a){},ea18:function(e,t,a){"use strict";a("1618")},eb16:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mac_win"},[e._m(0),e._m(1),a("div",{staticClass:"downlist"},[e._m(2),a("div",{staticClass:"divflex"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.winname,expression:"winname"}],staticClass:"divflexitem"},[a("img",{attrs:{src:"/static/img/windows.png"}}),a("div",[a("p",{staticClass:"p1"},[e._v(e._s(e.winname)+" V"+e._s(e.winreleass)+" "+e._s(e.winupdateTime)+"更新")]),a("p",{staticClass:"p2"},[e._v("支持: Windows7、Windows8、Windows10")])]),a("div",{staticClass:"btndown",on:{click:e.getWin}},[e._v("下载")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.macname,expression:"macname"}],staticClass:"divflexitem"},[a("img",{attrs:{src:"/static/img/apple.png"}}),a("div",[a("p",{staticClass:"p1"},[e._v(e._s(e.macname)+" V"+e._s(e.macreleass)+" "+e._s(e.macupdateTime)+"更新")]),a("p",{staticClass:"p2"},[e._v("支持: macOSX 10.10及以上版本")])]),a("div",{staticClass:"btndown",on:{click:e.getMac}},[e._v("下载")])])]),e._m(3),a("div",{staticClass:"tybdown"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.winofflinename,expression:"winofflinename"}]},[a("p",{staticClass:"p3"},[e._v(e._s(e.winofflinename)+" V"+e._s(e.winofflinenamereleass)+" "+e._s(e.winofflinenameupdateTime)+"更新")]),a("p",{staticClass:"p4"},[e._v("支持：Windows7、Windows8、Windows10 注意：需要联系商务代表提供离线数据包")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.winofflinename,expression:"winofflinename"}],staticClass:"clcdown"},[a("a",{on:{click:e.getWinOffLine}},[e._v("点击下载")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.winremotename,expression:"winremotename"}]},[a("p",{staticClass:"p3"},[e._v(e._s(e.winremotename)+" V"+e._s(e.winremotereleass)+" "+e._s(e.winremoteupdateTime)+"更新")]),a("p",{staticClass:"p4"},[e._v("支持：Windows7、Windows8、Windows10")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.winremotename,expression:"winremotename"}],staticClass:"clcdown"},[a("a",{on:{click:e.getWinRemote}},[e._v("点击下载")])])])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"head"},[a("img",{attrs:{src:"/static/img/logo.png"}}),a("p",[e._v("BIMGO设计云")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bgimg"},[a("div",{staticClass:"text"},[a("p",[e._v("BIMGO设计云客户端")]),a("p",[e._v(" BIMGO设计云工作站帮助企业将数字化业务核心生产资料集中到企业云端数字资产集中管理、安全可控 "),a("br"),e._v("助力企业业务升级、降本增效，驱动数字资产产生更大价值 ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticClass:"cro"}),a("span",{staticClass:"txt"},[e._v("客户端下载")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticClass:"cro"}),a("span",{staticClass:"txt"},[e._v("体验版及相关下载")])])}],r=a("1da1"),s=(a("96cf"),a("d3b7"),a("159b"),a("fb6a"),a("d791")),o=a("b775");function l(){return Object(o["a"])({url:"/client/package/clientList",method:"get"})}var c={data:function(){return{winname:"",winreleass:"",winupdateTime:"",winId:"",macname:"",macreleass:"",macupdateTime:"",macId:"",winofflinename:"",winofflinenamereleass:"",winofflinenameupdateTime:"",winofflineId:"",winremotename:"",winremotereleass:"",winremoteupdateTime:"",winremoteId:""}},created:function(){this.downloadClientCenter()},methods:{downloadDefaultEXE:function(e){console.log(e);var t=e||window._URL_.WINDOW_EXE_PATH,a=document.createElement("a");a.style.display="none",a.href=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)},downloadClientCenter:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],t.next=3,l();case 3:n=t.sent,n.data.forEach((function(e){a.push(e)})),a.forEach((function(t){switch(t.clientVersionCode){case"Windows":e.winname=t.clientVersionName,e.winreleass=t.releases,e.winupdateTime=t.updateTime.slice(0,10),e.winId=t.id;break;case"Mac":e.macname=t.clientVersionName,e.macreleass=t.releases,e.macupdateTime=t.updateTime.slice(0,10),e.macId=t.id;break;case"Windows_Offline":e.winofflinename=t.clientVersionName,e.winofflinenamereleass=t.releases,e.winofflinenameupdateTime=t.updateTime.slice(0,10),e.winofflineId=t.id;break;case"Windows_Remotely":e.winremotename=t.clientVersionName,e.winremotereleass=t.releases,e.winremoteupdateTime=t.updateTime.slice(0,10),e.winremoteId=t.id;break;default:console.log("我是default")}}));case 6:case"end":return t.stop()}}),t)})))()},getWin:function(){var e=this.winId;try{e?(this.downloadFileURL=Object(s["c"])(e),this.downloadDefaultEXE(this.downloadFileURL)):this.downloadDefaultEXE()}catch(t){this.downloadDefaultEXE()}},getWinRemote:function(){var e=this.winremoteId;try{e?(this.downloadFileURL=Object(s["c"])(e),this.downloadDefaultEXE(this.downloadFileURL)):this.downloadDefaultEXE()}catch(t){this.downloadDefaultEXE()}},getWinOffLine:function(){var e=this.winofflineId;try{e?(this.downloadFileURL=Object(s["c"])(e),this.downloadDefaultEXE(this.downloadFileURL)):this.downloadDefaultEXE()}catch(t){this.downloadDefaultEXE()}},getMac:function(){var e=this.macId;try{e?(this.downloadFileURL=Object(s["c"])(e),this.downloadDefaultEXE(this.downloadFileURL)):this.downloadDefaultEXE()}catch(t){this.downloadDefaultEXE()}}}},d=c,u=(a("80b7"),a("2877")),p=Object(u["a"])(d,n,i,!1,null,null,null);t["default"]=p.exports},ede2:function(e,t,a){"use strict";a("87ca")},ef3c:function(e,t,a){"use strict";a.r(t);a("ac1f"),a("5319");var n,i,r={created:function(){var e=this.$route,t=e.params,a=e.query,n=t.path;this.$router.replace({path:"/"+n,query:a})},render:function(e){return e()}},s=r,o=a("2877"),l=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=l.exports},f168:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"github-corner",attrs:{href:"https://github.com/PanJiaChen/vue-element-admin",target:"_blank","aria-label":"View source on Github"}},[a("svg",{staticStyle:{fill:"#40c9c6",color:"#fff"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[a("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),a("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),a("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])},i=[],r=(a("96f2"),a("2877")),s={},o=Object(r["a"])(s,n,i,!1,null,"09fe1acc",null);t["a"]=o.exports},f507:function(e,t,a){"use strict";a("6f4d")},f766:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("01ea"),i="".concat(n["a"],"cms/media/file/chunkUpload")},f77f:function(e,t,a){},f794:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading","row-key":"id",fit:"","highlight-current-row":"","default-expand-all":!1,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{class:e.row.icon})]}}])}),a("el-table-column",{attrs:{prop:"orderNum",label:"排序"}}),a("el-table-column",{attrs:{prop:"hidden",label:"是否隐藏","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0===t.row.hidden?"显示":"隐藏"))])]}}])}),a("el-table-column",{attrs:{prop:"category",label:"客户端菜单"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(2===t.row.category?"是":"否"))])]}}])}),a("el-table-column",{attrs:{prop:"perms",label:"权限标识","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")])]}}])})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级菜单"}},[a("treeselect",{attrs:{options:e.tableData,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("IconSelect",{ref:"iconSelect",on:{selected:e.selected}}),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"权限标识",prop:"perms"}},[a("el-input",{attrs:{disabled:"",placeholder:"请权限标识",maxlength:"50"},model:{value:e.form.perms,callback:function(t){e.$set(e.form,"perms",t)},expression:"form.perms"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],r=a("1da1"),s=(a("96cf"),a("d81d"),a("c0c7")),o=a("a6dc"),l=a("ca17"),c=a.n(l),d=(a("542c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-body"},[a("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,n){return a("div",{key:n,on:{click:function(a){return e.selectedIcon("el-icon-"+t)}}},[a("i",{class:"el-icon-"+t,staticStyle:{height:"30px",width:"16px","vertical-align":"middle"}}),a("span",[e._v(e._s(t))])])})),0)])}),u=[],p=(a("b0c0"),a("4de4"),a("d3b7"),a("caad"),a("2532"),["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"]),m=p,h={name:"IconSelect",data:function(){return{name:"",iconList:m}},methods:{filterIcons:function(){var e=this;this.iconList=m,this.name&&(this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})))},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=m}}},f=h,g=(a("11e6"),a("2877")),b=Object(g["a"])(f,d,u,!1,null,"47ef80fa",null),v=b.exports,y={name:"Menu",components:{Treeselect:c.a,IconSelect:v},data:function(){return{title:"",open:!1,formRole:{id:"",roleIds:[]},menuOptions:[],dialogRoleFormVisible:!1,rules:{menuName:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],perms:[{required:!0,message:"权限标识不能为空",trigger:"blur"}],type:[{required:!0,message:"菜单类型不能为空",trigger:"blur"}]},form:{},listLoading:!1,total:0,showSearch:!0,queryParams:{page:1,pageCount:10,username:""},queryRoleParams:{page:1,pageCount:10,name:""},statusOptions:[{value:0,lable:"正常"},{value:1,lable:"停用"}],ids:[],single:!0,multiple:!0,tableData:[]}},created:function(){this.getList()},methods:{selected:function(e){this.form.icon=e},getList:function(){var e=this;this.listLoading=!0,Object(o["b"])().then((function(t){e.tableData=t.data,e.listLoading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.menuName,children:e.children}},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},getMenuTree:function(){var e=this;Object(o["d"])().then((function(t){e.menuOptions=t.data}))},handleUpdate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.reset(),n=e.id,a.next=4,Object(o["c"])(n);case 4:i=a.sent,console.log(i),t.form=i.data,t.open=!0,t.title="修改菜单";case 9:case"end":return a.stop()}}),a)})))()},handleExport:function(){},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(o["e"])(e.form).then((function(t){e.$message({message:"修改成功",type:"success"}),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.$message({message:"添加成功",type:"success"}),e.open=!1,e.getList()})))}))},distrRoleSubmit:function(){var e=this;Object(s["d"])(this.formRole.id,this.formRole.roleIds).then((function(t){e.$message({message:"修改成功",type:"success"}),e.formRole={id:"",roleIds:[]},e.dialogRoleFormVisible=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:0,name:void 0,icon:void 0,perms:"",component:"",type:"0",status:0,orderNum:0},this.resetForm("form")}}},w=y,k=(a("bb8c"),Object(g["a"])(w,n,i,!1,null,null,null));t["default"]=k.exports},f8d5:function(e,t,a){"use strict";a("667d")},faa7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空记录")])],1),a("right-toolbar",{attrs:{"show-search":e.showSearch,"show-seacher-btn":!1},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"username",label:"用户"}}),a("el-table-column",{attrs:{prop:"equipmentUsername",label:"设备用户"}}),a("el-table-column",{attrs:{prop:"equipmentName",label:"设备名称"}}),a("el-table-column",{attrs:{prop:"equipmentIp",label:"设备IP"}}),a("el-table-column",{attrs:{prop:"system",label:"操作系统"}}),a("el-table-column",{attrs:{prop:"localIp",label:"本地IP"}}),a("el-table-column",{attrs:{prop:"status",label:"连接状态"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[1==n.status?a("el-tag",[e._v("成功")]):e._e(),0==n.status?a("el-tag",{attrs:{type:"danger"}},[e._v("失败")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"远程时间",align:"center",prop:"connectTime",width:"180"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-link",{attrs:{type:"danger",underline:!1,size:"mini"},on:{click:function(t){return e.handleDelete(n)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.pageCount},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageCount",t)},pagination:e.getList}})],1)],1)},i=[],r=a("333d"),s=a("b775");function o(e){return Object(s["a"])({url:"/log/remote/connect/page",method:"get",params:e})}function l(){return Object(s["a"])({url:"/log/remote/connect/clean",method:"delete"})}function c(e){return Object(s["a"])({url:"/log/remote/connect/".concat(e),method:"delete"})}var d={components:{Pagination:r["a"]},data:function(){return{listLoading:!1,total:0,queryParams:{page:1,pageCount:10,beginTime:"",endTime:"",loginIp:"",operationName:"",orderByColumn:"",status:""},tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,o(this.queryParams).then((function(t){e.tableData=t.data.records,e.total=t.data.total,e.listLoading=!1}))},handleClean:function(){var e=this;this.$confirm("是否确认清空记录?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l()})).then((function(t){e.$message({type:"success",message:t.msg}),e.getList()}))},handleDelete:function(e){var t=this,a=e.id;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(a)})).then((function(e){t.$message({type:"success",message:e.msg}),t.getList()}))}}},u=d,p=a("2877"),m=Object(p["a"])(u,n,i,!1,null,null,null);t["default"]=m.exports},fb4f:function(e,t,a){},fc76:function(e,t,a){"use strict";a("1d28")},fe41:function(e,t,a){},feca:function(e,t,a){var n={"./common/DeeptCategory/index.vue":"2c8c","./common/DeptTree/index.vue":"a1d3","./common/DownLoadClient/index.vue":"42e9","./content/components/Upload/index.vue":"634c","./dashboard/admin/components/BarChart.vue":"5f84","./dashboard/admin/components/BoxCard.vue":"8269","./dashboard/admin/components/LineChart.vue":"36ef","./dashboard/admin/components/PanelGroup.vue":"6768","./dashboard/admin/components/PieChart.vue":"2044","./dashboard/admin/components/RaddarChart.vue":"7b75","./dashboard/admin/components/TodoList/Todo.vue":"ced4","./dashboard/admin/components/TodoList/index.vue":"2544","./dashboard/admin/components/TransactionTable.vue":"2f3f","./dashboard/admin/index.vue":"3f2c","./dashboard/components/DcvHost.vue":"1d25","./dashboard/components/DcvHostShareDialog.vue":"45f0","./dashboard/components/DcvShareDrawer.vue":"1fbf","./dashboard/components/RemoteHost.vue":"95a3","./dashboard/components/SharedDcvHost.vue":"14af","./dashboard/index.vue":"9406","./dashboard/indexOld.vue":"0fa0","./dashboard/indexOld2.vue":"c061","./data/analysis/index.vue":"c6df","./data/connectTotalTime/index.vue":"848e","./data/loginTotalTime/index.vue":"53e0","./dcv/components/DcvAddOrUpdate.vue":"52e4","./dcv/components/UserList.vue":"1a2b","./dcv/distribute/index.vue":"5b0a","./dcv/equipment/index.vue":"e565","./distribute/components/tree/src/tree-node.vue":"2104","./distribute/components/tree/src/tree.vue":"5cee","./distribute/desktop/index.vue":"dda4","./error-page/401.vue":"24e2","./error-page/404.vue":"1db4","./icons/index.vue":"105d","./log/dcvlog/index.vue":"2395","./log/loginlog/index.vue":"8533","./log/operation/index.vue":"c4d3","./log/rdblog/index.vue":"faa7","./log/rdm-operate/index.vue":"6387","./login/auth-redirect.vue":"b829","./login/clientDownload/index.vue":"eb16","./login/components/SocialSignin.vue":"c62e","./login/index.vue":"9ed6","./monitor/server/index.vue":"2a33","./organization/dept/index.vue":"53ed","./organization/license/index.vue":"0b7e","./organization/systemlicense/index.vue":"39f4","./permission/components/SwitchRoles.vue":"8ee8","./permission/directive.vue":"a99f","./permission/page.vue":"3252","./permission/role.vue":"d78e","./redirect/index.vue":"ef3c","./remote/account/index.vue":"3b19","./remote/desktop/index.vue":"a9fb","./system/dataDict/index.vue":"8106","./system/macPackage/index.vue":"6310","./system/menu/index.vue":"f794","./system/package/index.vue":"c733","./system/role/index.vue":"70eb","./system/user/index.vue":"1f34","./table/complex-table.vue":"c0a4","./table/drag-table.vue":"74b3","./table/dynamic-table/components/FixedThead.vue":"48c2","./table/dynamic-table/components/UnfixedThead.vue":"d4eb","./table/dynamic-table/index.vue":"b2c4","./table/index.vue":"90fe","./table/index2.vue":"e085","./table/inline-edit-table.vue":"9968","./union/upload.vue":"0e2b"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="feca"}}]);