(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/Rqf":function(e,t,a){"use strict";a("nUqH")},"9wfB":function(e,t,a){"use strict";a("mBiI")},i3r1:function(e,t,a){"use strict";var i=a("MT78"),n={name:"entryExitBar",props:{typeNow:{type:Number,default:1},notEntryExist:{type:Boolean,default:!0},tableData:{type:Array,default:function(){return[]}}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.tableData&&e.tableData.length&&e.initChart()}))},watch:{tableData:function(e){console.log("watchInit"),this.tableData=e,this.initChart()},typeNow:function(e){this.initChart()}},methods:{initChart:function(){var e=this;this.$refs.bar.style.height=window.innerHeight-176-document.querySelector(".searchBox2").offsetHeight+"px",this.chart&&this.chart.dispose(),this.chart=i.b(document.getElementById("entryExitBar"));var t=[],a=[];this.tableData.forEach((function(i,n){if("合计"!=i.titleName&&"总计"!=i.titleName){var r={};t.push(i.titleName),r.name=i.titleName,r.type="bar",r.label={show:!0,normal:{show:!0,position:"top",color:"#fff"}},r.emphasis={focus:"series"},r.data=[],i.statisticsList.forEach((function(t,a){if(e.notEntryExist&&"总计"!==t.timeSlot&&"合计"!==t.timeSlot&&(1===e.typeNow?r.data.push(t.totalAmount):r.data.push(t.avgTime)),!e.notEntryExist&&"总计"!==t.timeSlot&&"合计"!==t.timeSlot){var i=3===e.typeNow?t.stayingAmount:4===e.typeNow?t.stayingAvgTime:5===e.typeNow?t.stayingMaxTime:"";r.data.push(i)}})),a.push(r)}}));var n=[];this.tableData[0].statisticsList.forEach((function(e,t){var a=e.timeSlot;"总计"!==a&&"合计"!==a&&n.push(a)})),this.chart.setOption({tooltip:{axisPointer:{type:"shadow"},trigger:"axis",enterable:!0,renderMode:"html",extraCssText:"max-height: 80%; overflow-y: auto",position:function(e,t,a,i,n){var r=e[0],s=e[1],l=n.contentSize[0],o=n.contentSize[1];return[l>r?5:r-l,o>s?5:s-o]}},toolbox:{feature:{saveAsImage:{}}},legend:{data:t,textStyle:{color:"#fff"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:n,axisLine:{lineStyle:{color:"#fff"}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#fff"}}},series:a})}}},r=a("KHd+"),s=Object(r.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"bar",staticStyle:{width:"100%",height:"100%"},attrs:{id:"entryExitBar"}})])}),[],!1,null,"3865f4b6",null);t.a=s.exports},iGeD:function(e,t,a){"use strict";var i={name:"search",data:function(){var e=this;return{choiceDay:"",choiceHour:"",choiceDate0:"",disabledMonth:{onPick:function(t){var a=t.maxDate,i=t.minDate;e.choiceDate0=i.getTime(),a&&(e.choiceDate0="")},disabledDate:function(t){return e.getTimeDisabled("month",t)}},disabledDay:{onPick:function(t){var a=t.maxDate,i=t.minDate;e.choiceDay=i.getTime(),a&&(e.choiceDay="")},disabledDate:function(t){var a=new Date(e.choiceDay).getTime()-2592e6,i=new Date(e.choiceDay).getTime()+2592e6;return e.choiceDay?t.getTime()>i||t.getTime()<a||t.getTime()>Date.now()-864e5:(new Date).getTime()<new Date(t).getTime()}},disabledHour:{onPick:function(t){var a=t.maxDate,i=t.minDate;e.choiceHour=i.getTime(),a&&(e.choiceHour="")},disabledDate:function(t){var a=new Date(e.choiceHour).getTime()-864e5,i=new Date(e.choiceHour).getTime()+864e5;return e.choiceHour?t.getTime()>i||t.getTime()<a||t.getTime()>Date.now()-864e5:(new Date).getTime()<new Date(t).getTime()}},hideSearch:this.$getHideSearch("entryExitSearch"),pickTime:this.$getTimestam("4"),timeType:"4",defaultFormat:this.$getTimestam("4"),timeTypeList:[{label:"小时",value:"4"},{label:"按日",value:"3"},{label:"按月",value:"2"},{label:"按年",value:"1"}],sites:"",enableList:[{label:"启用",value:!0},{label:"停用",value:!1}],searchObj:{statisticType:"4"}}},props:{amountColumns:{default:function(){return[{value:1,label:"通关数"},{value:2,label:"平均通关时长"}]},type:Array},showType:{type:Boolean,default:!0},showSite:{type:Boolean,default:!0},hidedowload:{type:Boolean,default:!1},mixIncarOption2:{type:Array,default:function(){return[]}},mixinEntryExit:{type:Array,default:function(){return[]}},areaTree:{type:Array,default:function(){return[]}}},computed:{formatter:function(){var e="";return"4"===this.searchObj.statisticType?e="yyyy-MM-dd HH":"3"===this.searchObj.statisticType?e="yyyy-MM-dd":"2"===this.searchObj.statisticType?e="yyyy-MM":"1"===this.searchObj.statisticType&&(e="yyyy"),e},typeName:function(){var e="";return"4"===this.searchObj.statisticType?e="datetime":"3"===this.searchObj.statisticType?e="date":"2"===this.searchObj.statisticType?e="month":"1"===this.searchObj.statisticType&&(e="year"),e}},mounted:function(){console.log(this.pickTime)},methods:{getTimeDisabled:function(e,t){var a=void 0,i=void 0,n=void 0,r=void 0;"month"===e&&(a=new Date(this.choiceDate0).getTime(),i=new Date(a).setMonth(new Date(a).getMonth()-12),n=new Date(a).setMonth(new Date(a).getMonth()+12),r=new Date((new Date).toLocaleDateString()).getTime()+864e5-1),"day"===e&&(a=new Date(this.choiceDay).getTime(),i=new Date(a).getTime()-2592e6,n=new Date(a).getTime()+2592e6,r=new Date((new Date).toLocaleDateString()).getTime()),"hour"===e&&(a=new Date(this.choiceHour).getTime(),i=new Date(a).setDate(new Date(a).getDate()-1),n=new Date(a).setDate(new Date(a).getDate()+1));var s=i,l=r<n?r:n;return a?t.getTime()<s||t.getTime()>l:t.getTime()>r},changeYear2:function(){this.pickTime[1]=this.$getTimestam("666",this.pickTime[1])[0],console.log(this.pickTime[1])},changeShowType:function(){this.$emit("changeShowType",this.searchObj.amountColumn)},changeTime:function(){this.pickTime=this.$getTimestam(this.searchObj.statisticType),this.defaultFormat=this.pickTime,console.log(this.pickTime)},pickTimeAction:function(){console.log(this.pickTime)},changeSite:function(){this.searchObj.portOneId=[this.$getPortId(1,this.sites,this.areaTree)],this.searchObj.portTwoId=[this.$getPortId(2,this.sites,this.areaTree)],this.$refs.cascaderHandle.dropDownVisible=!1},clearUp:function(){var e={statisticType:this.timeTypeList[0].value};this.searchObj=e,this.sites="",this.$emit("clearUp")},searchAction:function(){this.searchObj.pickTime=this.pickTime,this.$emit("searchAction",this.searchObj)},download:function(){this.searchObj.pickTime=this.pickTime,this.$emit("downloadAction",this.searchObj)},pickerOptions:function(){var e=this;return{disabledDate:function(t){return t>new Date(e.pickTime[0]).getFullYear()}}}}},n=(a("/Rqf"),a("9wfB"),a("KHd+")),r=Object(n.a)(i,(function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"searchBox hideRangeClose"},[i("el-form",{attrs:{inline:"",model:t.searchObj,"label-width":"88px"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchAction.apply(null,arguments)}}},[t.showSite?i("el-form-item",{attrs:{label:"所属区域:"}},[i("el-cascader",{ref:"cascaderHandle",attrs:{clearable:"",options:t.areaTree,props:{checkStrictly:!0}},on:{change:t.changeSite},model:{value:t.sites,callback:function(e){t.sites=e},expression:"sites"}})],1):t._e(),t._v(" "),t.showType?i("el-form-item",{attrs:{label:"数据类型:"}},[i("el-select",{attrs:{placeholder:"请选择数据类型区分"},on:{change:t.changeShowType},model:{value:t.searchObj.amountColumn,callback:function(e){t.$set(t.searchObj,"amountColumn",e)},expression:"searchObj.amountColumn"}},t._l(t.amountColumns,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):t._e(),t._v(" "),t.hideSearch?i("el-form-item",{staticClass:"hideBorder",staticStyle:{width:"auto"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchAction}},[t._v("搜索")]),t._v(" "),t.hidedowload?i("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.download}},[t._v("下载Excel")]):t._e(),t._v(" "),i("el-button",{attrs:{type:"text",icon:t.hideSearch?"el-icon-arrow-down":"el-icon-arrow-up"},on:{click:function(e){t.hideSearch=t.$setHideSearch(t.hideSearch,"entryExitSearch")}}},[t._v(t._s(t.hideSearch?"展开":"收起"))])],1):t._e(),t._v(" "),t.hideSearch?t._e():i("el-form-item",{attrs:{label:"车辆类型:"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择车辆类型"},model:{value:t.searchObj.vehicleType,callback:function(e){t.$set(t.searchObj,"vehicleType",e)},expression:"searchObj.vehicleType"}},t._l(t.mixIncarOption2,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t._v(" "),t.hideSearch?t._e():i("el-form-item",{attrs:{label:"出入境类型:"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择出入境类型"},model:{value:t.searchObj.ioType,callback:function(e){t.$set(t.searchObj,"ioType",e)},expression:"searchObj.ioType"}},t._l(t.mixinEntryExit,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t._v(" "),t.hideSearch?t._e():i("el-form-item",{attrs:{label:"时间类型:"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{clearable:!1,placeholder:"请选择时间类型"},on:{change:t.changeTime},model:{value:t.searchObj.statisticType,callback:function(e){t.$set(t.searchObj,"statisticType",e)},expression:"searchObj.statisticType"}},t._l(t.timeTypeList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t._v(" "),t.hideSearch?t._e():i("el-form-item",{attrs:{label:"起止时间:"}},["4"===t.searchObj.statisticType?i("el-date-picker",{attrs:{clearable:!1,size:"small",type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","picker-options":t.disabledHour,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.pickTimeAction},model:{value:t.pickTime,callback:function(e){t.pickTime=e},expression:"pickTime"}}):t._e(),t._v(" "),"3"===t.searchObj.statisticType?i("el-date-picker",{attrs:{clearable:!1,size:"small","unlink-panels":"",type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","picker-options":t.disabledDay,"end-placeholder":"结束日期"},on:{change:t.pickTimeAction},model:{value:t.pickTime,callback:function(e){t.pickTime=e},expression:"pickTime"}}):t._e(),t._v(" "),"2"===t.searchObj.statisticType?i("el-date-picker",{attrs:{clearable:!1,size:"small","unlink-panels":"",type:"monthrange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","picker-options":t.disabledMonth,"end-placeholder":"结束日期"},on:{change:t.pickTimeAction},model:{value:t.pickTime,callback:function(e){t.pickTime=e},expression:"pickTime"}}):t._e(),t._v(" "),"1"===t.searchObj.statisticType?i("div",{staticClass:"format_Year"},[i("el-date-picker",{attrs:{format:"yyyy","value-format":"yyyy-MM-dd HH:mm:ss",type:"year",clearable:!1,placeholder:"开始","picker-options":{disabledDate:function(t){return new Date(t).getFullYear()-0>new Date(e.pickTime[1]).getFullYear()-0}}},model:{value:t.pickTime[0],callback:function(e){t.$set(t.pickTime,0,e)},expression:"pickTime[0]"}}),t._v(" "),i("span",{staticStyle:{color:"#eee"}},[t._v("至")]),t._v(" "),i("el-date-picker",{attrs:{format:"yyyy","value-format":"yyyy-MM-dd HH:mm:ss",type:"year",clearable:!1,placeholder:"结束","picker-options":{disabledDate:function(t){return new Date(t).getFullYear()-0>(new Date).getFullYear()-0||new Date(t).getFullYear()-0<new Date(e.pickTime[0]).getFullYear()-0}}},on:{change:t.changeYear2},model:{value:t.pickTime[1],callback:function(e){t.$set(t.pickTime,1,e)},expression:"pickTime[1]"}})],1):t._e()],1)],1),t._v(" "),t.hideSearch?t._e():i("div",{staticClass:"tags"},[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:t.searchAction}},[t._v("搜索")]),t._v(" "),t.hidedowload?i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-download"},on:{click:t.download}},[t._v("下载Excel")]):t._e(),t._v(" "),i("el-button",{attrs:{type:"text",size:"small",icon:t.hideSearch?"el-icon-arrow-down":"el-icon-arrow-up"},on:{click:function(e){t.hideSearch=t.$setHideSearch(t.hideSearch,"entryExitSearch")}}},[t._v(t._s(t.hideSearch?"展开":"收起"))])],1)],1)])}),[],!1,null,"319a92d3",null);t.a=r.exports},mBiI:function(e,t,a){},nUqH:function(e,t,a){},uf7H:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"i",(function(){return o})),a.d(t,"h",(function(){return c})),a.d(t,"g",(function(){return h})),a.d(t,"l",(function(){return m})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"k",(function(){return y})),a.d(t,"j",(function(){return p})),a.d(t,"e",(function(){return l}));var i=a("KEZ+"),n={data:function(){return{mixIncarOption:[{label:"汽车",value:1},{label:"货车",value:2}]}}},r={data:function(){return{mixIncarOption2:[]}},mounted:function(){this.mixinGetCarTypeList()},methods:{mixinGetCarTypeList:function(){var e=this;i.a.state.carTypeList&&i.a.state.carTypeList.length?this.mixIncarOption2=i.a.state.carTypeList:this.$request.getCarTypeList().then((function(t){var a=e.$objToArr(t.data);e.mixIncarOption2=a,i.a.state.carTypeList=a}))}}},s={data:function(){return{mixinCarIoType:[{label:"进口",value:"I",text:"进口"},{label:"出口",value:"O",text:"出口"}]}}},l={data:function(){return{mixinEntryExit:[{label:"入境",value:"I",text:"入境"},{label:"出境",value:"O",text:"出境"}]}}},o={data:function(){return{mixinChannelType:[]}},mounted:function(){this.mixinGetChannelType()},methods:{mixinGetChannelType:function(){var e=this;i.a.state.channelTypes&&i.a.state.channelTypes.length?this.mixinChannelType=i.a.state.channelTypes:this.$request.getChannelType().then((function(t){var a=e.$objToArr(t.data);e.mixinChannelType=a,i.a.state.channelTypes=a}))}}},c={data:function(){return{mixinChannelTag:[]}},mounted:function(){this.mixinGetChannelTag()},methods:{mixinGetChannelTag:function(){var e=this;i.a.state.channelTags&&i.a.state.channelTags.length?this.mixinChannelTag=i.a.state.channelTags:this.$request.getChannelTags().then((function(t){var a=e.$objToArr(t.data);e.mixinChannelTag=a,i.a.state.channelTags=a}))}}},h={data:function(){return{mixinAreaTree:[]}},mounted:function(){this.mixinGetAreaTree()},methods:{mixinGetAreaTree:function(){var e=this;this.$request.getApartmentTree().then((function(t){var a=t.data;e.$changeTree(a),e.mixinAreaTree=a}))}}},u={data:function(){return{mixinALlChannel:[],mixinALlChannelGuid:[]}},mounted:function(){this.mixinGetAllChannel()},methods:{mixinGetAllChannel:function(){var e=this;this.$request.getAllChannelData().then((function(t){var a=t.data,i=[],n=[];a.forEach((function(e,t){i.push({label:e.channelName,value:e.channelNo,text:e.channelName}),n.push({label:e.channelName,value:e.guid,text:e.channelName})})),e.mixinALlChannel=i,e.mixinALlChannelGuid=n}))}}},m={data:function(){return{mixinUserInOutType:[],mixinChannelInOutType:[]}},mounted:function(){this.mixinGetUserInOutType()},methods:{mixinGetUserInOutType:function(){var e=this;i.a.state.channelInOutType&&i.a.state.channelInOutType.length&&(this.mixinChannelInOutType=i.a.state.channelInOutType),i.a.state.userInOutType&&i.a.state.userInOutType.length?this.mixinUserInOutType=i.a.state.userInOutType:this.$request.getUserInOutType().then((function(t){var a=e.$objToArr(t.data);e.mixinUserInOutType=a,i.a.state.userInOutType=a;var n=[];a.forEach((function(e,t){""!==e.value&&n.push(e)})),e.mixinChannelInOutType=n,i.a.state.channelInOutType=n}))}}},d={data:function(){return{mixinDriveType:[{label:"正常入境",value:"0",text:"正常入境"},{label:"退出通道",value:"1",text:"退出通道"},{label:"驶入退车",value:"2",text:"驶入退车"}]}}},p={data:function(){return{mixinPictureBase:""}},mounted:function(){var e=this;console.log(i.a.state.mixinPictureBase),i.a.state.mixinPictureBase&&i.a.state.mixinPictureBase.length?this.mixinPictureBase=i.a.state.mixinPictureBase:this.$request.getPictureInfoBase().then((function(t){console.log(t),t.data&&(e.mixinPictureBase="http://"+t.data+"?id=",i.a.state.mixinPictureBase="http://"+t.data+"?id=")}))}},y={data:function(){return{mixinResult:[{label:"放行",value:"YP",text:"放行"},{label:"不放行",value:"NP",text:"不放行"},{label:"查验",value:"CP",text:"查验"},{label:"退车",value:"EP",text:"退车"},{label:"未处理",value:"NN",text:"未处理"},{label:"应急放行",value:"TP",text:"应急放行"},{label:"人工拦截",value:"MN",text:"人工拦截"},{label:"放行",value:"QYP",text:"放行"},{label:"不放行",value:"QNP",text:"不放行"},{label:"查验",value:"QCP",text:"查验"},{label:"退车",value:"QEP",text:"退车"}]}}}},zh8K:function(e,t,a){"use strict";var i=a("MT78"),n={name:"entryExitChart",props:{typeNow:{type:Number,default:1},notEntryExist:{type:Boolean,default:!0},tableData:{type:Array,default:function(){return[]}}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.tableData&&e.tableData.length&&e.initChart()}))},watch:{tableData:function(e){console.log("watchInit"),this.tableData=e,this.initChart()},typeNow:function(e){this.initChart()}},methods:{initChart:function(){var e=this;this.$refs.chart.style.height=window.innerHeight-176-document.querySelector(".searchBox2").offsetHeight+"px",this.chart&&this.chart.dispose(),this.chart=i.b(document.getElementById("entryExitChart")),console.log(this.tableData);var t=[],a=[];this.tableData.forEach((function(i,n){if("合计"!=i.titleName&&"总计"!=i.titleName){var r={};t.push(i.titleName),r.name=i.titleName,r.type="line",r.data=[],i.statisticsList.forEach((function(t,a){if(e.notEntryExist&&"总计"!==t.timeSlot&&"合计"!==t.timeSlot&&(1===e.typeNow?r.data.push(t.totalAmount):r.data.push(t.avgTime)),!e.notEntryExist&&"总计"!==t.timeSlot&&"合计"!==t.timeSlot){var i=3===e.typeNow?t.stayingAmount:4===e.typeNow?t.stayingAvgTime:5===e.typeNow?t.stayingMaxTime:"";r.data.push(i)}})),a.push(r)}})),console.log(a);var n=[];this.tableData[0].statisticsList.forEach((function(e,t){var a=e.timeSlot;"总计"!==a&&"合计"!==a&&n.push(a)})),this.chart.setOption({tooltip:{trigger:"axis",enterable:!0,renderMode:"html",extraCssText:"max-height: 80%; overflow-y: auto",position:function(e,t,a,i,n){var r=e[0],s=e[1],l=n.contentSize[0],o=n.contentSize[1];return[l>r?5:r-l,o>s?5:s-o]}},legend:{data:t,textStyle:{color:"#fff"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:n,axisLine:{lineStyle:{color:"white"}}},yAxis:{type:"value",axisLine:{show:!1,lineStyle:{color:"white"}}},series:a})}}},r=a("KHd+"),s=Object(r.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"chart",staticStyle:{width:"100%",height:"100%"},attrs:{id:"entryExitChart"}})])}),[],!1,null,"077171d5",null);t.a=s.exports}}]);