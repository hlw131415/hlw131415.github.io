(window.webpackJsonp=window.webpackJsonp||[]).push([[64,83],{"8Koo":function(e,t,l){},BTh0:function(e,t,l){"use strict";l.r(t);var a=l("cFG2"),i={name:"detail",props:{justLook:{type:Boolean,default:!1},doStatus:{type:Boolean,default:!1},changeStatus:{type:Boolean,default:!1},areaSelected:{type:Object,default:function(){}},options:{type:Array,default:function(){return[]}},dialogVisible:{type:Boolean,default:!1},parentId:"",isNewAdd:{type:Boolean,default:!0},selectedData:{type:Object,default:function(){}}},data:function(){var e=this;return{enable:[{label:"启用",value:"Y"},{label:"不启用",value:"N"}],ruleForm2:this.selectedData,noshowArae:!0,pickerOptionsStart:{disabledDate:function(t){var l=e.endTime;if(l)return t.getTime()>new Date(l).getTime()}},pickerOptionsEnd:{disabledDate:function(t){var l=e.startTime;if(l)return t.getTime()<new Date(l).getTime()||t.getTime()>Date.now()-864e5}},topId:"",pID:this.parentId,visible:this.dialogVisible,rules:{cname:this.$rules.validate("请输入月台名称"),code:this.$rules.validate("请输入通往区域"),type:this.$rules.validate("请选择车牌号"),ownName:this.$rules.validate("请输入姓名"),startTime:this.$rules.validate("请输入操作开始时间"),endTime:this.$rules.validate("请输入操作结束时间"),status:this.$rules.validate("请选择车辆类型"),man:this.$rules.validate("请输入出入境方式")}}},mounted:function(){},methods:{changeSite:function(){var e=this;setTimeout((function(){e.$refs.cascaderHandle.dropDownVisible=!1}))},changeTree:function(e){var t=this,l=[];!function e(a){return a.forEach((function(a,i){a.label=a.portName,a.value=a.guid,a.level-0==2&&(a.disabled=!0),t.ruleForm2.guid&&t.ruleForm2.guid===a.guid&&(a.disabled=!0),!1===a.isChange&&(a.disabled=!0),a.children&&a.children.length&&e(a.children),l.push(a)})),l}(e)},closeCallback:function(){this.$emit("editCallback")},submitForm:function(e){var t=this;if("Y"===e||"N"===e)return this.$message({type:"success",message:"操作成功！"}),this.ruleForm2.status="Y"===e?"审核通过":"审核不通过",this.$emit("editAction",this.ruleForm2),this.closeCallback(),!1;this.$refs.ruleForm.validate((function(e){e&&t.doAction()}))},doAction:function(){this.ruleForm2.guid?(this.$message({type:"success",message:"修改成功！"}),this.$emit("editAction",this.ruleForm2),this.closeCallback()):(this.ruleForm2.status="未审核",this.ruleForm2.man="admin",this.ruleForm2.operationMan="admin",this.ruleForm2.guid=(new Date).getTime(),this.$emit("addAction",this.ruleForm2),this.$message({type:"success",message:"添加成功！"}),this.closeCallback())},resetForm:function(e){this.$refs[e].resetFields()}},components:{Upload:a.default}},s=(l("eibU"),l("KHd+")),o=Object(s.a)(i,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{attrs:{"close-on-click-modal":!e.ruleForm2.guid,width:"800px",visible:e.visible,"destroy-on-close":""},on:{"update:visible":function(t){e.visible=t},close:e.closeCallback}},[l("div",{staticClass:"dialogTitleDiy"},[e._v("\n"+e._s(e.ruleForm2.guid?e.ruleForm2.guid&&e.doStatus?"企业审核":e.ruleForm2.guid&&!e.justLook?"编辑企业":"企业详情":"添加企业")+"\n      ")]),e._v(" "),l("el-form",{ref:"ruleForm",staticClass:"addArea",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules,disabled:e.doStatus||e.justLook,"label-width":"180px"}},[l("el-form-item",{attrs:{label:"月台名称",prop:"cname"}},[l("el-input",{attrs:{placeholder:"请输入月台名称"},model:{value:e.ruleForm2.cname,callback:function(t){e.$set(e.ruleForm2,"cname",t)},expression:"ruleForm2.cname"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"通往区域",prop:"code"}},[l("el-input",{attrs:{placeholder:"请输入通往区域"},model:{value:e.ruleForm2.code,callback:function(t){e.$set(e.ruleForm2,"code",t)},expression:"ruleForm2.code"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"车牌号",prop:"type"}},[l("el-input",{attrs:{placeholder:"请输入车牌号"},model:{value:e.ruleForm2.type,callback:function(t){e.$set(e.ruleForm2,"type",t)},expression:"ruleForm2.type"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"姓名",prop:"ownName"}},[l("el-input",{attrs:{placeholder:"请输入法人姓名"},model:{value:e.ruleForm2.ownName,callback:function(t){e.$set(e.ruleForm2,"ownName",t)},expression:"ruleForm2.ownName"}})],1),e._v(" "),l("el-form-item",{staticClass:"time",attrs:{label:"操作开始时间",prop:"startTime"}},[l("el-date-picker",{attrs:{type:"datetime",placeholder:"选择操作开始时间"},model:{value:e.ruleForm2.startTime,callback:function(t){e.$set(e.ruleForm2,"startTime",t)},expression:"ruleForm2.startTime"}})],1),e._v(" "),l("el-form-item",{staticClass:"time",attrs:{label:"操作结束时间",prop:"endTime"}},[l("el-date-picker",{attrs:{type:"datetime",placeholder:"选择操作结束时间"},model:{value:e.ruleForm2.endTime,callback:function(t){e.$set(e.ruleForm2,"endTime",t)},expression:"ruleForm2.endTime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"车辆类型",prop:"type"}},[l("el-select",{attrs:{placeholder:"请选择车辆类型"},model:{value:e.ruleForm2.status,callback:function(t){e.$set(e.ruleForm2,"status",t)},expression:"ruleForm2.status"}},e._l(e.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"出入境方式",prop:"ownPhone"}},[l("el-input",{attrs:{placeholder:"请输入出入境方式"},model:{value:e.ruleForm2.man,callback:function(t){e.$set(e.ruleForm2,"man",t)},expression:"ruleForm2.man"}})],1)],1),e._v(" "),e.doStatus?l("div",{staticClass:"btns",staticStyle:{"text-align":"center"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("Y")}}},[e._v("通过")]),e._v(" "),l("el-button",{attrs:{type:"info"},on:{click:function(t){return e.submitForm("N")}}},[e._v("不通过")])],1):e._e(),e._v(" "),e.doStatus||e.justLook?e._e():l("div",{staticClass:"btns",staticStyle:{"text-align":"center"}},[l("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.ruleForm2.guid?"编辑":"新增"))]),e._v(" "),l("el-button",{attrs:{type:"info"},on:{click:e.closeCallback}},[e._v("取消")])],1)],1)}),[],!1,null,"23fc51bb",null);t.default=o.exports},"Y+dC":function(e,t,l){},cFG2:function(e,t,l){"use strict";l.r(t);var a={data:function(){return{fileNow:this.value,dialogImageUrl:"",dialogVisible:!1,disabled:!1}},props:{disabledUpload:{type:Boolean,default:!1},value:{type:String,default:""}},methods:{changeFile:function(e,t){var l=e.target.files[0];this.fileNow=URL.createObjectURL(l),this.$emit("input",URL.createObjectURL(l))},handleRemove:function(e){console.log(e)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){console.log(e)}}},i=(l("rO0i"),l("KHd+")),s=Object(i.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"uploadWrapComponey"},[this.fileNow?t("el-image",{staticClass:"imgView",attrs:{src:this.fileNow}}):t("div",{staticClass:"plusWrap"},[t("i",{staticClass:"el-icon-plus plus"})]),this._v(" "),this.disabledUpload?this._e():t("input",{ref:"files",staticClass:"uploadInput",attrs:{type:"file",accept:"image/*"},on:{change:this.changeFile}})],1)}),[],!1,null,"5e4ab452",null);t.default=s.exports},eibU:function(e,t,l){"use strict";l("8Koo")},rO0i:function(e,t,l){"use strict";l("Y+dC")}}]);